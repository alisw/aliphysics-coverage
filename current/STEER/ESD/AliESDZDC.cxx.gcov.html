<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info - STEER/ESD/AliESDZDC.cxx</title>
  <link rel="stylesheet" type="text/css" href="../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../index.html">top level</a> - <a href="index.html">STEER/ESD</a> - AliESDZDC.cxx<span style="font-size: 80%;"> (source / <a href="AliESDZDC.cxx.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">127</td>
            <td class="headerCovTableEntry">248</td>
            <td class="headerCovTableEntryLo">51.2 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2016-06-14 17:26:59</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">8</td>
            <td class="headerCovTableEntry">13</td>
            <td class="headerCovTableEntryLo">61.5 %</td>
          </tr>
          <tr><td><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : /**************************************************************************</a>
<span class="lineNum">       2 </span>            :  * Copyright(c) 1998-1999, ALICE Experiment at CERN, All rights reserved. *
<span class="lineNum">       3 </span>            :  *                                                                        *
<span class="lineNum">       4 </span>            :  * Author: The ALICE Off-line Project.                                    *
<span class="lineNum">       5 </span>            :  * Contributors are mentioned in the code where appropriate.              *
<span class="lineNum">       6 </span>            :  *                                                                        *
<span class="lineNum">       7 </span>            :  * Permission to use, copy, modify and distribute this software and its   *
<span class="lineNum">       8 </span>            :  * documentation strictly for non-commercial purposes is hereby granted   *
<span class="lineNum">       9 </span>            :  * without fee, provided that the above copyright notice appears in all   *
<span class="lineNum">      10 </span>            :  * copies and that both the copyright notice and this permission notice   *
<span class="lineNum">      11 </span>            :  * appear in the supporting documentation. The authors make no claims     *
<span class="lineNum">      12 </span>            :  * about the suitability of this software for any purpose. It is          *
<span class="lineNum">      13 </span>            :  * provided &quot;as is&quot; without express or implied warranty.                  *
<span class="lineNum">      14 </span>            :  **************************************************************************/
<span class="lineNum">      15 </span>            : 
<span class="lineNum">      16 </span>            : 
<span class="lineNum">      17 </span>            : //-------------------------------------------------------------------------
<span class="lineNum">      18 </span>            : //                      Implementation of   Class AliESDZDC
<span class="lineNum">      19 </span>            : //   This is a class that summarizes the ZDC data
<span class="lineNum">      20 </span>            : //   for the ESD   
<span class="lineNum">      21 </span>            : //   Origin: Christian Klein-Boesing, CERN, Christian.Klein-Boesing@cern.ch 
<span class="lineNum">      22 </span>            : //-------------------------------------------------------------------------
<span class="lineNum">      23 </span>            : 
<span class="lineNum">      24 </span>            : #include &lt;TMath.h&gt;
<span class="lineNum">      25 </span>            : 
<a name="26"><span class="lineNum">      26 </span>            : #include &quot;AliESDZDC.h&quot;</a>
<span class="lineNum">      27 </span>            : 
<span class="lineNum">      28 </span><span class="lineCov">        172 : ClassImp(AliESDZDC)</span>
<a name="29"><span class="lineNum">      29 </span>            : </a>
<span class="lineNum">      30 </span>            : //______________________________________________________________________________
<span class="lineNum">      31 </span>            : AliESDZDC::AliESDZDC() :
<span class="lineNum">      32 </span><span class="lineCov">         20 :   AliVZDC(),</span>
<span class="lineNum">      33 </span><span class="lineCov">         20 :   fZDCN1Energy(0),</span>
<span class="lineNum">      34 </span><span class="lineCov">         20 :   fZDCP1Energy(0),</span>
<span class="lineNum">      35 </span><span class="lineCov">         20 :   fZDCN2Energy(0),</span>
<span class="lineNum">      36 </span><span class="lineCov">         20 :   fZDCP2Energy(0),</span>
<span class="lineNum">      37 </span><span class="lineCov">         20 :   fZDCEMEnergy(0),</span>
<span class="lineNum">      38 </span><span class="lineCov">         20 :   fZDCEMEnergy1(0),</span>
<span class="lineNum">      39 </span><span class="lineCov">         20 :   fZDCParticipants(0),</span>
<span class="lineNum">      40 </span><span class="lineCov">         20 :   fZDCPartSideA(0),</span>
<span class="lineNum">      41 </span><span class="lineCov">         20 :   fZDCPartSideC(0),</span>
<span class="lineNum">      42 </span><span class="lineCov">         20 :   fImpactParameter(0),</span>
<span class="lineNum">      43 </span><span class="lineCov">         20 :   fImpactParamSideA(0),</span>
<span class="lineNum">      44 </span><span class="lineCov">         20 :   fImpactParamSideC(0),</span>
<span class="lineNum">      45 </span><span class="lineCov">         20 :   fESDQuality(0),</span>
<span class="lineNum">      46 </span><span class="lineCov">         20 :   fZNCTDChit(kFALSE),</span>
<span class="lineNum">      47 </span><span class="lineCov">         20 :   fZNATDChit(kFALSE),</span>
<span class="lineNum">      48 </span><span class="lineCov">         20 :   fZPCTDChit(kFALSE),</span>
<span class="lineNum">      49 </span><span class="lineCov">         20 :   fZPATDChit(kFALSE),</span>
<span class="lineNum">      50 </span><span class="lineCov">         20 :   fZEM1TDChit(kFALSE),</span>
<span class="lineNum">      51 </span><span class="lineCov">         20 :   fZEM2TDChit(kFALSE)</span>
<span class="lineNum">      52 </span>            : 
<span class="lineNum">      53 </span><span class="lineCov">        100 : {</span>
<span class="lineNum">      54 </span><span class="lineCov">        240 :   for(Int_t i=0; i&lt;5; i++){</span>
<span class="lineNum">      55 </span><span class="lineCov">        100 :     fZN1TowerEnergy[i] = fZN2TowerEnergy[i] = 0.;</span>
<span class="lineNum">      56 </span><span class="lineCov">        100 :     fZP1TowerEnergy[i] = fZP2TowerEnergy[i] = 0.;</span>
<span class="lineNum">      57 </span><span class="lineCov">        100 :     fZN1TowerEnergyLR[i] = fZN2TowerEnergyLR[i] = 0.;</span>
<span class="lineNum">      58 </span><span class="lineCov">        100 :     fZP1TowerEnergyLR[i] = fZP2TowerEnergyLR[i] = 0.;</span>
<span class="lineNum">      59 </span>            :   }
<span class="lineNum">      60 </span><span class="lineCov">        120 :   for(Int_t i=0; i&lt;2; i++){</span>
<span class="lineNum">      61 </span><span class="lineCov">         40 :     fZNACentrCoord[i] = fZNCCentrCoord[i] = 0.;</span>
<span class="lineNum">      62 </span>            :   }
<span class="lineNum">      63 </span><span class="lineCov">       1320 :   for(Int_t i=0; i&lt;32; i++){</span>
<span class="lineNum">      64 </span><span class="lineCov">        640 :     fVMEScaler[i]=0;</span>
<span class="lineNum">      65 </span><span class="lineCov">       6400 :     for(Int_t y=0; y&lt;4; y++){</span>
<span class="lineNum">      66 </span><span class="lineCov">       2560 :       fZDCTDCData[i][y]=0;</span>
<span class="lineNum">      67 </span><span class="lineCov">       2560 :       fZDCTDCCorrected[i][y]=0.;</span>
<span class="lineNum">      68 </span>            :     }
<span class="lineNum">      69 </span>            :   }
<span class="lineNum">      70 </span><span class="lineCov">        320 :   for(int it=0; it&lt;7; it++) fZDCTDCChannels[it]=-1;</span>
<span class="lineNum">      71 </span><span class="lineCov">         40 : }</span>
<a name="72"><span class="lineNum">      72 </span>            : </a>
<span class="lineNum">      73 </span>            : //______________________________________________________________________________
<span class="lineNum">      74 </span>            : AliESDZDC::AliESDZDC(const AliESDZDC&amp; zdc) :
<span class="lineNum">      75 </span><span class="lineNoCov">          0 :   AliVZDC(zdc),</span>
<span class="lineNum">      76 </span><span class="lineNoCov">          0 :   fZDCN1Energy(zdc.fZDCN1Energy),</span>
<span class="lineNum">      77 </span><span class="lineNoCov">          0 :   fZDCP1Energy(zdc.fZDCP1Energy),</span>
<span class="lineNum">      78 </span><span class="lineNoCov">          0 :   fZDCN2Energy(zdc.fZDCN2Energy),</span>
<span class="lineNum">      79 </span><span class="lineNoCov">          0 :   fZDCP2Energy(zdc.fZDCP2Energy),</span>
<span class="lineNum">      80 </span><span class="lineNoCov">          0 :   fZDCEMEnergy(zdc.fZDCEMEnergy),</span>
<span class="lineNum">      81 </span><span class="lineNoCov">          0 :   fZDCEMEnergy1(zdc.fZDCEMEnergy1),</span>
<span class="lineNum">      82 </span><span class="lineNoCov">          0 :   fZDCParticipants(zdc.fZDCParticipants),</span>
<span class="lineNum">      83 </span><span class="lineNoCov">          0 :   fZDCPartSideA(zdc.fZDCPartSideA),</span>
<span class="lineNum">      84 </span><span class="lineNoCov">          0 :   fZDCPartSideC(zdc.fZDCPartSideC),</span>
<span class="lineNum">      85 </span><span class="lineNoCov">          0 :   fImpactParameter(zdc.fImpactParameter),</span>
<span class="lineNum">      86 </span><span class="lineNoCov">          0 :   fImpactParamSideA(zdc.fImpactParamSideA),</span>
<span class="lineNum">      87 </span><span class="lineNoCov">          0 :   fImpactParamSideC(zdc.fImpactParamSideC),</span>
<span class="lineNum">      88 </span><span class="lineNoCov">          0 :   fESDQuality(zdc.fESDQuality),</span>
<span class="lineNum">      89 </span><span class="lineNoCov">          0 :   fZNCTDChit(zdc.fZNCTDChit),</span>
<span class="lineNum">      90 </span><span class="lineNoCov">          0 :   fZNATDChit(zdc.fZNATDChit),</span>
<span class="lineNum">      91 </span><span class="lineNoCov">          0 :   fZPCTDChit(zdc.fZPCTDChit),</span>
<span class="lineNum">      92 </span><span class="lineNoCov">          0 :   fZPATDChit(zdc.fZPATDChit),</span>
<span class="lineNum">      93 </span><span class="lineNoCov">          0 :   fZEM1TDChit(zdc.fZEM1TDChit),</span>
<span class="lineNum">      94 </span><span class="lineNoCov">          0 :   fZEM2TDChit(zdc.fZEM2TDChit)</span>
<span class="lineNum">      95 </span>            : 
<span class="lineNum">      96 </span><span class="lineNoCov">          0 : {</span>
<span class="lineNum">      97 </span>            :   // copy constructor
<span class="lineNum">      98 </span><span class="lineNoCov">          0 :   for(Int_t i=0; i&lt;5; i++){</span>
<span class="lineNum">      99 </span><span class="lineNoCov">          0 :      fZN1TowerEnergy[i] = zdc.fZN1TowerEnergy[i];</span>
<span class="lineNum">     100 </span><span class="lineNoCov">          0 :      fZN2TowerEnergy[i] = zdc.fZN2TowerEnergy[i];</span>
<span class="lineNum">     101 </span><span class="lineNoCov">          0 :      fZP1TowerEnergy[i] = zdc.fZP1TowerEnergy[i];</span>
<span class="lineNum">     102 </span><span class="lineNoCov">          0 :      fZP2TowerEnergy[i] = zdc.fZP2TowerEnergy[i];</span>
<span class="lineNum">     103 </span><span class="lineNoCov">          0 :      fZN1TowerEnergyLR[i] = zdc.fZN1TowerEnergyLR[i];</span>
<span class="lineNum">     104 </span><span class="lineNoCov">          0 :      fZN2TowerEnergyLR[i] = zdc.fZN2TowerEnergyLR[i];</span>
<span class="lineNum">     105 </span><span class="lineNoCov">          0 :      fZP1TowerEnergyLR[i] = zdc.fZP1TowerEnergyLR[i];</span>
<span class="lineNum">     106 </span><span class="lineNoCov">          0 :      fZP2TowerEnergyLR[i] = zdc.fZP2TowerEnergyLR[i];</span>
<span class="lineNum">     107 </span>            :   }
<span class="lineNum">     108 </span><span class="lineNoCov">          0 :   for(Int_t i=0; i&lt;2; i++){</span>
<span class="lineNum">     109 </span><span class="lineNoCov">          0 :     fZNACentrCoord[i] = zdc.fZNACentrCoord[i];</span>
<span class="lineNum">     110 </span><span class="lineNoCov">          0 :     fZNCCentrCoord[i] = zdc.fZNCCentrCoord[i];</span>
<span class="lineNum">     111 </span>            :   }
<span class="lineNum">     112 </span><span class="lineNoCov">          0 :   for(Int_t i=0; i&lt;32; i++){</span>
<span class="lineNum">     113 </span><span class="lineNoCov">          0 :     fVMEScaler[i] = zdc.fVMEScaler[i];</span>
<span class="lineNum">     114 </span><span class="lineNoCov">          0 :     for(Int_t y=0; y&lt;4; y++){</span>
<span class="lineNum">     115 </span><span class="lineNoCov">          0 :        fZDCTDCData[i][y] = zdc.fZDCTDCData[i][y];</span>
<span class="lineNum">     116 </span><span class="lineNoCov">          0 :        fZDCTDCCorrected[i][y] = zdc.fZDCTDCCorrected[i][y];</span>
<span class="lineNum">     117 </span>            :     }
<span class="lineNum">     118 </span>            :   }
<span class="lineNum">     119 </span><span class="lineNoCov">          0 :   for(int it=0; it&lt;7; it++) fZDCTDCChannels[it]=zdc.fZDCTDCChannels[it];</span>
<span class="lineNum">     120 </span><span class="lineNoCov">          0 : }</span>
<a name="121"><span class="lineNum">     121 </span>            : </a>
<span class="lineNum">     122 </span>            : //______________________________________________________________________________
<span class="lineNum">     123 </span>            : AliESDZDC&amp; AliESDZDC::operator=(const AliESDZDC&amp;zdc)
<span class="lineNum">     124 </span>            : {
<span class="lineNum">     125 </span>            :   // assigment operator
<span class="lineNum">     126 </span><span class="lineCov">         20 :   if(this!=&amp;zdc) {</span>
<span class="lineNum">     127 </span><span class="lineCov">         10 :     AliVZDC::operator=(zdc);</span>
<span class="lineNum">     128 </span><span class="lineCov">         10 :     fZDCN1Energy = zdc.fZDCN1Energy;</span>
<span class="lineNum">     129 </span><span class="lineCov">         10 :     fZDCP1Energy = zdc.fZDCP1Energy;</span>
<span class="lineNum">     130 </span><span class="lineCov">         10 :     fZDCN2Energy = zdc.fZDCN2Energy;</span>
<span class="lineNum">     131 </span><span class="lineCov">         10 :     fZDCP2Energy = zdc.fZDCP2Energy;</span>
<span class="lineNum">     132 </span><span class="lineCov">         10 :     fZDCEMEnergy = zdc.fZDCEMEnergy;</span>
<span class="lineNum">     133 </span><span class="lineCov">         10 :     fZDCEMEnergy1 = zdc.fZDCEMEnergy1;</span>
<span class="lineNum">     134 </span><span class="lineCov">        120 :     for(Int_t i=0; i&lt;5; i++){</span>
<span class="lineNum">     135 </span><span class="lineCov">         50 :        fZN1TowerEnergy[i] = zdc.fZN1TowerEnergy[i];</span>
<span class="lineNum">     136 </span><span class="lineCov">         50 :        fZN2TowerEnergy[i] = zdc.fZN2TowerEnergy[i];</span>
<span class="lineNum">     137 </span><span class="lineCov">         50 :        fZP1TowerEnergy[i] = zdc.fZP1TowerEnergy[i];</span>
<span class="lineNum">     138 </span><span class="lineCov">         50 :        fZP2TowerEnergy[i] = zdc.fZP2TowerEnergy[i];</span>
<span class="lineNum">     139 </span><span class="lineCov">         50 :        fZN1TowerEnergyLR[i] = zdc.fZN1TowerEnergyLR[i];</span>
<span class="lineNum">     140 </span><span class="lineCov">         50 :        fZN2TowerEnergyLR[i] = zdc.fZN2TowerEnergyLR[i];</span>
<span class="lineNum">     141 </span><span class="lineCov">         50 :        fZP1TowerEnergyLR[i] = zdc.fZP1TowerEnergyLR[i];</span>
<span class="lineNum">     142 </span><span class="lineCov">         50 :        fZP2TowerEnergyLR[i] = zdc.fZP2TowerEnergyLR[i];</span>
<span class="lineNum">     143 </span>            :     }
<span class="lineNum">     144 </span>            :     //
<span class="lineNum">     145 </span><span class="lineCov">         10 :     fZDCParticipants = zdc.fZDCParticipants;</span>
<span class="lineNum">     146 </span><span class="lineCov">         10 :     fZDCPartSideA = zdc.fZDCPartSideA;</span>
<span class="lineNum">     147 </span><span class="lineCov">         10 :     fZDCPartSideC = zdc.fZDCPartSideC;</span>
<span class="lineNum">     148 </span><span class="lineCov">         10 :     fImpactParameter = zdc.fImpactParameter;</span>
<span class="lineNum">     149 </span><span class="lineCov">         10 :     fImpactParamSideA = zdc.fImpactParamSideA;</span>
<span class="lineNum">     150 </span><span class="lineCov">         10 :     fImpactParamSideC = zdc.fImpactParamSideC;</span>
<span class="lineNum">     151 </span>            :     //
<span class="lineNum">     152 </span><span class="lineCov">         60 :     for(Int_t i=0; i&lt;2; i++){</span>
<span class="lineNum">     153 </span><span class="lineCov">         20 :          fZNACentrCoord[i] = zdc.fZNACentrCoord[i];</span>
<span class="lineNum">     154 </span><span class="lineCov">         20 :          fZNCCentrCoord[i] = zdc.fZNCCentrCoord[i];</span>
<span class="lineNum">     155 </span>            :     }
<span class="lineNum">     156 </span>            :     //
<span class="lineNum">     157 </span><span class="lineCov">         10 :     fESDQuality = zdc.fESDQuality;</span>
<span class="lineNum">     158 </span><span class="lineCov">        660 :     for(Int_t i=0; i&lt;32; i++){</span>
<span class="lineNum">     159 </span><span class="lineCov">        320 :       fVMEScaler[i] = zdc.fVMEScaler[i];</span>
<span class="lineNum">     160 </span><span class="lineCov">       3200 :       for(Int_t y=0; y&lt;4; y++){ </span>
<span class="lineNum">     161 </span><span class="lineCov">       1280 :          fZDCTDCData[i][y] = zdc.fZDCTDCData[i][y];</span>
<span class="lineNum">     162 </span><span class="lineCov">       1280 :          fZDCTDCCorrected[i][y] = zdc.fZDCTDCCorrected[i][y];</span>
<span class="lineNum">     163 </span>            :       }
<span class="lineNum">     164 </span>            :     }
<span class="lineNum">     165 </span><span class="lineCov">         10 :   } </span>
<span class="lineNum">     166 </span><span class="lineCov">         10 :   fZNCTDChit = zdc.fZNCTDChit;</span>
<span class="lineNum">     167 </span><span class="lineCov">         10 :   fZNATDChit = zdc.fZNATDChit;</span>
<span class="lineNum">     168 </span><span class="lineCov">         10 :   fZPCTDChit = zdc.fZPCTDChit;</span>
<span class="lineNum">     169 </span><span class="lineCov">         10 :   fZPATDChit = zdc.fZPATDChit;</span>
<span class="lineNum">     170 </span><span class="lineCov">         10 :   fZEM1TDChit = zdc.fZEM1TDChit;</span>
<span class="lineNum">     171 </span><span class="lineCov">         10 :   fZEM2TDChit = zdc.fZEM2TDChit;</span>
<span class="lineNum">     172 </span>            :   
<span class="lineNum">     173 </span><span class="lineCov">        160 :   for(int it=0; it&lt;7; it++) fZDCTDCChannels[it]=zdc.fZDCTDCChannels[it];</span>
<span class="lineNum">     174 </span>            :  
<span class="lineNum">     175 </span><span class="lineCov">         10 :   return *this;</span>
<span class="lineNum">     176 </span>            : }
<a name="177"><span class="lineNum">     177 </span>            : </a>
<span class="lineNum">     178 </span>            : //______________________________________________________________________________
<span class="lineNum">     179 </span>            : void AliESDZDC::Copy(TObject &amp;obj) const {
<span class="lineNum">     180 </span>            :   
<span class="lineNum">     181 </span>            :   // this overwrites the virtual TOBject::Copy()
<span class="lineNum">     182 </span>            :   // to allow run time copying without casting
<span class="lineNum">     183 </span>            :   // in AliESDEvent
<span class="lineNum">     184 </span>            : 
<span class="lineNum">     185 </span><span class="lineCov">          4 :   if(this==&amp;obj)return;</span>
<span class="lineNum">     186 </span><span class="lineCov">          6 :   AliESDZDC *robj = dynamic_cast&lt;AliESDZDC*&gt;(&amp;obj);</span>
<span class="lineNum">     187 </span><span class="lineCov">          2 :   if(!robj)return; // not an AliESDZDC</span>
<span class="lineNum">     188 </span><span class="lineCov">          2 :   *robj = *this;</span>
<span class="lineNum">     189 </span>            : 
<span class="lineNum">     190 </span><span class="lineCov">          4 : }</span>
<span class="lineNum">     191 </span>            : 
<a name="192"><span class="lineNum">     192 </span>            : </a>
<span class="lineNum">     193 </span>            : //______________________________________________________________________________
<span class="lineNum">     194 </span>            : void AliESDZDC::Reset()
<span class="lineNum">     195 </span>            : {
<span class="lineNum">     196 </span>            :   // reset all data members
<span class="lineNum">     197 </span><span class="lineCov">         66 :   fZDCN1Energy=0;</span>
<span class="lineNum">     198 </span><span class="lineCov">         33 :   fZDCP1Energy=0;</span>
<span class="lineNum">     199 </span><span class="lineCov">         33 :   fZDCN2Energy=0;</span>
<span class="lineNum">     200 </span><span class="lineCov">         33 :   fZDCP2Energy=0;</span>
<span class="lineNum">     201 </span><span class="lineCov">         33 :   fZDCEMEnergy=0;</span>
<span class="lineNum">     202 </span><span class="lineCov">         33 :   fZDCEMEnergy1=0;</span>
<span class="lineNum">     203 </span><span class="lineCov">        396 :   for(Int_t i=0; i&lt;5; i++){</span>
<span class="lineNum">     204 </span><span class="lineCov">        165 :     fZN1TowerEnergy[i] = fZN2TowerEnergy[i] = 0.;</span>
<span class="lineNum">     205 </span><span class="lineCov">        165 :     fZP1TowerEnergy[i] = fZP2TowerEnergy[i] = 0.;</span>
<span class="lineNum">     206 </span><span class="lineCov">        165 :     fZN1TowerEnergyLR[i] = fZN2TowerEnergyLR[i] = 0.;</span>
<span class="lineNum">     207 </span><span class="lineCov">        165 :     fZP1TowerEnergyLR[i] = fZP2TowerEnergyLR[i] = 0.;</span>
<span class="lineNum">     208 </span>            :   }
<span class="lineNum">     209 </span><span class="lineCov">         33 :   fZDCParticipants=0;  </span>
<span class="lineNum">     210 </span><span class="lineCov">         33 :   fZDCPartSideA=0;  </span>
<span class="lineNum">     211 </span><span class="lineCov">         33 :   fZDCPartSideC=0;  </span>
<span class="lineNum">     212 </span><span class="lineCov">         33 :   fImpactParameter=0;</span>
<span class="lineNum">     213 </span><span class="lineCov">         33 :   fImpactParamSideA=0;</span>
<span class="lineNum">     214 </span><span class="lineCov">         33 :   fImpactParamSideC=0;</span>
<span class="lineNum">     215 </span><span class="lineCov">        198 :   for(Int_t i=0; i&lt;2; i++){</span>
<span class="lineNum">     216 </span><span class="lineCov">         66 :        fZNACentrCoord[i] = fZNCCentrCoord[i] = 0.;</span>
<span class="lineNum">     217 </span>            :   }
<span class="lineNum">     218 </span><span class="lineCov">         33 :   fESDQuality=0;</span>
<span class="lineNum">     219 </span><span class="lineCov">       2178 :   for(Int_t i=0; i&lt;32; i++){</span>
<span class="lineNum">     220 </span><span class="lineCov">       1056 :      fVMEScaler[i] = 0;</span>
<span class="lineNum">     221 </span><span class="lineCov">      10560 :      for(Int_t y=0; y&lt;4; y++){</span>
<span class="lineNum">     222 </span><span class="lineCov">       4224 :         fZDCTDCData[i][y] = 0;</span>
<span class="lineNum">     223 </span><span class="lineCov">       4224 :         fZDCTDCCorrected[i][y] = 0.;</span>
<span class="lineNum">     224 </span>            :      }
<span class="lineNum">     225 </span>            :   }
<span class="lineNum">     226 </span><span class="lineCov">         33 :   fZNCTDChit = kFALSE;</span>
<span class="lineNum">     227 </span><span class="lineCov">         33 :   fZNATDChit = kFALSE;</span>
<span class="lineNum">     228 </span><span class="lineCov">         33 :   fZPCTDChit = kFALSE;</span>
<span class="lineNum">     229 </span><span class="lineCov">         33 :   fZPATDChit = kFALSE;</span>
<span class="lineNum">     230 </span><span class="lineCov">         33 :   fZEM1TDChit = kFALSE;</span>
<span class="lineNum">     231 </span><span class="lineCov">         33 :   fZEM2TDChit = kFALSE;</span>
<span class="lineNum">     232 </span>            : 
<span class="lineNum">     233 </span><span class="lineCov">        528 :   for(int it=0; it&lt;7; it++) fZDCTDCChannels[it]=-1;</span>
<span class="lineNum">     234 </span>            : 
<span class="lineNum">     235 </span><span class="lineCov">         33 : }</span>
<a name="236"><span class="lineNum">     236 </span>            : </a>
<span class="lineNum">     237 </span>            : //______________________________________________________________________________
<span class="lineNum">     238 </span>            : void AliESDZDC::Print(const Option_t *) const
<span class="lineNum">     239 </span>            : {
<span class="lineNum">     240 </span>            :   //  Print ESD for the ZDC
<span class="lineNum">     241 </span><span class="lineNoCov">          0 :   printf(&quot; ### ZDC energies: \n&quot;);</span>
<span class="lineNum">     242 </span><span class="lineNoCov">          0 :   printf(&quot;\n \t E_ZNC = %1.2f (%1.2f+%1.2f+%1.2f+%1.2f+%1.2f) GeV \n \t E_ZNA = %1.2f (%1.2f+%1.2f+%1.2f+%1.2f+%1.2f) GeV\n&quot;</span>
<span class="lineNum">     243 </span>            :   &quot; \t E_ZPC = %1.2f GeV E_ZPA = %1.2f GeV&quot;
<span class="lineNum">     244 </span>            :   &quot;\n E_ZEM1 = %1.2f GeV,   E_ZEM2 = %1.2f GeV\n \n&quot;,
<span class="lineNum">     245 </span><span class="lineNoCov">          0 :   fZDCN1Energy, fZN1TowerEnergy[0], fZN1TowerEnergy[1], fZN1TowerEnergy[2], fZN1TowerEnergy[3], fZN1TowerEnergy[4], </span>
<span class="lineNum">     246 </span><span class="lineNoCov">          0 :   fZDCN2Energy, fZN2TowerEnergy[0], fZN2TowerEnergy[1], fZN2TowerEnergy[2], fZN2TowerEnergy[3], fZN2TowerEnergy[4], </span>
<span class="lineNum">     247 </span><span class="lineNoCov">          0 :   fZDCP1Energy,fZDCP2Energy, fZDCEMEnergy, fZDCEMEnergy1);</span>
<span class="lineNum">     248 </span>            :   //
<span class="lineNum">     249 </span>            :   /*printf(&quot; ### VMEScaler (!=0): \n&quot;);
<span class="lineNum">     250 </span>            :   for(Int_t i=0; i&lt;32; i++) if(fVMEScaler[i]!=0) printf(&quot;\t %d \n&quot;,fVMEScaler[i]);
<span class="lineNum">     251 </span>            :   printf(&quot;\n&quot;);*/
<span class="lineNum">     252 </span>            :   //
<span class="lineNum">     253 </span><span class="lineNoCov">          0 :   if(TestBit(AliESDZDC::kTDCcablingSet)) printf(&quot; ### TDC channels: ZNA %d  ZPA %d  ZEM1 %d  ZEM2 %d  ZNC %d  ZPC%d  L0 %d\n\n&quot;,</span>
<span class="lineNum">     254 </span><span class="lineNoCov">          0 :   fZDCTDCChannels[0],fZDCTDCChannels[1],fZDCTDCChannels[2],fZDCTDCChannels[3],fZDCTDCChannels[4],fZDCTDCChannels[5],fZDCTDCChannels[6]);</span>
<span class="lineNum">     255 </span>            :   /*for(Int_t i=0; i&lt;32; i++){
<span class="lineNum">     256 </span>            :     for(Int_t j=0; j&lt;4; j++)
<span class="lineNum">     257 </span>            :       if(TMath::Abs(fZDCTDCCorrected[i][j])&gt;1e-4) printf(&quot;\t %1.0f \n&quot;,fZDCTDCCorrected[i][j]);
<span class="lineNum">     258 </span>            :   }*/
<span class="lineNum">     259 </span><span class="lineNoCov">          0 :   printf(&quot;\n&quot;);</span>
<span class="lineNum">     260 </span><span class="lineNoCov">          0 : }</span>
<a name="261"><span class="lineNum">     261 </span>            : </a>
<span class="lineNum">     262 </span>            : //______________________________________________________________________________
<span class="lineNum">     263 </span>            : Bool_t AliESDZDC::GetZNCentroidInPbPb(Float_t beamEne, Double_t centrZNC[2], Double_t centrZNA[2]) 
<span class="lineNum">     264 </span>            : {
<span class="lineNum">     265 </span>            :   // Provide coordinates of centroid over ZN (side C) front face
<span class="lineNum">     266 </span><span class="lineNoCov">          0 :   if(beamEne==0){</span>
<span class="lineNum">     267 </span><span class="lineNoCov">          0 :     printf(&quot; ZDC centroid in PbPb can't be calculated with E_beam = 0 !!!\n&quot;);</span>
<span class="lineNum">     268 </span><span class="lineNoCov">          0 :     for(Int_t jj=0; jj&lt;2; jj++) fZNCCentrCoord[jj] = 999.;</span>
<span class="lineNum">     269 </span><span class="lineNoCov">          0 :     return kFALSE;</span>
<span class="lineNum">     270 </span>            :   }
<span class="lineNum">     271 </span>            : 
<span class="lineNum">     272 </span>            :   const Float_t x[4] = {-1.75, 1.75, -1.75, 1.75};
<span class="lineNum">     273 </span>            :   const Float_t y[4] = {-1.75, -1.75, 1.75, 1.75};
<span class="lineNum">     274 </span>            :   const Float_t alpha=0.395;
<span class="lineNum">     275 </span>            :   Float_t numXZNC=0., numYZNC=0., denZNC=0., cZNC, wZNC; 
<span class="lineNum">     276 </span>            :   Float_t numXZNA=0., numYZNA=0., denZNA=0., cZNA, wZNA; 
<span class="lineNum">     277 </span>            :   //
<span class="lineNum">     278 </span><span class="lineNoCov">          0 :   for(Int_t i=0; i&lt;4; i++){</span>
<span class="lineNum">     279 </span><span class="lineNoCov">          0 :     if(fZN1TowerEnergy[i+1]&gt;0.) {</span>
<span class="lineNum">     280 </span><span class="lineNoCov">          0 :       wZNC = TMath::Power(fZN1TowerEnergy[i+1], alpha);</span>
<span class="lineNum">     281 </span><span class="lineNoCov">          0 :       numXZNC += x[i]*wZNC;</span>
<span class="lineNum">     282 </span><span class="lineNoCov">          0 :       numYZNC += y[i]*wZNC;</span>
<span class="lineNum">     283 </span><span class="lineNoCov">          0 :       denZNC += wZNC;</span>
<span class="lineNum">     284 </span><span class="lineNoCov">          0 :     }</span>
<span class="lineNum">     285 </span><span class="lineNoCov">          0 :     if(fZN2TowerEnergy[i+1]&gt;0.) {</span>
<span class="lineNum">     286 </span><span class="lineNoCov">          0 :       wZNA = TMath::Power(fZN2TowerEnergy[i+1], alpha);</span>
<span class="lineNum">     287 </span><span class="lineNoCov">          0 :       numXZNA += x[i]*wZNA;</span>
<span class="lineNum">     288 </span><span class="lineNoCov">          0 :       numYZNA += y[i]*wZNA;</span>
<span class="lineNum">     289 </span><span class="lineNoCov">          0 :       denZNA += wZNA;</span>
<span class="lineNum">     290 </span><span class="lineNoCov">          0 :     }</span>
<span class="lineNum">     291 </span>            :   }
<span class="lineNum">     292 </span>            :   //
<span class="lineNum">     293 </span><span class="lineNoCov">          0 :   if(denZNC!=0){</span>
<span class="lineNum">     294 </span><span class="lineNoCov">          0 :     Float_t nSpecnC = fZDCN1Energy/beamEne;</span>
<span class="lineNum">     295 </span><span class="lineNoCov">          0 :     cZNC = 1.89358-0.71262/(nSpecnC+0.71789);</span>
<span class="lineNum">     296 </span><span class="lineNoCov">          0 :     fZNCCentrCoord[0] = cZNC*numXZNC/denZNC;</span>
<span class="lineNum">     297 </span><span class="lineNoCov">          0 :     fZNCCentrCoord[1] = cZNC*numYZNC/denZNC;</span>
<span class="lineNum">     298 </span><span class="lineNoCov">          0 :   } </span>
<span class="lineNum">     299 </span>            :   else{
<span class="lineNum">     300 </span><span class="lineNoCov">          0 :     fZNCCentrCoord[0] = fZNCCentrCoord[1] = 999.;</span>
<span class="lineNum">     301 </span>            :   }
<span class="lineNum">     302 </span><span class="lineNoCov">          0 :   if(denZNA!=0){</span>
<span class="lineNum">     303 </span><span class="lineNoCov">          0 :     Float_t nSpecnA = fZDCN2Energy/beamEne;</span>
<span class="lineNum">     304 </span><span class="lineNoCov">          0 :     cZNA = 1.89358-0.71262/(nSpecnA+0.71789);</span>
<span class="lineNum">     305 </span><span class="lineNoCov">          0 :     fZNACentrCoord[0] = cZNA*numXZNA/denZNA;</span>
<span class="lineNum">     306 </span><span class="lineNoCov">          0 :     fZNACentrCoord[1] = cZNA*numYZNA/denZNA;</span>
<span class="lineNum">     307 </span><span class="lineNoCov">          0 :   } </span>
<span class="lineNum">     308 </span>            :   else{
<span class="lineNum">     309 </span><span class="lineNoCov">          0 :     fZNACentrCoord[0] = fZNACentrCoord[1] = 999.;</span>
<span class="lineNum">     310 </span>            :   }
<span class="lineNum">     311 </span>            :   //
<span class="lineNum">     312 </span><span class="lineNoCov">          0 :   for(Int_t il=0; il&lt;2; il++){</span>
<span class="lineNum">     313 </span><span class="lineNoCov">          0 :     centrZNC[il] = fZNCCentrCoord[il];</span>
<span class="lineNum">     314 </span><span class="lineNoCov">          0 :     centrZNA[il] = fZNACentrCoord[il];</span>
<span class="lineNum">     315 </span>            :   }
<span class="lineNum">     316 </span>            :   
<span class="lineNum">     317 </span>            :   return kTRUE;
<span class="lineNum">     318 </span><span class="lineNoCov">          0 : }</span>
<a name="319"><span class="lineNum">     319 </span>            : </a>
<span class="lineNum">     320 </span>            : //______________________________________________________________________________
<span class="lineNum">     321 </span>            : Bool_t AliESDZDC::GetZNCentroidInpp(Double_t centrZNC[2], Double_t centrZNA[2]) 
<span class="lineNum">     322 </span>            : {
<span class="lineNum">     323 </span>            :   // Provide coordinates of centroid over ZN (side C) front face
<span class="lineNum">     324 </span>            :   const Float_t x[4] = {-1.75, 1.75, -1.75, 1.75};
<span class="lineNum">     325 </span>            :   const Float_t y[4] = {-1.75, -1.75, 1.75, 1.75};
<span class="lineNum">     326 </span>            :   const Float_t alpha=0.5;
<span class="lineNum">     327 </span>            :   Float_t numXZNC=0., numYZNC=0., denZNC=0., wZNC; 
<span class="lineNum">     328 </span>            :   Float_t numXZNA=0., numYZNA=0., denZNA=0., wZNA; 
<span class="lineNum">     329 </span>            :   //
<span class="lineNum">     330 </span><span class="lineNoCov">          0 :   for(Int_t i=0; i&lt;4; i++){</span>
<span class="lineNum">     331 </span><span class="lineNoCov">          0 :     if(fZN1TowerEnergy[i+1]&gt;0.) {</span>
<span class="lineNum">     332 </span><span class="lineNoCov">          0 :       wZNC = TMath::Power(fZN1TowerEnergy[i+1], alpha);</span>
<span class="lineNum">     333 </span><span class="lineNoCov">          0 :       numXZNC += x[i]*wZNC;</span>
<span class="lineNum">     334 </span><span class="lineNoCov">          0 :       numYZNC += y[i]*wZNC;</span>
<span class="lineNum">     335 </span><span class="lineNoCov">          0 :       denZNC += wZNC;</span>
<span class="lineNum">     336 </span><span class="lineNoCov">          0 :     }</span>
<span class="lineNum">     337 </span><span class="lineNoCov">          0 :     if(fZN2TowerEnergy[i+1]&gt;0.) {</span>
<span class="lineNum">     338 </span><span class="lineNoCov">          0 :       wZNA = TMath::Power(fZN2TowerEnergy[i+1], alpha);</span>
<span class="lineNum">     339 </span><span class="lineNoCov">          0 :       numXZNA += x[i]*wZNA;</span>
<span class="lineNum">     340 </span><span class="lineNoCov">          0 :       numYZNA += y[i]*wZNA;</span>
<span class="lineNum">     341 </span><span class="lineNoCov">          0 :       denZNA += wZNA;</span>
<span class="lineNum">     342 </span><span class="lineNoCov">          0 :     }</span>
<span class="lineNum">     343 </span>            :   }
<span class="lineNum">     344 </span>            :   //
<span class="lineNum">     345 </span><span class="lineNoCov">          0 :   if(denZNC!=0){</span>
<span class="lineNum">     346 </span><span class="lineNoCov">          0 :     fZNCCentrCoord[0] = numXZNC/denZNC;</span>
<span class="lineNum">     347 </span><span class="lineNoCov">          0 :     fZNCCentrCoord[1] = numYZNC/denZNC;</span>
<span class="lineNum">     348 </span><span class="lineNoCov">          0 :   } </span>
<span class="lineNum">     349 </span>            :   else{
<span class="lineNum">     350 </span><span class="lineNoCov">          0 :     fZNCCentrCoord[0] = fZNCCentrCoord[1] = 999.;</span>
<span class="lineNum">     351 </span>            :   }
<span class="lineNum">     352 </span><span class="lineNoCov">          0 :   if(denZNA!=0){</span>
<span class="lineNum">     353 </span><span class="lineNoCov">          0 :     fZNACentrCoord[0] = numXZNA/denZNA;</span>
<span class="lineNum">     354 </span><span class="lineNoCov">          0 :     fZNACentrCoord[1] = numYZNA/denZNA;</span>
<span class="lineNum">     355 </span><span class="lineNoCov">          0 :   } </span>
<span class="lineNum">     356 </span>            :   else{
<span class="lineNum">     357 </span><span class="lineNoCov">          0 :     fZNACentrCoord[0] = fZNACentrCoord[1] = 999.;</span>
<span class="lineNum">     358 </span>            :   }
<span class="lineNum">     359 </span>            :   //
<span class="lineNum">     360 </span><span class="lineNoCov">          0 :   for(Int_t il=0; il&lt;2; il++){</span>
<span class="lineNum">     361 </span><span class="lineNoCov">          0 :     centrZNC[il] = fZNCCentrCoord[il];</span>
<span class="lineNum">     362 </span><span class="lineNoCov">          0 :     centrZNA[il] = fZNACentrCoord[il];</span>
<span class="lineNum">     363 </span>            :   }
<span class="lineNum">     364 </span>            :   
<span class="lineNum">     365 </span><span class="lineNoCov">          0 :   return kTRUE;</span>
<span class="lineNum">     366 </span>            : }
<a name="367"><span class="lineNum">     367 </span>            : </a>
<span class="lineNum">     368 </span>            : //______________________________________________________________________________
<span class="lineNum">     369 </span>            : Float_t AliESDZDC::GetZNTDCSum(Int_t ihit) const
<span class="lineNum">     370 </span>            : {
<span class="lineNum">     371 </span><span class="lineCov">         16 :     if(ihit&gt;4 || !(AliESDZDC::kCorrectedTDCFilled)){</span>
<span class="lineNum">     372 </span><span class="lineNoCov">          0 :       return 1000.; // only up to 4 hits are stored &amp;&amp; return sum only for calibrated TDCs</span>
<span class="lineNum">     373 </span>            :     }
<span class="lineNum">     374 </span>            :     else{
<span class="lineNum">     375 </span><span class="lineCov">          8 :       if(!(TestBit(AliESDZDC::kTDCcablingSet))){ // RUN1: data cabled ch. hardwired in the code</span>
<span class="lineNum">     376 </span><span class="lineNoCov">          0 :          if((fZDCTDCData[10][ihit]!=0) &amp;&amp; (fZDCTDCData[12][ihit]!=0)) return (Float_t) (fZDCTDCCorrected[10][ihit]+fZDCTDCCorrected[12][ihit]);</span>
<span class="lineNum">     377 </span><span class="lineNoCov">          0 :          else return 999.;</span>
<span class="lineNum">     378 </span>            :       }
<span class="lineNum">     379 </span>            :       else{ // RUN2: everything done from mapping
<span class="lineNum">     380 </span><span class="lineCov">          8 :          if(fZDCTDCChannels[4]&lt;0 ||  fZDCTDCChannels[2]&lt;0){// RUN2 data but without signal code!!! </span>
<span class="lineNum">     381 </span><span class="lineCov">          8 :            if((fZDCTDCData[16][ihit]!=0) &amp;&amp; (fZDCTDCData[18][ihit]!=0)) return (Float_t) (fZDCTDCCorrected[16][ihit]+fZDCTDCCorrected[18][ihit]);</span>
<span class="lineNum">     382 </span><span class="lineCov">          8 :            else return 998.;</span>
<span class="lineNum">     383 </span>            :          }
<span class="lineNum">     384 </span>            :          else{
<span class="lineNum">     385 </span><span class="lineNoCov">          0 :            if((fZDCTDCData[fZDCTDCChannels[4]][ihit]!=0) &amp;&amp; (fZDCTDCData[fZDCTDCChannels[2]][ihit]!=0)) return (Float_t) (fZDCTDCCorrected[fZDCTDCChannels[4]][ihit]+fZDCTDCCorrected[fZDCTDCChannels[2]][ihit]);</span>
<span class="lineNum">     386 </span><span class="lineNoCov">          0 :            else return 997.;</span>
<span class="lineNum">     387 </span>            :          }
<span class="lineNum">     388 </span>            :       }
<span class="lineNum">     389 </span>            :    }
<span class="lineNum">     390 </span><span class="lineCov">          8 : }</span>
<a name="391"><span class="lineNum">     391 </span>            : </a>
<span class="lineNum">     392 </span>            : //______________________________________________________________________________
<span class="lineNum">     393 </span>            : Float_t AliESDZDC::GetZNTDCDiff(Int_t ihit) const
<span class="lineNum">     394 </span>            : {
<span class="lineNum">     395 </span><span class="lineCov">         16 :     if(ihit&gt;4 || !(AliESDZDC::kCorrectedTDCFilled)){</span>
<span class="lineNum">     396 </span><span class="lineNoCov">          0 :       return 1000.; // only up to 4 hits are stored &amp;&amp; return sum only for calibrated TDCs</span>
<span class="lineNum">     397 </span>            :     }
<span class="lineNum">     398 </span>            :     else{
<span class="lineNum">     399 </span><span class="lineCov">          8 :       if(!(TestBit(AliESDZDC::kTDCcablingSet))){ // RUN1: data cabled ch. hardwired in the code</span>
<span class="lineNum">     400 </span><span class="lineNoCov">          0 :          if((fZDCTDCData[10][ihit]!=0) &amp;&amp; (fZDCTDCData[12][ihit]!=0)) return (Float_t) (fZDCTDCCorrected[10][ihit]-fZDCTDCCorrected[12][ihit]);</span>
<span class="lineNum">     401 </span><span class="lineNoCov">          0 :          else return 999.;</span>
<span class="lineNum">     402 </span>            :       }
<span class="lineNum">     403 </span>            :       else{ // RUN2: everything done from mapping
<span class="lineNum">     404 </span><span class="lineCov">          8 :          if(fZDCTDCChannels[4]&lt;0 ||  fZDCTDCChannels[2]&lt;0){// RUN2 data but without signal code!!! </span>
<span class="lineNum">     405 </span><span class="lineCov">          8 :            if((fZDCTDCData[16][ihit]!=0) &amp;&amp; (fZDCTDCData[18][ihit]!=0)) return (Float_t) (fZDCTDCCorrected[16][ihit]-fZDCTDCCorrected[18][ihit]);</span>
<span class="lineNum">     406 </span><span class="lineCov">          8 :            else return 998.;</span>
<span class="lineNum">     407 </span>            :          }
<span class="lineNum">     408 </span>            :          else{
<span class="lineNum">     409 </span><span class="lineNoCov">          0 :            if((fZDCTDCData[fZDCTDCChannels[4]][ihit]!=0) &amp;&amp; (fZDCTDCData[fZDCTDCChannels[2]][ihit]!=0)) return (Float_t) (fZDCTDCCorrected[fZDCTDCChannels[2]][ihit]-fZDCTDCCorrected[fZDCTDCChannels[4]][ihit]);</span>
<span class="lineNum">     410 </span><span class="lineNoCov">          0 :            else return 997.;</span>
<span class="lineNum">     411 </span>            :          }
<span class="lineNum">     412 </span>            :       }
<span class="lineNum">     413 </span>            :    }
<span class="lineNum">     414 </span><span class="lineCov">          8 : }</span>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.11</a></td></tr>
  </table>
  <br>

</body>
</html>
