<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info - HLT/MUON/OfflineInterface/AliHLTMUONAgent.cxx</title>
  <link rel="stylesheet" type="text/css" href="../../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../../index.html">top level</a> - <a href="index.html">HLT/MUON/OfflineInterface</a> - AliHLTMUONAgent.cxx<span style="font-size: 80%;"> (source / <a href="AliHLTMUONAgent.cxx.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">28</td>
            <td class="headerCovTableEntry">257</td>
            <td class="headerCovTableEntryLo">10.9 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2016-06-14 17:26:59</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">8</td>
            <td class="headerCovTableEntry">19</td>
            <td class="headerCovTableEntryLo">42.1 %</td>
          </tr>
          <tr><td><img src="../../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : /**************************************************************************</a>
<span class="lineNum">       2 </span>            :  * Copyright(c) 1998-2007, ALICE Experiment at CERN, All rights reserved. *
<span class="lineNum">       3 </span>            :  *                                                                        *
<span class="lineNum">       4 </span>            :  * Author: The ALICE Off-line Project.                                    *
<span class="lineNum">       5 </span>            :  * Contributors are mentioned in the code where appropriate.              *
<span class="lineNum">       6 </span>            :  *                                                                        *
<span class="lineNum">       7 </span>            :  * Permission to use, copy, modify and distribute this software and its   *
<span class="lineNum">       8 </span>            :  * documentation strictly for non-commercial purposes is hereby granted   *
<span class="lineNum">       9 </span>            :  * without fee, provided that the above copyright notice appears in all   *
<span class="lineNum">      10 </span>            :  * copies and that both the copyright notice and this permission notice   *
<span class="lineNum">      11 </span>            :  * appear in the supporting documentation. The authors make no claims     *
<span class="lineNum">      12 </span>            :  * about the suitability of this software for any purpose. It is          *
<span class="lineNum">      13 </span>            :  * provided &quot;as is&quot; without express or implied warranty.                  *
<span class="lineNum">      14 </span>            :  **************************************************************************/
<span class="lineNum">      15 </span>            : 
<span class="lineNum">      16 </span>            : // $Id$
<span class="lineNum">      17 </span>            : 
<span class="lineNum">      18 </span>            : ///
<span class="lineNum">      19 </span>            : /// @file   AliHLTMUONAgent.cxx
<span class="lineNum">      20 </span>            : /// @author Artur Szostak &lt;artursz@iafrica.com&gt;
<span class="lineNum">      21 </span>            : /// @date   28 May 2007
<span class="lineNum">      22 </span>            : /// @brief  Implementation of the AliHLTMUONAgent class.
<span class="lineNum">      23 </span>            : ///
<span class="lineNum">      24 </span>            : 
<span class="lineNum">      25 </span>            : #include &quot;AliHLTMUONAgent.h&quot;
<span class="lineNum">      26 </span>            : #include &quot;AliHLTMUONConstants.h&quot;
<span class="lineNum">      27 </span>            : #include &quot;AliHLTMUONRecHitsSource.h&quot;
<span class="lineNum">      28 </span>            : #include &quot;AliHLTMUONTriggerRecordsSource.h&quot;
<span class="lineNum">      29 </span>            : #include &quot;AliHLTMUONDigitPublisherComponent.h&quot;
<span class="lineNum">      30 </span>            : #include &quot;AliHLTMUONRootifierComponent.h&quot;
<span class="lineNum">      31 </span>            : #include &quot;AliHLTMUONHitReconstructorComponent.h&quot;
<span class="lineNum">      32 </span>            : #include &quot;AliHLTMUONTriggerReconstructorComponent.h&quot;
<span class="lineNum">      33 </span>            : #include &quot;AliHLTMUONMansoTrackerFSMComponent.h&quot;
<span class="lineNum">      34 </span>            : #include &quot;AliHLTMUONFullTrackerComponent.h&quot;
<span class="lineNum">      35 </span>            : #include &quot;AliHLTMUONDecisionComponent.h&quot;
<span class="lineNum">      36 </span>            : #include &quot;AliHLTMUONESDMaker.h&quot;
<span class="lineNum">      37 </span>            : #include &quot;AliHLTMUONEmptyEventFilterComponent.h&quot;
<span class="lineNum">      38 </span>            : #include &quot;AliHLTMUONDataCheckerComponent.h&quot;
<span class="lineNum">      39 </span>            : #include &quot;AliHLTMUONClusterFinderComponent.h&quot;
<span class="lineNum">      40 </span>            : #include &quot;AliHLTMUONRawDataHistoComponent.h&quot;
<span class="lineNum">      41 </span>            : #include &quot;AliHLTMUONClusterHistoComponent.h&quot;
<span class="lineNum">      42 </span>            : #include &quot;AliHLTOUTHandlerChain.h&quot;
<span class="lineNum">      43 </span>            : #include &quot;AliHLTOUTHandlerIgnore.h&quot;
<span class="lineNum">      44 </span>            : #include &quot;AliRawReader.h&quot;
<span class="lineNum">      45 </span>            : #include &quot;AliRunLoader.h&quot;
<span class="lineNum">      46 </span>            : #include &quot;AliRun.h&quot;
<span class="lineNum">      47 </span>            : #include &quot;AliMUON.h&quot;
<span class="lineNum">      48 </span>            : #include &quot;AliDAQ.h&quot;
<span class="lineNum">      49 </span>            : #include &quot;TSystem.h&quot;
<span class="lineNum">      50 </span>            : #include &quot;TObjArray.h&quot;
<span class="lineNum">      51 </span>            : #include &quot;TString.h&quot;
<a name="52"><span class="lineNum">      52 </span>            : </a>
<span class="lineNum">      53 </span>            : // The single global instance of the dimuon HLT agent.
<a name="54"><span class="lineNum">      54 </span><span class="lineCov">          6 : AliHLTMUONAgent AliHLTMUONAgent::fgkInstance;</span></a>
<span class="lineNum">      55 </span>            : 
<span class="lineNum">      56 </span><span class="lineCov">          6 : AliHLTOUTHandlerIgnore AliHLTMUONAgent::fgkDataIgnoreHandler;</span>
<span class="lineNum">      57 </span>            : Int_t AliHLTMUONAgent::fgMuonModuleLoaded = 0;
<span class="lineNum">      58 </span>            : bool AliHLTMUONAgent::fgRunRootifyChain = false;
<a name="59"><span class="lineNum">      59 </span>            : </a>
<span class="lineNum">      60 </span>            : 
<span class="lineNum">      61 </span><span class="lineCov">          6 : ClassImp(AliHLTMUONAgent);</span>
<a name="62"><span class="lineNum">      62 </span>            : </a>
<span class="lineNum">      63 </span>            : 
<span class="lineNum">      64 </span>            : bool AliHLTMUONAgent::IsMuonModuleLoaded()
<span class="lineNum">      65 </span>            : {
<span class="lineNum">      66 </span>            :         /// Checks to see if the MUON module is loaded or not.
<span class="lineNum">      67 </span>            : 
<span class="lineNum">      68 </span>            :         // If the check was already done then use the cached value.
<span class="lineNum">      69 </span><span class="lineNoCov">          0 :         if (fgMuonModuleLoaded &gt; 0) return true;</span>
<span class="lineNum">      70 </span><span class="lineNoCov">          0 :         if (fgMuonModuleLoaded &lt; 0) return false;</span>
<span class="lineNum">      71 </span>            :         
<span class="lineNum">      72 </span><span class="lineNoCov">          0 :         if (gAlice != NULL)</span>
<span class="lineNum">      73 </span>            :         {
<span class="lineNum">      74 </span>            :                 // Search for a module in gAlice deriving from AliMUON.
<span class="lineNum">      75 </span><span class="lineNoCov">          0 :                 TIter next(gAlice-&gt;Modules());</span>
<span class="lineNum">      76 </span>            :                 TObject* mod = NULL;
<span class="lineNum">      77 </span><span class="lineNoCov">          0 :                 while ((mod = next()) != NULL)</span>
<span class="lineNum">      78 </span>            :                 {
<span class="lineNum">      79 </span><span class="lineNoCov">          0 :                         if (mod-&gt;InheritsFrom(AliMUON::Class()))</span>
<span class="lineNum">      80 </span>            :                         {
<span class="lineNum">      81 </span><span class="lineNoCov">          0 :                                 fgMuonModuleLoaded = 1;</span>
<span class="lineNum">      82 </span><span class="lineNoCov">          0 :                                 return true;</span>
<span class="lineNum">      83 </span>            :                         }
<span class="lineNum">      84 </span>            :                 }
<span class="lineNum">      85 </span><span class="lineNoCov">          0 :         }</span>
<span class="lineNum">      86 </span>            :         
<span class="lineNum">      87 </span><span class="lineNoCov">          0 :         fgMuonModuleLoaded = -1;</span>
<span class="lineNum">      88 </span><span class="lineNoCov">          0 :         return false;</span>
<span class="lineNum">      89 </span><span class="lineNoCov">          0 : }</span>
<a name="90"><span class="lineNum">      90 </span>            : </a>
<span class="lineNum">      91 </span>            : 
<span class="lineNum">      92 </span><span class="lineCov">          3 : AliHLTMUONAgent::AliHLTMUONAgent() : AliHLTModuleAgent(&quot;MUON&quot;),</span>
<span class="lineNum">      93 </span><span class="lineCov">          3 :                                      fgkESDMakerChain(NULL),</span>
<span class="lineNum">      94 </span><span class="lineCov">          3 :                                      fgkRootifyDumpChain(NULL)</span>
<span class="lineNum">      95 </span><span class="lineCov">         15 : {</span>
<span class="lineNum">      96 </span>            :         ///
<span class="lineNum">      97 </span>            :         /// Default constructor.
<span class="lineNum">      98 </span>            :         ///
<a name="99"><span class="lineNum">      99 </span><span class="lineCov">          6 : }</span></a>
<span class="lineNum">     100 </span>            : 
<span class="lineNum">     101 </span><span class="lineNoCov">          0 : AliHLTMUONAgent::~AliHLTMUONAgent()</span>
<span class="lineNum">     102 </span><span class="lineCov">          6 : {</span>
<span class="lineNum">     103 </span>            :         ///
<span class="lineNum">     104 </span>            :         /// Default destructor.
<span class="lineNum">     105 </span>            :         ///
<a name="106"><span class="lineNum">     106 </span><span class="lineCov">          9 : }</span></a>
<span class="lineNum">     107 </span>            : 
<span class="lineNum">     108 </span>            : UInt_t AliHLTMUONAgent::GetDetectorMask() const
<span class="lineNum">     109 </span>            : {
<span class="lineNum">     110 </span><span class="lineNoCov">          0 :   return AliDAQ::kMUON;</span>
<a name="111"><span class="lineNum">     111 </span>            : }</a>
<span class="lineNum">     112 </span>            : 
<span class="lineNum">     113 </span>            : const char* AliHLTMUONAgent::GetReconstructionChains(AliRawReader* rawReader,
<span class="lineNum">     114 </span>            :                                                      AliRunLoader* runloader
<span class="lineNum">     115 </span>            :         ) const
<span class="lineNum">     116 </span>            : {
<span class="lineNum">     117 </span>            :         ///
<span class="lineNum">     118 </span>            :         /// Inherited from AliHLTModuleAgent.
<span class="lineNum">     119 </span>            :         /// Returns the top processing chain configurations for local event
<span class="lineNum">     120 </span>            :         /// reconstruction.
<span class="lineNum">     121 </span>            :         /// @param [in] rawReader  AliRoot rawreader instance.
<span class="lineNum">     122 </span>            :         /// @param [in] runloader  AliRoot runloader
<span class="lineNum">     123 </span>            :         /// @return string containing the top configurations separated by blanks.
<span class="lineNum">     124 </span>            :         ///
<span class="lineNum">     125 </span>            :         /// If rawReader is not NULL then the standard dHLT chain is run taking
<span class="lineNum">     126 </span>            :         /// data from raw DDL data. Otherwise runloader is checked and if it is
<span class="lineNum">     127 </span>            :         /// not NULL then a dHLT chain is run with input data from digits.
<span class="lineNum">     128 </span>            :         
<span class="lineNum">     129 </span><span class="lineNoCov">          0 :         if (rawReader != NULL)</span>
<span class="lineNum">     130 </span>            :         {
<span class="lineNum">     131 </span>            :                 // Check if there is any data from the tracker and trigger.
<span class="lineNum">     132 </span>            :                 bool dataFromTracker = false;
<span class="lineNum">     133 </span>            :                 bool dataFromTrigger = false;
<span class="lineNum">     134 </span><span class="lineNoCov">          0 :                 rawReader-&gt;Select(&quot;MUONTRK&quot;, 0, 19);</span>
<span class="lineNum">     135 </span><span class="lineNoCov">          0 :                 for (Int_t i = 0; i &lt; 20; i++)</span>
<span class="lineNum">     136 </span>            :                 {
<span class="lineNum">     137 </span><span class="lineNoCov">          0 :                         if (rawReader-&gt;ReadHeader()) dataFromTracker = true;</span>
<span class="lineNum">     138 </span>            :                 }
<span class="lineNum">     139 </span><span class="lineNoCov">          0 :                 rawReader-&gt;Select(&quot;MUONTRG&quot;, 0, 1);</span>
<span class="lineNum">     140 </span><span class="lineNoCov">          0 :                 for (Int_t i = 0; i &lt; 2; i++)</span>
<span class="lineNum">     141 </span>            :                 {
<span class="lineNum">     142 </span><span class="lineNoCov">          0 :                         if (rawReader-&gt;ReadHeader()) dataFromTrigger = true;</span>
<span class="lineNum">     143 </span>            :                 }
<span class="lineNum">     144 </span><span class="lineNoCov">          0 :                 rawReader-&gt;Reset();</span>
<span class="lineNum">     145 </span>            :                 
<span class="lineNum">     146 </span>            :                 // If raw data was found for our detector then select the
<span class="lineNum">     147 </span>            :                 // appropriate chain.
<span class="lineNum">     148 </span><span class="lineNoCov">          0 :                 if (dataFromTracker and dataFromTrigger)</span>
<span class="lineNum">     149 </span><span class="lineNoCov">          0 :                         return &quot;dHLT-sim-fromRaw&quot;;</span>
<span class="lineNum">     150 </span><span class="lineNoCov">          0 :         }</span>
<span class="lineNum">     151 </span>            :         
<span class="lineNum">     152 </span><span class="lineNoCov">          0 :         if (runloader != NULL)</span>
<span class="lineNum">     153 </span>            :         {
<span class="lineNum">     154 </span>            :                 // IsMuonModuleLoaded() is used to check if the muon module was loaded
<span class="lineNum">     155 </span>            :                 // If there is no AliMUON module in the simulation then do not run the
<span class="lineNum">     156 </span>            :                 // MUON HLT chain.
<span class="lineNum">     157 </span><span class="lineNoCov">          0 :                 if (IsMuonModuleLoaded() and runloader-&gt;GetLoader(&quot;MUONLoader&quot;) != NULL)</span>
<span class="lineNum">     158 </span><span class="lineNoCov">          0 :                         return &quot;dHLT-sim&quot;;</span>
<span class="lineNum">     159 </span>            :         }
<span class="lineNum">     160 </span>            :         
<span class="lineNum">     161 </span><span class="lineNoCov">          0 :         return &quot;&quot;;</span>
<a name="162"><span class="lineNum">     162 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">     163 </span>            : 
<span class="lineNum">     164 </span>            : const char* AliHLTMUONAgent::GetRequiredComponentLibraries() const
<span class="lineNum">     165 </span>            : {
<span class="lineNum">     166 </span>            :         ///
<span class="lineNum">     167 </span>            :         /// Inherited from AliHLTModuleAgent.
<span class="lineNum">     168 </span>            :         /// Returns a list of libraries which the configurations registered by
<span class="lineNum">     169 </span>            :         /// this module agent depend on.
<span class="lineNum">     170 </span>            :         /// @return list of component libraries as a blank-separated string.
<span class="lineNum">     171 </span>            :         ///
<span class="lineNum">     172 </span>            :         
<span class="lineNum">     173 </span>            :         // List of libraries that we depend on.
<span class="lineNum">     174 </span>            :         static const char* libs[] =
<span class="lineNum">     175 </span>            :         {
<span class="lineNum">     176 </span>            :                 &quot;libCore.so&quot;,
<span class="lineNum">     177 </span>            :                 // &quot;libCint.so&quot;,
<span class="lineNum">     178 </span>            :                 &quot;libGraf.so&quot;,
<span class="lineNum">     179 </span>            :                 &quot;libRIO.so&quot;,
<span class="lineNum">     180 </span>            :                 &quot;libNet.so&quot;,
<span class="lineNum">     181 </span>            :                 &quot;libHist.so&quot;,
<span class="lineNum">     182 </span>            :                 &quot;libMatrix.so&quot;,
<span class="lineNum">     183 </span>            :                 &quot;libMathCore.so&quot;,
<span class="lineNum">     184 </span>            :                 &quot;libMinuit.so&quot;,
<span class="lineNum">     185 </span>            :                 &quot;libTree.so&quot;,
<span class="lineNum">     186 </span>            :                 &quot;libGraf3d.so&quot;,
<span class="lineNum">     187 </span>            :                 &quot;libGpad.so&quot;,
<span class="lineNum">     188 </span>            :                 &quot;libPhysics.so&quot;,
<span class="lineNum">     189 </span>            :                 &quot;libGui.so&quot;,
<span class="lineNum">     190 </span>            :                 &quot;libProofPlayer.so&quot;,
<span class="lineNum">     191 </span>            :                 &quot;libProof.so&quot;,
<span class="lineNum">     192 </span>            :                 &quot;libThread.so&quot;,
<span class="lineNum">     193 </span>            :                 &quot;libGeom.so&quot;,
<span class="lineNum">     194 </span>            :                 &quot;libEG.so&quot;,
<span class="lineNum">     195 </span>            :                 &quot;libTreePlayer.so&quot;,
<span class="lineNum">     196 </span>            :                 &quot;libXMLIO.so&quot;,
<span class="lineNum">     197 </span>            :                 &quot;libVMC.so&quot;,
<span class="lineNum">     198 </span>            :                 &quot;libESD.so&quot;,
<span class="lineNum">     199 </span>            :                 &quot;libCDB.so&quot;,
<span class="lineNum">     200 </span>            :                 &quot;libSTEERBase.so&quot;,
<span class="lineNum">     201 </span>            :                 &quot;libSTEER.so&quot;,
<span class="lineNum">     202 </span>            :                 &quot;libGui.so&quot;,
<span class="lineNum">     203 </span>            :                 &quot;libRAWDatasim.so&quot;,
<span class="lineNum">     204 </span>            :                 &quot;libRAWDatarec.so&quot;,
<span class="lineNum">     205 </span>            :                 &quot;libRAWDatabase.so&quot;,
<span class="lineNum">     206 </span>            :                 &quot;libMUONcore.so&quot;,
<span class="lineNum">     207 </span>            :                 &quot;libMUONraw.so&quot;,
<span class="lineNum">     208 </span>            :                 &quot;libMUONbase.so&quot;,
<span class="lineNum">     209 </span>            :                 &quot;libMUONgeometry.so&quot;,
<span class="lineNum">     210 </span>            :                 &quot;libMUONmapping.so&quot;,
<span class="lineNum">     211 </span>            :                 &quot;libMUONcalib.so&quot;,
<span class="lineNum">     212 </span>            :                 &quot;libMUONsim.so&quot;,
<span class="lineNum">     213 </span>            :                 &quot;libMUONtrigger.so&quot;,
<span class="lineNum">     214 </span>            :                 &quot;libMUONevaluation.so&quot;,
<span class="lineNum">     215 </span>            :                 &quot;libMUONrec.so&quot;,
<span class="lineNum">     216 </span>            :                 &quot;libANALYSIS.so&quot;,
<span class="lineNum">     217 </span>            :                 &quot;libANALYSISalice.so&quot;,
<span class="lineNum">     218 </span>            :                 &quot;libHLTbase.so&quot;,
<span class="lineNum">     219 </span>            :                 &quot;libAliHLTUtil.so&quot;,
<span class="lineNum">     220 </span>            :                 NULL
<span class="lineNum">     221 </span>            :         };
<span class="lineNum">     222 </span>            :         
<span class="lineNum">     223 </span>            :         // First check if the library is not already loaded. If it is then we have
<span class="lineNum">     224 </span>            :         // no reason to declare it as needed, so that we do not load it again.
<span class="lineNum">     225 </span><span class="lineNoCov">          0 :         static TString result;</span>
<span class="lineNum">     226 </span><span class="lineNoCov">          0 :         for (const char** lib = libs; *lib != NULL; lib++)</span>
<span class="lineNum">     227 </span>            :         {
<span class="lineNum">     228 </span><span class="lineNoCov">          0 :                 const char* list = gSystem-&gt;GetLibraries(*lib, &quot;&quot;, kFALSE);</span>
<span class="lineNum">     229 </span><span class="lineNoCov">          0 :                 if (list == NULL) continue;</span>
<span class="lineNum">     230 </span>            :                 // Check if not found, i.e. result was an empty string.
<span class="lineNum">     231 </span>            :                 // If so then add the library to the required list.
<span class="lineNum">     232 </span><span class="lineNoCov">          0 :                 if (list[0] == '\0')</span>
<span class="lineNum">     233 </span>            :                 {
<span class="lineNum">     234 </span><span class="lineNoCov">          0 :                         result += *lib;</span>
<span class="lineNum">     235 </span><span class="lineNoCov">          0 :                         result += &quot; &quot;;</span>
<span class="lineNum">     236 </span><span class="lineNoCov">          0 :                 }</span>
<span class="lineNum">     237 </span><span class="lineNoCov">          0 :         }</span>
<span class="lineNum">     238 </span><span class="lineNoCov">          0 :         return result.Data();</span>
<span class="lineNum">     239 </span><span class="lineNoCov">          0 : }</span>
<a name="240"><span class="lineNum">     240 </span>            : </a>
<span class="lineNum">     241 </span>            : 
<span class="lineNum">     242 </span>            : int AliHLTMUONAgent::CreateConfigurations(
<span class="lineNum">     243 </span>            :                 AliHLTConfigurationHandler* handler,
<span class="lineNum">     244 </span>            :                 AliRawReader* rawReader,
<span class="lineNum">     245 </span>            :                 AliRunLoader* runloader
<span class="lineNum">     246 </span>            :         ) const
<span class="lineNum">     247 </span>            : {
<span class="lineNum">     248 </span>            :         /// Register all processing configurations belonging to the dimuon HLT
<span class="lineNum">     249 </span>            :         /// library with the AliHLTConfigurationHandler.
<span class="lineNum">     250 </span>            :         /// @param [in] handler     the configuration handler
<span class="lineNum">     251 </span>            :         /// @param [in] rawReader   AliRoot rawreader instance.
<span class="lineNum">     252 </span>            :         /// @param [in] runloader   AliRoot runloader
<span class="lineNum">     253 </span>            :         /// @return Zero on success and error code if failed.
<span class="lineNum">     254 </span>            :         ///
<span class="lineNum">     255 </span>            :         /// Chains available:
<span class="lineNum">     256 </span>            :         /// dHLT-sim          - standard dHLT simulation chain.
<span class="lineNum">     257 </span>            :         /// dHLT-sim-fromRaw  - standard dHLT chain taking raw DDL data as input.
<span class="lineNum">     258 </span>            :         /// dHLT-sim-fromMC   - dHLT chain taking Monte Carlo hit data as input.
<span class="lineNum">     259 </span>            :         ///                     So hit reconstruction is not checked, just the tracker.
<span class="lineNum">     260 </span>            :         
<span class="lineNum">     261 </span><span class="lineNoCov">          0 :         if (handler == NULL) return 0;</span>
<span class="lineNum">     262 </span>            :         
<span class="lineNum">     263 </span><span class="lineNoCov">          0 :         const char* trackerId = AliHLTMUONConstants::MansoTrackerFSMId();</span>
<span class="lineNum">     264 </span><span class="lineNoCov">          0 :         const char* fullTrackerId = AliHLTMUONConstants::FullTrackerId();</span>
<span class="lineNum">     265 </span><span class="lineNoCov">          0 :         const char* decCompId = AliHLTMUONConstants::DecisionComponentId();</span>
<span class="lineNum">     266 </span>            :         
<span class="lineNum">     267 </span><span class="lineNoCov">          0 :         if (rawReader != NULL)</span>
<span class="lineNum">     268 </span>            :         {
<span class="lineNum">     269 </span>            :                 // Implement the dHLT-sim-fromRaw dHLT simulation chain reading
<span class="lineNum">     270 </span>            :                 // from raw data.
<span class="lineNum">     271 </span>            :                 const char* rawPubComp = &quot;AliRawReaderPublisher&quot;;
<span class="lineNum">     272 </span>            :                 const char* cmd1 = &quot;-minid 2560 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000001&quot;;
<span class="lineNum">     273 </span>            :                 const char* cmd2 = &quot;-minid 2561 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000002&quot;;
<span class="lineNum">     274 </span>            :                 const char* cmd3 = &quot;-minid 2562 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000004&quot;;
<span class="lineNum">     275 </span>            :                 const char* cmd4 = &quot;-minid 2563 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000008&quot;;
<span class="lineNum">     276 </span>            :                 const char* cmd5 = &quot;-minid 2564 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000010&quot;;
<span class="lineNum">     277 </span>            :                 const char* cmd6 = &quot;-minid 2565 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000020&quot;;
<span class="lineNum">     278 </span>            :                 const char* cmd7 = &quot;-minid 2566 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000040&quot;;
<span class="lineNum">     279 </span>            :                 const char* cmd8 = &quot;-minid 2567 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000080&quot;;
<span class="lineNum">     280 </span>            :                 const char* cmd9 = &quot;-minid 2568 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000100&quot;;
<span class="lineNum">     281 </span>            :                 const char* cmd10 = &quot;-minid 2569 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000200&quot;;
<span class="lineNum">     282 </span>            :                 const char* cmd11 = &quot;-minid 2570 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000400&quot;;
<span class="lineNum">     283 </span>            :                 const char* cmd12 = &quot;-minid 2571 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x000800&quot;;
<span class="lineNum">     284 </span>            :                 const char* cmd13 = &quot;-minid 2572 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x001000&quot;;
<span class="lineNum">     285 </span>            :                 const char* cmd14 = &quot;-minid 2573 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x002000&quot;;
<span class="lineNum">     286 </span>            :                 const char* cmd15 = &quot;-minid 2574 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x004000&quot;;
<span class="lineNum">     287 </span>            :                 const char* cmd16 = &quot;-minid 2575 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x008000&quot;;
<span class="lineNum">     288 </span>            :                 const char* cmd17 = &quot;-minid 2576 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x010000&quot;;
<span class="lineNum">     289 </span>            :                 const char* cmd18 = &quot;-minid 2577 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x020000&quot;;
<span class="lineNum">     290 </span>            :                 const char* cmd19 = &quot;-minid 2578 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x040000&quot;;
<span class="lineNum">     291 </span>            :                 const char* cmd20 = &quot;-minid 2579 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x080000&quot;;
<span class="lineNum">     292 </span>            :                 const char* cmd21 = &quot;-minid 2816 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x100000&quot;;
<span class="lineNum">     293 </span>            :                 const char* cmd22 = &quot;-minid 2817 -datatype 'DDL_RAW ' 'MUON' -dataspec 0x200000&quot;;
<span class="lineNum">     294 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL1&quot;, rawPubComp, NULL, cmd1);</span>
<span class="lineNum">     295 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL2&quot;, rawPubComp, NULL, cmd2);</span>
<span class="lineNum">     296 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL3&quot;, rawPubComp, NULL, cmd3);</span>
<span class="lineNum">     297 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL4&quot;, rawPubComp, NULL, cmd4);</span>
<span class="lineNum">     298 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL5&quot;, rawPubComp, NULL, cmd5);</span>
<span class="lineNum">     299 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL6&quot;, rawPubComp, NULL, cmd6);</span>
<span class="lineNum">     300 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL7&quot;, rawPubComp, NULL, cmd7);</span>
<span class="lineNum">     301 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL8&quot;, rawPubComp, NULL, cmd8);</span>
<span class="lineNum">     302 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL9&quot;, rawPubComp, NULL, cmd9);</span>
<span class="lineNum">     303 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL10&quot;, rawPubComp, NULL, cmd10);</span>
<span class="lineNum">     304 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL11&quot;, rawPubComp, NULL, cmd11);</span>
<span class="lineNum">     305 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL12&quot;, rawPubComp, NULL, cmd12);</span>
<span class="lineNum">     306 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL13&quot;, rawPubComp, NULL, cmd13);</span>
<span class="lineNum">     307 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL14&quot;, rawPubComp, NULL, cmd14);</span>
<span class="lineNum">     308 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL15&quot;, rawPubComp, NULL, cmd15);</span>
<span class="lineNum">     309 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL16&quot;, rawPubComp, NULL, cmd16);</span>
<span class="lineNum">     310 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL17&quot;, rawPubComp, NULL, cmd17);</span>
<span class="lineNum">     311 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL18&quot;, rawPubComp, NULL, cmd18);</span>
<span class="lineNum">     312 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL19&quot;, rawPubComp, NULL, cmd19);</span>
<span class="lineNum">     313 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL20&quot;, rawPubComp, NULL, cmd20);</span>
<span class="lineNum">     314 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL21&quot;, rawPubComp, NULL, cmd21);</span>
<span class="lineNum">     315 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RawDDL22&quot;, rawPubComp, NULL, cmd22);</span>
<span class="lineNum">     316 </span><span class="lineNoCov">          0 :                 const char* hrId = AliHLTMUONConstants::HitReconstructorId();</span>
<span class="lineNum">     317 </span><span class="lineNoCov">          0 :                 const char* trId = AliHLTMUONConstants::TriggerReconstructorId();</span>
<span class="lineNum">     318 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL1&quot;, hrId, &quot;RawDDL1&quot;, &quot;-ddl 1 -cdb&quot;);</span>
<span class="lineNum">     319 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL2&quot;, hrId, &quot;RawDDL2&quot;, &quot;-ddl 2 -cdb&quot;);</span>
<span class="lineNum">     320 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL3&quot;, hrId, &quot;RawDDL3&quot;, &quot;-ddl 3 -cdb&quot;);</span>
<span class="lineNum">     321 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL4&quot;, hrId, &quot;RawDDL4&quot;, &quot;-ddl 4 -cdb&quot;);</span>
<span class="lineNum">     322 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL5&quot;, hrId, &quot;RawDDL5&quot;, &quot;-ddl 5 -cdb&quot;);</span>
<span class="lineNum">     323 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL6&quot;, hrId, &quot;RawDDL6&quot;, &quot;-ddl 6 -cdb&quot;);</span>
<span class="lineNum">     324 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL7&quot;, hrId, &quot;RawDDL7&quot;, &quot;-ddl 7 -cdb&quot;);</span>
<span class="lineNum">     325 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL8&quot;, hrId, &quot;RawDDL8&quot;, &quot;-ddl 8 -cdb&quot;);</span>
<span class="lineNum">     326 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL9&quot;, hrId, &quot;RawDDL9&quot;, &quot;-ddl 9 -cdb&quot;);</span>
<span class="lineNum">     327 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL10&quot;, hrId, &quot;RawDDL10&quot;, &quot;-ddl 10 -cdb&quot;);</span>
<span class="lineNum">     328 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL11&quot;, hrId, &quot;RawDDL11&quot;, &quot;-ddl 11 -cdb&quot;);</span>
<span class="lineNum">     329 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL12&quot;, hrId, &quot;RawDDL12&quot;, &quot;-ddl 12 -cdb&quot;);</span>
<span class="lineNum">     330 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL13&quot;, hrId, &quot;RawDDL13&quot;, &quot;-ddl 13 -cdb&quot;);</span>
<span class="lineNum">     331 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL14&quot;, hrId, &quot;RawDDL14&quot;, &quot;-ddl 14 -cdb&quot;);</span>
<span class="lineNum">     332 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL15&quot;, hrId, &quot;RawDDL15&quot;, &quot;-ddl 15 -cdb&quot;);</span>
<span class="lineNum">     333 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL16&quot;, hrId, &quot;RawDDL16&quot;, &quot;-ddl 16 -cdb&quot;);</span>
<span class="lineNum">     334 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL17&quot;, hrId, &quot;RawDDL17&quot;, &quot;-ddl 17 -cdb&quot;);</span>
<span class="lineNum">     335 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL18&quot;, hrId, &quot;RawDDL18&quot;, &quot;-ddl 18 -cdb&quot;);</span>
<span class="lineNum">     336 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL19&quot;, hrId, &quot;RawDDL19&quot;, &quot;-ddl 19 -cdb&quot;);</span>
<span class="lineNum">     337 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL20&quot;, hrId, &quot;RawDDL20&quot;, &quot;-ddl 20 -cdb&quot;);</span>
<span class="lineNum">     338 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL21&quot;, trId, &quot;RawDDL21&quot;, &quot;-ddl 21 -cdb -suppress_partial_triggers&quot;);</span>
<span class="lineNum">     339 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoRawDDL22&quot;, trId, &quot;RawDDL22&quot;, &quot;-ddl 22 -cdb -suppress_partial_triggers&quot;);</span>
<span class="lineNum">     340 </span>            :                 
<span class="lineNum">     341 </span>            :                 const char* recoSrcs = &quot;RecoRawDDL13 RecoRawDDL14 RecoRawDDL15 RecoRawDDL16 RecoRawDDL17&quot;
<span class="lineNum">     342 </span>            :                         &quot; RecoRawDDL18 RecoRawDDL19 RecoRawDDL20 RecoRawDDL21 RecoRawDDL22&quot;;
<span class="lineNum">     343 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;MansoTrackerForRaw&quot;, trackerId, recoSrcs, &quot;&quot;);</span>
<span class="lineNum">     344 </span>            :                 
<span class="lineNum">     345 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DecisionForRaw&quot;, decCompId, &quot;MansoTrackerForRaw&quot;, &quot;&quot;);</span>
<span class="lineNum">     346 </span>            :                 
<span class="lineNum">     347 </span><span class="lineNoCov">          0 :                 TString outputSrcs = &quot;DecisionForRaw MansoTrackerForRaw &quot;;</span>
<span class="lineNum">     348 </span><span class="lineNoCov">          0 :                 outputSrcs += recoSrcs;</span>
<span class="lineNum">     349 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;dHLT-sim-fromRaw&quot;, &quot;BlockFilter&quot;, outputSrcs, &quot;&quot;);</span>
<span class="lineNum">     350 </span>            :                 
<span class="lineNum">     351 </span>            :                 // For reconstruction using full tracker.
<span class="lineNum">     352 </span>            :                 const char* recoSrcsFull = &quot; RecoRawDDL1 RecoRawDDL2 RecoRawDDL3 RecoRawDDL4 RecoRawDDL5 RecoRawDDL6 &quot;
<span class="lineNum">     353 </span>            :                         &quot; RecoRawDDL7 RecoRawDDL8 RecoRawDDL9 RecoRawDDL10 RecoRawDDL11 RecoRawDDL12 &quot;
<span class="lineNum">     354 </span>            :                         &quot; RecoRawDDL13 RecoRawDDL14 RecoRawDDL15 RecoRawDDL16 RecoRawDDL17 &quot;
<span class="lineNum">     355 </span>            :                         &quot; RecoRawDDL18 RecoRawDDL19 RecoRawDDL20 RecoRawDDL21 RecoRawDDL22 &quot;;
<span class="lineNum">     356 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;FullTrackerForRaw&quot;, fullTrackerId, recoSrcsFull, &quot;-cdb&quot;);</span>
<span class="lineNum">     357 </span>            :                 
<span class="lineNum">     358 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DecisionForRawFullTrk&quot;, decCompId, &quot;FullTrackerForRaw&quot;, &quot;&quot;);</span>
<span class="lineNum">     359 </span>            :                 
<span class="lineNum">     360 </span><span class="lineNoCov">          0 :                 TString outputSrcsFull = &quot;DecisionForRawFullTrk FullTrackerForRaw &quot;;</span>
<span class="lineNum">     361 </span><span class="lineNoCov">          0 :                 outputSrcsFull += recoSrcsFull;</span>
<span class="lineNum">     362 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;dHLT-sim-fromRaw-fullTracker&quot;, &quot;BlockFilter&quot;, outputSrcsFull, &quot;&quot;);</span>
<span class="lineNum">     363 </span><span class="lineNoCov">          0 :         }</span>
<span class="lineNum">     364 </span>            :         
<span class="lineNum">     365 </span><span class="lineNoCov">          0 :         if (IsMuonModuleLoaded() and runloader != NULL)</span>
<span class="lineNum">     366 </span>            :         {
<span class="lineNum">     367 </span>            :                 // Implement the dHLT-sim dHLT simulation chain reading from
<span class="lineNum">     368 </span>            :                 // simulated digits.
<span class="lineNum">     369 </span><span class="lineNoCov">          0 :                 const char* digitPub = AliHLTMUONConstants::DigitPublisherId();</span>
<span class="lineNum">     370 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL13&quot;, digitPub, NULL, &quot;-simdata -ddl 13&quot;);</span>
<span class="lineNum">     371 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL14&quot;, digitPub, NULL, &quot;-simdata -ddl 14&quot;);</span>
<span class="lineNum">     372 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL15&quot;, digitPub, NULL, &quot;-simdata -ddl 15&quot;);</span>
<span class="lineNum">     373 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL16&quot;, digitPub, NULL, &quot;-simdata -ddl 16&quot;);</span>
<span class="lineNum">     374 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL17&quot;, digitPub, NULL, &quot;-simdata -ddl 17&quot;);</span>
<span class="lineNum">     375 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL18&quot;, digitPub, NULL, &quot;-simdata -ddl 18&quot;);</span>
<span class="lineNum">     376 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL19&quot;, digitPub, NULL, &quot;-simdata -ddl 19&quot;);</span>
<span class="lineNum">     377 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL20&quot;, digitPub, NULL, &quot;-simdata -ddl 20&quot;);</span>
<span class="lineNum">     378 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL21&quot;, digitPub, NULL, &quot;-simdata -ddl 21&quot;);</span>
<span class="lineNum">     379 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DigitDDL22&quot;, digitPub, NULL, &quot;-simdata -ddl 22&quot;);</span>
<span class="lineNum">     380 </span><span class="lineNoCov">          0 :                 const char* hrId = AliHLTMUONConstants::HitReconstructorId();</span>
<span class="lineNum">     381 </span><span class="lineNoCov">          0 :                 const char* trId = AliHLTMUONConstants::TriggerReconstructorId();</span>
<span class="lineNum">     382 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL13&quot;, hrId, &quot;DigitDDL13&quot;, &quot;-ddl 13 -cdb&quot;);</span>
<span class="lineNum">     383 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL14&quot;, hrId, &quot;DigitDDL14&quot;, &quot;-ddl 14 -cdb&quot;);</span>
<span class="lineNum">     384 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL15&quot;, hrId, &quot;DigitDDL15&quot;, &quot;-ddl 15 -cdb&quot;);</span>
<span class="lineNum">     385 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL16&quot;, hrId, &quot;DigitDDL16&quot;, &quot;-ddl 16 -cdb&quot;);</span>
<span class="lineNum">     386 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL17&quot;, hrId, &quot;DigitDDL17&quot;, &quot;-ddl 17 -cdb&quot;);</span>
<span class="lineNum">     387 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL18&quot;, hrId, &quot;DigitDDL18&quot;, &quot;-ddl 18 -cdb&quot;);</span>
<span class="lineNum">     388 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL19&quot;, hrId, &quot;DigitDDL19&quot;, &quot;-ddl 19 -cdb&quot;);</span>
<span class="lineNum">     389 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL20&quot;, hrId, &quot;DigitDDL20&quot;, &quot;-ddl 20 -cdb&quot;);</span>
<span class="lineNum">     390 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL21&quot;, trId, &quot;DigitDDL21&quot;, &quot;-ddl 21 -cdb -suppress_partial_triggers&quot;);</span>
<span class="lineNum">     391 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;RecoDDL22&quot;, trId, &quot;DigitDDL22&quot;, &quot;-ddl 22 -cdb -suppress_partial_triggers&quot;);</span>
<span class="lineNum">     392 </span>            :                 
<span class="lineNum">     393 </span>            :                 const char* recoSrcs = &quot;RecoDDL13 RecoDDL14 RecoDDL15 RecoDDL16 RecoDDL17&quot;
<span class="lineNum">     394 </span>            :                         &quot; RecoDDL18 RecoDDL19 RecoDDL20 RecoDDL21 RecoDDL22&quot;;
<span class="lineNum">     395 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;MansoTracker&quot;, trackerId, recoSrcs, &quot;&quot;);</span>
<span class="lineNum">     396 </span>            :                 
<span class="lineNum">     397 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;Decision&quot;, decCompId, &quot;MansoTracker&quot;, &quot;&quot;);</span>
<span class="lineNum">     398 </span>            :                 
<span class="lineNum">     399 </span><span class="lineNoCov">          0 :                 TString outputSrcs = &quot;Decision MansoTracker &quot;;</span>
<span class="lineNum">     400 </span><span class="lineNoCov">          0 :                 outputSrcs += recoSrcs;</span>
<span class="lineNum">     401 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;dHLT-sim&quot;, &quot;BlockFilter&quot;, outputSrcs.Data(), &quot;&quot;);</span>
<span class="lineNum">     402 </span>            :         
<span class="lineNum">     403 </span>            :                 // Implement the dHLT-sim-fromMC dHLT simulation chain reading
<span class="lineNum">     404 </span>            :                 // Monte Carlo geant hits and putting those into a tracker component.
<span class="lineNum">     405 </span><span class="lineNoCov">          0 :                 const char* rhsId = AliHLTMUONConstants::RecHitsSourceId();</span>
<span class="lineNum">     406 </span><span class="lineNoCov">          0 :                 const char* trsId = AliHLTMUONConstants::TriggerRecordsSourceId();</span>
<span class="lineNum">     407 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;HitsDDL13&quot;, rhsId, NULL, &quot;-simdata -plane left  -chamber 7&quot;);</span>
<span class="lineNum">     408 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;HitsDDL14&quot;, rhsId, NULL, &quot;-simdata -plane right -chamber 7&quot;);</span>
<span class="lineNum">     409 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;HitsDDL15&quot;, rhsId, NULL, &quot;-simdata -plane left  -chamber 8&quot;);</span>
<span class="lineNum">     410 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;HitsDDL16&quot;, rhsId, NULL, &quot;-simdata -plane right -chamber 8&quot;);</span>
<span class="lineNum">     411 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;HitsDDL17&quot;, rhsId, NULL, &quot;-simdata -plane left  -chamber 9&quot;);</span>
<span class="lineNum">     412 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;HitsDDL18&quot;, rhsId, NULL, &quot;-simdata -plane right -chamber 9&quot;);</span>
<span class="lineNum">     413 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;HitsDDL19&quot;, rhsId, NULL, &quot;-simdata -plane left  -chamber 10&quot;);</span>
<span class="lineNum">     414 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;HitsDDL20&quot;, rhsId, NULL, &quot;-simdata -plane right -chamber 10&quot;);</span>
<span class="lineNum">     415 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;TrigRecsDDL21&quot;, trsId, NULL, &quot;-hitdata -plane left&quot;);</span>
<span class="lineNum">     416 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;TrigRecsDDL22&quot;, trsId, NULL, &quot;-hitdata -plane right&quot;);</span>
<span class="lineNum">     417 </span>            :                 
<span class="lineNum">     418 </span>            :                 const char* dataSrcs = &quot;HitsDDL13 HitsDDL14 HitsDDL15 HitsDDL16 HitsDDL17&quot;
<span class="lineNum">     419 </span>            :                         &quot; HitsDDL18 HitsDDL19 HitsDDL20 TrigRecsDDL21 TrigRecsDDL22&quot;;
<span class="lineNum">     420 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;MansoTrackerForMC&quot;, trackerId, dataSrcs, &quot;&quot;);</span>
<span class="lineNum">     421 </span>            :                 
<span class="lineNum">     422 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;DecisionForMC&quot;, decCompId, &quot;MansoTrackerForMC&quot;, &quot;&quot;);</span>
<span class="lineNum">     423 </span>            :                 
<span class="lineNum">     424 </span><span class="lineNoCov">          0 :                 outputSrcs = &quot;DecisionForMC MansoTrackerForMC &quot;;</span>
<span class="lineNum">     425 </span><span class="lineNoCov">          0 :                 outputSrcs += dataSrcs;</span>
<span class="lineNum">     426 </span><span class="lineNoCov">          0 :                 handler-&gt;CreateConfiguration(&quot;dHLT-sim-fromMC&quot;, &quot;BlockFilter&quot;, outputSrcs.Data(), &quot;&quot;);</span>
<span class="lineNum">     427 </span><span class="lineNoCov">          0 :         }</span>
<span class="lineNum">     428 </span>            :         
<span class="lineNum">     429 </span>            :         // Create a chain for generating AliESDEvent objects from dHLT raw reconstructed data.
<span class="lineNum">     430 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubTrigRecs&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'TRIGRECS' 'MUON'&quot;);</span>
<span class="lineNum">     431 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubMansoTracks&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'MANTRACK' 'MUON'&quot;);</span>
<span class="lineNum">     432 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubTracks&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'TRACKS  ' 'MUON'&quot;);</span>
<span class="lineNum">     433 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(</span>
<span class="lineNum">     434 </span>            :                         &quot;dHLT-make-esd&quot;,
<span class="lineNum">     435 </span><span class="lineNoCov">          0 :                         AliHLTMUONConstants::ESDMakerId(),</span>
<span class="lineNum">     436 </span>            :                         &quot;HLTOUTPubTrigRecs HLTOUTPubMansoTracks HLTOUTPubTracks&quot;,
<span class="lineNum">     437 </span>            :                         &quot;-make_minimal_esd&quot;
<span class="lineNum">     438 </span>            :                 );
<span class="lineNum">     439 </span>            :         
<span class="lineNum">     440 </span>            :         // Create a chain for rootifying the raw dHLT data and dumping to file.
<span class="lineNum">     441 </span>            :         // This is used during AliRoot reconstruction.
<span class="lineNum">     442 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubTrigDbg&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'TRIGRDBG' 'MUON'&quot;);</span>
<span class="lineNum">     443 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubHits&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'RECHITS ' 'MUON'&quot;);</span>
<span class="lineNum">     444 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubClusters&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'CLUSTERS' 'MUON'&quot;);</span>
<span class="lineNum">     445 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubChannels&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'CHANNELS' 'MUON'&quot;);</span>
<span class="lineNum">     446 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubCandidates&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'MNCANDID' 'MUON'&quot;);</span>
<span class="lineNum">     447 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubSingles&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'DECIDSIN' 'MUON'&quot;);</span>
<span class="lineNum">     448 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(&quot;HLTOUTPubPairs&quot;, &quot;AliHLTOUTPublisher&quot;, NULL, &quot;-datatype 'DECIDPAR' 'MUON'&quot;);</span>
<span class="lineNum">     449 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(</span>
<span class="lineNum">     450 </span>            :                         &quot;HLTOUTConverter&quot;,
<span class="lineNum">     451 </span><span class="lineNoCov">          0 :                         AliHLTMUONConstants::RootifierComponentId(),</span>
<span class="lineNum">     452 </span>            :                         &quot;HLTOUTPubTrigRecs HLTOUTPubTrigDbg HLTOUTPubHits HLTOUTPubClusters&quot;
<span class="lineNum">     453 </span>            :                          &quot; HLTOUTPubChannels HLTOUTPubMansoTracks HLTOUTPubCandidates&quot;
<span class="lineNum">     454 </span>            :                          &quot; HLTOUTPubTracks HLTOUTPubSingles HLTOUTPubPairs&quot;,
<span class="lineNum">     455 </span>            :                         &quot;&quot;
<span class="lineNum">     456 </span>            :                 );
<span class="lineNum">     457 </span><span class="lineNoCov">          0 :         handler-&gt;CreateConfiguration(</span>
<span class="lineNum">     458 </span>            :                         &quot;dHLT-rootify-and-dump&quot;,
<span class="lineNum">     459 </span>            :                         &quot;ROOTFileWriter&quot;,
<span class="lineNum">     460 </span>            :                         &quot;HLTOUTConverter&quot;,
<span class="lineNum">     461 </span>            :                         &quot;-concatenate-events -datafile dHLTRawData.root -specfmt&quot;
<span class="lineNum">     462 </span>            :                 );
<span class="lineNum">     463 </span>            :         
<span class="lineNum">     464 </span>            :         return 0;
<span class="lineNum">     465 </span><span class="lineNoCov">          0 : }</span>
<a name="466"><span class="lineNum">     466 </span>            : </a>
<span class="lineNum">     467 </span>            : 
<span class="lineNum">     468 </span>            : int AliHLTMUONAgent::RegisterComponents(AliHLTComponentHandler* pHandler) const
<span class="lineNum">     469 </span>            : {
<span class="lineNum">     470 </span>            :         ///
<span class="lineNum">     471 </span>            :         /// Registers all available components of this module.
<span class="lineNum">     472 </span>            :         /// @param [in] pHandler  instance of the component handler.
<span class="lineNum">     473 </span>            :         ///
<span class="lineNum">     474 </span>            :         
<span class="lineNum">     475 </span><span class="lineCov">          6 :         if (pHandler == NULL) return -EINVAL;</span>
<span class="lineNum">     476 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONRecHitsSource);</span>
<span class="lineNum">     477 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONTriggerRecordsSource);</span>
<span class="lineNum">     478 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONDigitPublisherComponent);</span>
<span class="lineNum">     479 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONRootifierComponent);</span>
<span class="lineNum">     480 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONHitReconstructorComponent);</span>
<span class="lineNum">     481 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONTriggerReconstructorComponent);</span>
<span class="lineNum">     482 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONMansoTrackerFSMComponent);</span>
<span class="lineNum">     483 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONFullTrackerComponent);</span>
<span class="lineNum">     484 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONDecisionComponent);</span>
<span class="lineNum">     485 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONESDMaker);</span>
<span class="lineNum">     486 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONEmptyEventFilterComponent);</span>
<span class="lineNum">     487 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONDataCheckerComponent);</span>
<span class="lineNum">     488 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONClusterFinderComponent);</span>
<span class="lineNum">     489 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONRawDataHistoComponent);</span>
<span class="lineNum">     490 </span><span class="lineCov">          6 :         pHandler-&gt;AddComponent(new AliHLTMUONClusterHistoComponent);</span>
<span class="lineNum">     491 </span><span class="lineCov">          3 :         return 0;</span>
<span class="lineNum">     492 </span><span class="lineCov">          3 : }</span>
<a name="493"><span class="lineNum">     493 </span>            : </a>
<span class="lineNum">     494 </span>            : 
<span class="lineNum">     495 </span>            : int AliHLTMUONAgent::GetHandlerDescription(
<span class="lineNum">     496 </span>            :                 AliHLTComponentDataType dt,
<span class="lineNum">     497 </span>            : #ifdef __DEBUG
<span class="lineNum">     498 </span>            :                 AliHLTUInt32_t spec,
<span class="lineNum">     499 </span>            : #else
<span class="lineNum">     500 </span>            :                 AliHLTUInt32_t /*spec*/,
<span class="lineNum">     501 </span>            : #endif
<span class="lineNum">     502 </span>            :                 AliHLTOUTHandlerDesc&amp; desc
<span class="lineNum">     503 </span>            :         ) const
<span class="lineNum">     504 </span>            : {
<span class="lineNum">     505 </span>            :         /// Get handler decription for MUON data in the HLTOUT data stream.
<span class="lineNum">     506 </span>            :         
<span class="lineNum">     507 </span><span class="lineNoCov">          0 :         if (dt == AliHLTMUONConstants::TriggerRecordsBlockDataType() or</span>
<span class="lineNum">     508 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::MansoTracksBlockDataType() or</span>
<span class="lineNum">     509 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::TracksBlockDataType()</span>
<span class="lineNum">     510 </span>            :            )
<span class="lineNum">     511 </span>            :         {
<span class="lineNum">     512 </span>            :                 HLTDebug(&quot;Indicating we can handle data type = %s and specification&quot;
<span class="lineNum">     513 </span>            :                         &quot; = 0x%8.8X with dHLT-make-esd chain&quot;,
<span class="lineNum">     514 </span>            :                         AliHLTComponent::DataType2Text(dt).c_str(),
<span class="lineNum">     515 </span>            :                         spec
<span class="lineNum">     516 </span>            :                 );
<span class="lineNum">     517 </span><span class="lineNoCov">          0 :                 desc = AliHLTOUTHandlerDesc(kChain, dt, &quot;dHLT-make-esd&quot;);</span>
<span class="lineNum">     518 </span><span class="lineNoCov">          0 :                 return 1;</span>
<span class="lineNum">     519 </span>            :         }
<span class="lineNum">     520 </span>            :         
<span class="lineNum">     521 </span><span class="lineNoCov">          0 :         if (dt == AliHLTMUONConstants::TriggerRecordsBlockDataType() or</span>
<span class="lineNum">     522 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::TrigRecsDebugBlockDataType() or</span>
<span class="lineNum">     523 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::RecHitsBlockDataType() or</span>
<span class="lineNum">     524 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::ClusterBlockDataType() or</span>
<span class="lineNum">     525 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::ChannelBlockDataType() or</span>
<span class="lineNum">     526 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::MansoTracksBlockDataType() or</span>
<span class="lineNum">     527 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::MansoCandidatesBlockDataType() or</span>
<span class="lineNum">     528 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::TracksBlockDataType() or</span>
<span class="lineNum">     529 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::SinglesDecisionBlockDataType() or</span>
<span class="lineNum">     530 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::PairsDecisionBlockDataType()</span>
<span class="lineNum">     531 </span>            :            )
<span class="lineNum">     532 </span>            :         {
<span class="lineNum">     533 </span><span class="lineNoCov">          0 :                 if (fgRunRootifyChain)</span>
<span class="lineNum">     534 </span>            :                 {
<span class="lineNum">     535 </span>            :                         HLTDebug(&quot;Indicating we can handle data type = %s and specification&quot;
<span class="lineNum">     536 </span>            :                                 &quot; = 0x%8.8X with dHLT-rootify-and-dump chain&quot;,
<span class="lineNum">     537 </span>            :                                 AliHLTComponent::DataType2Text(dt).c_str(),
<span class="lineNum">     538 </span>            :                                 spec
<span class="lineNum">     539 </span>            :                         );
<span class="lineNum">     540 </span><span class="lineNoCov">          0 :                         desc = AliHLTOUTHandlerDesc(kChain, dt, &quot;dHLT-rootify-and-dump&quot;);</span>
<span class="lineNum">     541 </span><span class="lineNoCov">          0 :                         return 1;</span>
<span class="lineNum">     542 </span>            :                 }
<span class="lineNum">     543 </span>            :                 else
<span class="lineNum">     544 </span>            :                 {
<span class="lineNum">     545 </span>            :                         HLTDebug(&quot;Indicating we will ignore data type = %s and specification = 0x%8.8X&quot;,
<span class="lineNum">     546 </span>            :                                 AliHLTComponent::DataType2Text(dt).c_str(),
<span class="lineNum">     547 </span>            :                                 spec
<span class="lineNum">     548 </span>            :                         );
<span class="lineNum">     549 </span><span class="lineNoCov">          0 :                         desc = AliHLTOUTHandlerDesc(kProprietary, dt, &quot;AliHLTOUTHandlerIgnore&quot;);</span>
<span class="lineNum">     550 </span><span class="lineNoCov">          0 :                         return 1;</span>
<span class="lineNum">     551 </span>            :                 }
<span class="lineNum">     552 </span>            :         }
<span class="lineNum">     553 </span>            : 
<span class="lineNum">     554 </span><span class="lineNoCov">          0 :         if (dt == kAliHLTDataTypeEvent)</span>
<span class="lineNum">     555 </span>            :         {
<span class="lineNum">     556 </span>            :                 HLTDebug(&quot;Indicating we will ignore data type = %s and specification = 0x%8.8X&quot;,
<span class="lineNum">     557 </span>            :                         AliHLTComponent::DataType2Text(dt).c_str(),
<span class="lineNum">     558 </span>            :                         spec
<span class="lineNum">     559 </span>            :                 );
<span class="lineNum">     560 </span><span class="lineNoCov">          0 :                 desc = AliHLTOUTHandlerDesc(kProprietary, dt, &quot;AliHLTOUTHandlerIgnore&quot;);</span>
<span class="lineNum">     561 </span><span class="lineNoCov">          0 :                 return 1;</span>
<span class="lineNum">     562 </span>            :         }
<span class="lineNum">     563 </span>            :         
<span class="lineNum">     564 </span><span class="lineNoCov">          0 :         return 0;</span>
<span class="lineNum">     565 </span><span class="lineNoCov">          0 : }</span>
<a name="566"><span class="lineNum">     566 </span>            : </a>
<span class="lineNum">     567 </span>            : 
<span class="lineNum">     568 </span>            : AliHLTOUTHandler* AliHLTMUONAgent::GetOutputHandler(
<span class="lineNum">     569 </span>            :                 AliHLTComponentDataType dt,
<span class="lineNum">     570 </span>            : #ifdef __DEBUG
<span class="lineNum">     571 </span>            :                 AliHLTUInt32_t spec
<span class="lineNum">     572 </span>            : #else
<span class="lineNum">     573 </span>            :                 AliHLTUInt32_t /*spec*/
<span class="lineNum">     574 </span>            : #endif
<span class="lineNum">     575 </span>            :         )
<span class="lineNum">     576 </span>            : {
<span class="lineNum">     577 </span>            :         /// Get specific handler for MUON data in the HLTOUT data stream.
<span class="lineNum">     578 </span>            :         
<span class="lineNum">     579 </span>            :         HLTDebug(&quot;Trying to create HLTOUT handler for data type = %s and&quot;
<span class="lineNum">     580 </span>            :                 &quot; specification = 0x%8.8X&quot;,
<span class="lineNum">     581 </span>            :                 AliHLTComponent::DataType2Text(dt).c_str(),
<span class="lineNum">     582 </span>            :                 spec
<span class="lineNum">     583 </span>            :         );
<span class="lineNum">     584 </span>            :         
<span class="lineNum">     585 </span><span class="lineNoCov">          0 :         if (dt == AliHLTMUONConstants::TriggerRecordsBlockDataType() or</span>
<span class="lineNum">     586 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::MansoTracksBlockDataType() or</span>
<span class="lineNum">     587 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::TracksBlockDataType()</span>
<span class="lineNum">     588 </span>            :            )
<span class="lineNum">     589 </span>            :         {
<span class="lineNum">     590 </span><span class="lineNoCov">          0 :           if(fgkESDMakerChain==NULL){</span>
<span class="lineNum">     591 </span><span class="lineNoCov">          0 :             fgkESDMakerChain=new AliHLTOUTHandlerChain(&quot;libAliHLTMUON.so chains=dHLT-make-esd&quot;);</span>
<span class="lineNum">     592 </span><span class="lineNoCov">          0 :           }</span>
<span class="lineNum">     593 </span><span class="lineNoCov">          0 :           return fgkESDMakerChain;</span>
<span class="lineNum">     594 </span>            :         }
<span class="lineNum">     595 </span>            : 
<span class="lineNum">     596 </span><span class="lineNoCov">          0 :         if (dt == AliHLTMUONConstants::TriggerRecordsBlockDataType() or</span>
<span class="lineNum">     597 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::TrigRecsDebugBlockDataType() or</span>
<span class="lineNum">     598 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::RecHitsBlockDataType() or</span>
<span class="lineNum">     599 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::ClusterBlockDataType() or</span>
<span class="lineNum">     600 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::ChannelBlockDataType() or</span>
<span class="lineNum">     601 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::MansoTracksBlockDataType() or</span>
<span class="lineNum">     602 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::MansoCandidatesBlockDataType() or</span>
<span class="lineNum">     603 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::TracksBlockDataType() or</span>
<span class="lineNum">     604 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::SinglesDecisionBlockDataType() or</span>
<span class="lineNum">     605 </span><span class="lineNoCov">          0 :             dt == AliHLTMUONConstants::PairsDecisionBlockDataType()</span>
<span class="lineNum">     606 </span>            :            )
<span class="lineNum">     607 </span>            :         {
<span class="lineNum">     608 </span><span class="lineNoCov">          0 :                 if (fgRunRootifyChain)</span>
<span class="lineNum">     609 </span>            :                 {
<span class="lineNum">     610 </span><span class="lineNoCov">          0 :                   if(fgkRootifyDumpChain==NULL){</span>
<span class="lineNum">     611 </span><span class="lineNoCov">          0 :                     fgkRootifyDumpChain=new AliHLTOUTHandlerChain(&quot;libAliHLTMUON.so chains=dHLT-rootify-and-dump&quot;);</span>
<span class="lineNum">     612 </span><span class="lineNoCov">          0 :                   }</span>
<span class="lineNum">     613 </span><span class="lineNoCov">          0 :                   return fgkRootifyDumpChain;</span>
<span class="lineNum">     614 </span>            :                 }
<span class="lineNum">     615 </span>            :                 else
<span class="lineNum">     616 </span>            :                 {
<span class="lineNum">     617 </span><span class="lineNoCov">          0 :                         return &amp;fgkDataIgnoreHandler;</span>
<span class="lineNum">     618 </span>            :                 }
<span class="lineNum">     619 </span>            :         }
<span class="lineNum">     620 </span>            : 
<span class="lineNum">     621 </span><span class="lineNoCov">          0 :         if (dt == kAliHLTDataTypeEvent)</span>
<span class="lineNum">     622 </span>            :         {
<span class="lineNum">     623 </span><span class="lineNoCov">          0 :                 return &amp;fgkDataIgnoreHandler;</span>
<span class="lineNum">     624 </span>            :         }
<span class="lineNum">     625 </span>            :         
<span class="lineNum">     626 </span><span class="lineNoCov">          0 :         return NULL;</span>
<span class="lineNum">     627 </span><span class="lineNoCov">          0 : }</span>
<a name="628"><span class="lineNum">     628 </span>            : </a>
<span class="lineNum">     629 </span>            : 
<span class="lineNum">     630 </span>            : int AliHLTMUONAgent::DeleteOutputHandler(AliHLTOUTHandler* pInstance)
<span class="lineNum">     631 </span>            : {
<span class="lineNum">     632 </span>            :         HLTDebug(&quot;Trying to delete HLTOUT handler: %p&quot;, pInstance);
<span class="lineNum">     633 </span>            :         
<span class="lineNum">     634 </span><span class="lineNoCov">          0 :         if (pInstance==NULL) return -EINVAL;</span>
<span class="lineNum">     635 </span>            : 
<span class="lineNum">     636 </span><span class="lineNoCov">          0 :         if (pInstance==fgkESDMakerChain) {</span>
<span class="lineNum">     637 </span><span class="lineNoCov">          0 :           delete fgkESDMakerChain;</span>
<span class="lineNum">     638 </span><span class="lineNoCov">          0 :           fgkESDMakerChain=NULL;</span>
<span class="lineNum">     639 </span><span class="lineNoCov">          0 :         }</span>
<span class="lineNum">     640 </span>            : 
<span class="lineNum">     641 </span><span class="lineNoCov">          0 :         if (pInstance==fgkRootifyDumpChain) {</span>
<span class="lineNum">     642 </span><span class="lineNoCov">          0 :           delete fgkRootifyDumpChain;</span>
<span class="lineNum">     643 </span><span class="lineNoCov">          0 :           fgkRootifyDumpChain=NULL;</span>
<span class="lineNum">     644 </span><span class="lineNoCov">          0 :         }</span>
<span class="lineNum">     645 </span>            : 
<span class="lineNum">     646 </span><span class="lineNoCov">          0 :         return 0;</span>
<span class="lineNum">     647 </span><span class="lineNoCov">          0 : }</span>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.11</a></td></tr>
  </table>
  <br>

</body>
</html>
