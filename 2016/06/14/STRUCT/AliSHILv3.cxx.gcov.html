<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info - STRUCT/AliSHILv3.cxx</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../index.html">top level</a> - <a href="index.html">STRUCT</a> - AliSHILv3.cxx<span style="font-size: 80%;"> (source / <a href="AliSHILv3.cxx.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">461</td>
            <td class="headerCovTableEntry">470</td>
            <td class="headerCovTableEntryHi">98.1 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2016-06-14 17:26:59</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">9</td>
            <td class="headerCovTableEntry">9</td>
            <td class="headerCovTableEntryHi">100.0 %</td>
          </tr>
          <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : /**************************************************************************</a>
<span class="lineNum">       2 </span>            :  * Copyright(c) 1998-1999, ALICE Experiment at CERN, All rights reserved. *
<span class="lineNum">       3 </span>            :  *                                                                        *
<span class="lineNum">       4 </span>            :  * Author: The ALICE Off-line Project.                                    *
<span class="lineNum">       5 </span>            :  * Contributors are mentioned in the code where appropriate.              *
<span class="lineNum">       6 </span>            :  *                                                                        *
<span class="lineNum">       7 </span>            :  * Permission to use, copy, modify and distribute this software and its   *
<span class="lineNum">       8 </span>            :  * documentation strictly for non-commercial purposes is hereby granted   *
<span class="lineNum">       9 </span>            :  * without fee, provided that the above copyright notice appears in all   *
<span class="lineNum">      10 </span>            :  * copies and that both the copyright notice and this permission notice   *
<span class="lineNum">      11 </span>            :  * appear in the supporting documentation. The authors make no claims     *
<span class="lineNum">      12 </span>            :  * about the suitability of this software for any purpose. It is          *
<span class="lineNum">      13 </span>            :  * provided &quot;as is&quot; without express or implied warranty.                  *
<span class="lineNum">      14 </span>            :  **************************************************************************/
<span class="lineNum">      15 </span>            : 
<span class="lineNum">      16 </span>            : /* $Id$ */
<span class="lineNum">      17 </span>            : 
<span class="lineNum">      18 </span>            : //-------------------------------------------------------------------------
<span class="lineNum">      19 </span>            : // The small angle absorber SAA (beam shield)
<span class="lineNum">      20 </span>            : // Author: A.Morsch
<span class="lineNum">      21 </span>            : // andreas.morsch@cern.ch
<span class="lineNum">      22 </span>            : //-------------------------------------------------------------------------
<span class="lineNum">      23 </span>            : 
<span class="lineNum">      24 </span>            : #include &lt;TVirtualMC.h&gt;
<span class="lineNum">      25 </span>            : #include &lt;TArrayI.h&gt;
<span class="lineNum">      26 </span>            : #include &lt;TGeoVolume.h&gt;
<span class="lineNum">      27 </span>            : #include &lt;TGeoTube.h&gt;
<span class="lineNum">      28 </span>            : #include &lt;TGeoManager.h&gt;
<span class="lineNum">      29 </span>            : #include &lt;TGeoMatrix.h&gt;
<span class="lineNum">      30 </span>            : #include &lt;TGeoCompositeShape.h&gt;
<span class="lineNum">      31 </span>            : #include &lt;TGeoBBox.h&gt;
<span class="lineNum">      32 </span>            : #include &lt;TGeoPgon.h&gt;
<span class="lineNum">      33 </span>            : #include &lt;TGeoCone.h&gt;
<span class="lineNum">      34 </span>            : 
<span class="lineNum">      35 </span>            : #include &quot;AliSHILv3.h&quot;
<span class="lineNum">      36 </span>            : #include &quot;AliConst.h&quot;
<a name="37"><span class="lineNum">      37 </span>            : #include &quot;AliLog.h&quot;</a>
<span class="lineNum">      38 </span>            : 
<span class="lineNum">      39 </span><span class="lineCov">         12 : ClassImp(AliSHILv3)</span>
<a name="40"><span class="lineNum">      40 </span>            :  </a>
<span class="lineNum">      41 </span>            : //_____________________________________________________________________________
<span class="lineNum">      42 </span><span class="lineCov">         12 : AliSHILv3::AliSHILv3()</span>
<span class="lineNum">      43 </span><span class="lineCov">         60 : {</span>
<span class="lineNum">      44 </span>            :   //
<span class="lineNum">      45 </span>            :   // Default constructor for muon shield
<span class="lineNum">      46 </span>            :   //
<span class="lineNum">      47 </span><span class="lineCov">         24 : }</span>
<a name="48"><span class="lineNum">      48 </span>            :  </a>
<span class="lineNum">      49 </span>            : //_____________________________________________________________________________
<span class="lineNum">      50 </span>            : AliSHILv3::AliSHILv3(const char *name, const char *title)
<span class="lineNum">      51 </span><span class="lineCov">          1 :   : AliSHIL(name,title)</span>
<span class="lineNum">      52 </span><span class="lineCov">          5 : {</span>
<span class="lineNum">      53 </span>            :   //
<span class="lineNum">      54 </span>            :   // Standard constructor for muon shield
<span class="lineNum">      55 </span>            :   //
<span class="lineNum">      56 </span><span class="lineCov">          2 : }</span>
<a name="57"><span class="lineNum">      57 </span>            :  </a>
<span class="lineNum">      58 </span>            : //_____________________________________________________________________________
<span class="lineNum">      59 </span>            : void AliSHILv3::CreateGeometry()
<span class="lineNum">      60 </span>            : {
<span class="lineNum">      61 </span>            : //
<span class="lineNum">      62 </span>            : // The geometry of the small angle absorber &quot;Beam Shield&quot;
<span class="lineNum">      63 </span>            : //
<span class="lineNum">      64 </span>            :     Float_t dz, dr, z, rmax;
<span class="lineNum">      65 </span>            : //
<span class="lineNum">      66 </span>            : // The top volume
<span class="lineNum">      67 </span>            : //
<span class="lineNum">      68 </span><span class="lineCov">          2 :     TGeoVolume* top = gGeoManager-&gt;GetVolume(&quot;ALIC&quot;);</span>
<span class="lineNum">      69 </span>            : //  Rotations
<span class="lineNum">      70 </span><span class="lineCov">          1 :     TGeoRotation* rot000 = new TGeoRotation(&quot;rot000&quot;,  90.,   0., 90.,  90., 0., 0.);</span>
<span class="lineNum">      71 </span><span class="lineCov">          1 :     TGeoRotation* rot090 = new TGeoRotation(&quot;rot090&quot;,  90.,  90., 90., 180., 0., 0.);</span>
<span class="lineNum">      72 </span><span class="lineCov">          1 :     TGeoRotation* rot180 = new TGeoRotation(&quot;rot180&quot;,  90., 180., 90., 270., 0., 0.);</span>
<span class="lineNum">      73 </span><span class="lineCov">          1 :     TGeoRotation* rot270 = new TGeoRotation(&quot;rot270&quot;,  90., 270., 90.,   0., 0., 0.);</span>
<span class="lineNum">      74 </span>            :     Float_t alhc = 0.794;
<span class="lineNum">      75 </span><span class="lineCov">          1 :     TGeoRotation* rotxzlhc   = new TGeoRotation(&quot;rotxzlhc&quot;, 0.,  -alhc, 0.);</span>
<span class="lineNum">      76 </span><span class="lineCov">          1 :     TGeoRotation* rotlhc     = new TGeoRotation(&quot;rotlhc&quot;,   0.,   alhc, 0.);</span>
<span class="lineNum">      77 </span>            : 
<span class="lineNum">      78 </span>            : //
<span class="lineNum">      79 </span>            : // Media
<span class="lineNum">      80 </span>            : //
<span class="lineNum">      81 </span><span class="lineCov">          1 :     TGeoMedium* kMedNiW     = gGeoManager-&gt;GetMedium(&quot;SHIL_Ni/W0&quot;);</span>
<span class="lineNum">      82 </span><span class="lineCov">          1 :     TGeoMedium* kMedNiWsh   = gGeoManager-&gt;GetMedium(&quot;SHIL_Ni/W3&quot;);</span>
<span class="lineNum">      83 </span>            : //
<span class="lineNum">      84 </span><span class="lineCov">          1 :     TGeoMedium* kMedSteel   = gGeoManager-&gt;GetMedium(&quot;SHIL_ST_C0&quot;);</span>
<span class="lineNum">      85 </span><span class="lineCov">          1 :     TGeoMedium* kMedSteelSh = gGeoManager-&gt;GetMedium(&quot;SHIL_ST_C3&quot;);</span>
<span class="lineNum">      86 </span>            : //
<span class="lineNum">      87 </span><span class="lineCov">          1 :     TGeoMedium* kMedAir     = gGeoManager-&gt;GetMedium(&quot;SHIL_AIR_C0&quot;);</span>
<span class="lineNum">      88 </span><span class="lineCov">          1 :     TGeoMedium* kMedAirMu   = gGeoManager-&gt;GetMedium(&quot;SHIL_AIR_MUON&quot;);</span>
<span class="lineNum">      89 </span>            : //
<span class="lineNum">      90 </span><span class="lineCov">          1 :     TGeoMedium* kMedPb      = gGeoManager-&gt;GetMedium(&quot;SHIL_PB_C0&quot;);</span>
<span class="lineNum">      91 </span><span class="lineCov">          1 :     TGeoMedium* kMedPbSh    = gGeoManager-&gt;GetMedium(&quot;SHIL_PB_C2&quot;);</span>
<span class="lineNum">      92 </span>            : //
<span class="lineNum">      93 </span><span class="lineCov">          1 :     TGeoMedium* kMedConcSh  = gGeoManager-&gt;GetMedium(&quot;SHIL_CC_C2&quot;);</span>
<span class="lineNum">      94 </span>            : //
<span class="lineNum">      95 </span><span class="lineCov">          1 :     TGeoMedium* kMedCastiron   = gGeoManager-&gt;GetMedium(&quot;SHIL_CAST_IRON0&quot;);</span>
<span class="lineNum">      96 </span><span class="lineCov">          1 :     TGeoMedium* kMedCastironSh = gGeoManager-&gt;GetMedium(&quot;SHIL_CAST_IRON2&quot;);</span>
<span class="lineNum">      97 </span>            : //
<span class="lineNum">      98 </span><span class="lineCov">          1 :     const Float_t kDegRad = TMath::Pi() / 180.;</span>
<span class="lineNum">      99 </span><span class="lineCov">          1 :     const Float_t kAngle02   = TMath::Tan( 2.00   * kDegRad);   </span>
<span class="lineNum">     100 </span><span class="lineCov">          1 :     const Float_t kAngle0071 = TMath::Tan( 0.71   * kDegRad);   </span>
<span class="lineNum">     101 </span>            : 
<span class="lineNum">     102 </span>            : 
<span class="lineNum">     103 </span>            : ///////////////////////////////////
<span class="lineNum">     104 </span>            : //    FA Tungsten Tail           //
<span class="lineNum">     105 </span>            : //    Drawing ALIP2A__0049       //
<span class="lineNum">     106 </span>            : //    Drawing ALIP2A__0111       //
<span class="lineNum">     107 </span>            : ///////////////////////////////////
<span class="lineNum">     108 </span>            : //
<span class="lineNum">     109 </span>            : //    The tail as built is shorter than in drawing ALIP2A__0049. 
<span class="lineNum">     110 </span>            : //    The CDD data base has to be updated !
<span class="lineNum">     111 </span>            : //
<span class="lineNum">     112 </span>            : //    Inner radius at the entrance of the flange
<span class="lineNum">     113 </span>            :       Float_t rInFaWTail1  = 13.98/2.;
<span class="lineNum">     114 </span>            : //    Outer radius at the entrance of the flange
<span class="lineNum">     115 </span>            :       Float_t rOuFaWTail1  = 52.00/2.;
<span class="lineNum">     116 </span>            : //    Outer radius at the end of the section inside the FA
<span class="lineNum">     117 </span>            :       Float_t rOuFaWTail2  = 35.27/2.;
<span class="lineNum">     118 </span>            : //    Length of the Flange section inside the FA
<span class="lineNum">     119 </span>            :       Float_t dzFaWTail1   =  6.00;
<span class="lineNum">     120 </span>            : //    Length of the Flange section ouside the FA
<span class="lineNum">     121 </span>            :       Float_t dzFaWTail2   = 12.70;
<span class="lineNum">     122 </span>            : //    Inner radius at the end of the section inside the FA 
<span class="lineNum">     123 </span><span class="lineCov">          1 :       Float_t rInFaWTail2  = rInFaWTail1 +  dzFaWTail1 * kAngle0071;</span>
<span class="lineNum">     124 </span>            : //    Inner radius at the end of the flange
<span class="lineNum">     125 </span><span class="lineCov">          1 :       Float_t rInFaWTail3  = rInFaWTail2 +  dzFaWTail2 * kAngle0071;</span>
<span class="lineNum">     126 </span>            : //    Outer radius at the end of the flange
<span class="lineNum">     127 </span><span class="lineCov">          1 :       Float_t rOuFaWTail3  = rOuFaWTail2 +  dzFaWTail2 * kAngle02;</span>
<span class="lineNum">     128 </span>            : //    Outer radius of the recess for station 1
<span class="lineNum">     129 </span>            :       Float_t rOuFaWTailR  = 30.8/2.;
<span class="lineNum">     130 </span>            : //    Length of the recess
<span class="lineNum">     131 </span>            :       Float_t dzFaWTailR   = 36.00;
<span class="lineNum">     132 </span>            : //    Inner radiues at the end of the recess      
<span class="lineNum">     133 </span><span class="lineCov">          1 :       Float_t rInFaWTail4  =  rInFaWTail3 +  dzFaWTailR * kAngle0071;</span>
<span class="lineNum">     134 </span>            : //    Outer radius at the end of the recess      
<span class="lineNum">     135 </span><span class="lineCov">          1 :       Float_t rOuFaWTail4  =  rOuFaWTail3 +  dzFaWTailR * kAngle02;</span>
<span class="lineNum">     136 </span>            : //    Inner radius of the straight section
<span class="lineNum">     137 </span>            :       Float_t rInFaWTailS  = 22.30/2.;
<span class="lineNum">     138 </span>            : //    Length of the bulge
<span class="lineNum">     139 </span>            :       Float_t dzFaWTailB   = 13.0;
<span class="lineNum">     140 </span>            : //    Outer radius at the end of the bulge
<span class="lineNum">     141 </span><span class="lineCov">          1 :       Float_t rOuFaWTailB  =  rOuFaWTail4 +  dzFaWTailB * kAngle02;</span>
<span class="lineNum">     142 </span>            : //    Outer radius at the end of the tail 
<span class="lineNum">     143 </span>            :       Float_t rOuFaWTailE  = 31.6/2.;
<span class="lineNum">     144 </span>            : //    Total length of the tail
<span class="lineNum">     145 </span>            :       const Float_t dzFaWTail    = 70.7;
<span class="lineNum">     146 </span>            : 
<span class="lineNum">     147 </span><span class="lineCov">          1 :       TGeoPcon* shFaWTail = new TGeoPcon(0., 360., 10);</span>
<span class="lineNum">     148 </span>            :       z    = 0.;
<span class="lineNum">     149 </span>            : //    Flange section inside FA
<span class="lineNum">     150 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(0,  z, rInFaWTail1, rOuFaWTail1);</span>
<span class="lineNum">     151 </span>            :       z += dzFaWTail1;
<span class="lineNum">     152 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(1,  z, rInFaWTail2, rOuFaWTail1);      </span>
<span class="lineNum">     153 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(2,  z, rInFaWTail2, rOuFaWTail2);      </span>
<span class="lineNum">     154 </span>            : //    Flange section outside FA
<span class="lineNum">     155 </span>            :       z +=  dzFaWTail2;
<span class="lineNum">     156 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(3,  z, rInFaWTail3, rOuFaWTail3);      </span>
<span class="lineNum">     157 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(4,  z, rInFaWTail3, rOuFaWTailR);</span>
<span class="lineNum">     158 </span>            : //    Recess Station 1
<span class="lineNum">     159 </span>            :       z +=  dzFaWTailR;
<span class="lineNum">     160 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(5,  z, rInFaWTail4, rOuFaWTailR); </span>
<span class="lineNum">     161 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(6,  z, rInFaWTailS, rOuFaWTail4);</span>
<span class="lineNum">     162 </span>            : //    Bulge
<span class="lineNum">     163 </span>            :       z += dzFaWTailB;
<span class="lineNum">     164 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(7,  z, rInFaWTailS, rOuFaWTailB);</span>
<span class="lineNum">     165 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(8,  z, rInFaWTailS, rOuFaWTailE);</span>
<span class="lineNum">     166 </span>            : //    End
<span class="lineNum">     167 </span>            :       z =  dzFaWTail;
<span class="lineNum">     168 </span><span class="lineCov">          1 :       shFaWTail-&gt;DefineSection(9,  z, rInFaWTailS, rOuFaWTailE);</span>
<span class="lineNum">     169 </span>            :       
<span class="lineNum">     170 </span><span class="lineCov">          1 :       TGeoVolume* voFaWTail = new TGeoVolume(&quot;YFaWTail&quot;, shFaWTail, kMedNiW);</span>
<span class="lineNum">     171 </span>            : //
<span class="lineNum">     172 </span>            : //    Define an inner region with higher transport cuts
<span class="lineNum">     173 </span><span class="lineCov">          1 :       TGeoPcon* shFaWTailI = new TGeoPcon(0., 360., 4);</span>
<span class="lineNum">     174 </span>            :       z  = 0.;
<span class="lineNum">     175 </span>            :       dr = 3.5;
<span class="lineNum">     176 </span><span class="lineCov">          1 :       shFaWTailI-&gt;DefineSection(0, z, rInFaWTail1,  rInFaWTail1 + dr);</span>
<span class="lineNum">     177 </span>            :       z += (dzFaWTail1 + dzFaWTail2 +  dzFaWTailR);
<span class="lineNum">     178 </span><span class="lineCov">          1 :       shFaWTailI-&gt;DefineSection(1, z, rInFaWTail4,  rInFaWTail4 + dr);</span>
<span class="lineNum">     179 </span><span class="lineCov">          1 :       shFaWTailI-&gt;DefineSection(2, z, rInFaWTailS,  rInFaWTailS + dr);</span>
<span class="lineNum">     180 </span>            :       z = dzFaWTail;
<span class="lineNum">     181 </span><span class="lineCov">          1 :       shFaWTailI-&gt;DefineSection(3, z, rInFaWTailS,  rInFaWTailS + dr);</span>
<span class="lineNum">     182 </span><span class="lineCov">          1 :       TGeoVolume* voFaWTailI = new TGeoVolume(&quot;YFaWTailI&quot;, shFaWTailI, kMedNiWsh);</span>
<span class="lineNum">     183 </span><span class="lineCov">          1 :       voFaWTail-&gt;AddNode(voFaWTailI, 1, gGeoIdentity);</span>
<span class="lineNum">     184 </span>            :       
<span class="lineNum">     185 </span>            : ///////////////////////////////////
<span class="lineNum">     186 </span>            : //                               //
<span class="lineNum">     187 </span>            : // Recess Station 1              //
<span class="lineNum">     188 </span>            : // Drawing ALIP2A__0260          //
<span class="lineNum">     189 </span>            : ///////////////////////////////////
<span class="lineNum">     190 </span>            : 
<span class="lineNum">     191 </span>            : ///////////////////////////////////
<span class="lineNum">     192 </span>            : //    FA W-Ring 2                //
<span class="lineNum">     193 </span>            : //    Drawing ALIP2A__0220       //
<span class="lineNum">     194 </span>            : ///////////////////////////////////
<span class="lineNum">     195 </span>            :       const Float_t kFaWring2Rinner  = 15.41;
<span class="lineNum">     196 </span>            :       const Float_t kFaWring2Router  = 18.40;
<span class="lineNum">     197 </span>            :       const Float_t kFaWring2HWidth  =  3.75;
<span class="lineNum">     198 </span>            :       const Float_t kFaWring2Cutoffx =  3.35;
<span class="lineNum">     199 </span>            :       const Float_t kFaWring2Cutoffy =  3.35;
<span class="lineNum">     200 </span><span class="lineCov">          1 :       TGeoTubeSeg* shFaWring2a  = new TGeoTubeSeg(kFaWring2Rinner, kFaWring2Router, kFaWring2HWidth, 0., 90.);</span>
<span class="lineNum">     201 </span><span class="lineCov">          1 :       shFaWring2a-&gt;SetName(&quot;shFaWring2a&quot;);</span>
<span class="lineNum">     202 </span><span class="lineCov">          1 :       TGeoBBox* shFaWring2b  = new TGeoBBox(kFaWring2Router / 2., kFaWring2Router / 2., kFaWring2HWidth);</span>
<span class="lineNum">     203 </span><span class="lineCov">          1 :       shFaWring2b-&gt;SetName(&quot;shFaWring2b&quot;);</span>
<span class="lineNum">     204 </span>            :       TGeoTranslation* trFaWring2b 
<span class="lineNum">     205 </span><span class="lineCov">          1 :           = new TGeoTranslation(&quot;trFaWring2b&quot;, kFaWring2Router / 2. + kFaWring2Cutoffx, kFaWring2Router / 2. + kFaWring2Cutoffy, 0.);</span>
<span class="lineNum">     206 </span><span class="lineCov">          1 :       trFaWring2b-&gt;RegisterYourself();</span>
<span class="lineNum">     207 </span><span class="lineCov">          1 :       TGeoCompositeShape*  shFaWring2 = new TGeoCompositeShape(&quot;shFaWring2&quot;, &quot;(shFaWring2a)*(shFaWring2b:trFaWring2b)&quot;);</span>
<span class="lineNum">     208 </span><span class="lineCov">          1 :       TGeoVolume* voFaWring2    = new TGeoVolume(&quot;YFA_WRING2&quot;, shFaWring2, kMedNiW);</span>
<span class="lineNum">     209 </span>            : 
<span class="lineNum">     210 </span>            : ///////////////////////////////////
<span class="lineNum">     211 </span>            : //    FA W-Ring 3                //
<span class="lineNum">     212 </span>            : //    Drawing ALIP2A__0219       //
<span class="lineNum">     213 </span>            : ///////////////////////////////////
<span class="lineNum">     214 </span>            :       const Float_t kFaWring3Rinner  = 15.41;
<span class="lineNum">     215 </span>            :       const Float_t kFaWring3Router  = 18.40;
<span class="lineNum">     216 </span>            :       const Float_t kFaWring3HWidth  =  3.75;
<span class="lineNum">     217 </span>            :       const Float_t kFaWring3Cutoffx =  3.35;
<span class="lineNum">     218 </span>            :       const Float_t kFaWring3Cutoffy =  3.35;
<span class="lineNum">     219 </span><span class="lineCov">          1 :       TGeoTubeSeg* shFaWring3a  = new TGeoTubeSeg(kFaWring3Rinner, kFaWring3Router, kFaWring3HWidth, 0., 90.);</span>
<span class="lineNum">     220 </span><span class="lineCov">          1 :       shFaWring3a-&gt;SetName(&quot;shFaWring3a&quot;);</span>
<span class="lineNum">     221 </span><span class="lineCov">          1 :       TGeoBBox* shFaWring3b  = new TGeoBBox(kFaWring3Router / 2., kFaWring3Router / 2., kFaWring3HWidth);</span>
<span class="lineNum">     222 </span><span class="lineCov">          1 :       shFaWring3b-&gt;SetName(&quot;shFaWring3b&quot;);</span>
<span class="lineNum">     223 </span>            :       TGeoTranslation* trFaWring3b 
<span class="lineNum">     224 </span><span class="lineCov">          1 :           = new TGeoTranslation(&quot;trFaWring3b&quot;, kFaWring3Router / 2. + kFaWring3Cutoffx, kFaWring3Router / 2. + kFaWring3Cutoffy, 0.);</span>
<span class="lineNum">     225 </span><span class="lineCov">          1 :       trFaWring3b-&gt;RegisterYourself();</span>
<span class="lineNum">     226 </span><span class="lineCov">          1 :       TGeoCompositeShape*  shFaWring3 = new TGeoCompositeShape(&quot;shFaWring3&quot;, &quot;(shFaWring3a)*(shFaWring3b:trFaWring3b)&quot;);</span>
<span class="lineNum">     227 </span><span class="lineCov">          1 :       TGeoVolume* voFaWring3    = new TGeoVolume(&quot;YFA_WRING3&quot;, shFaWring3, kMedNiW);</span>
<span class="lineNum">     228 </span>            : 
<span class="lineNum">     229 </span>            : ///////////////////////////////////
<span class="lineNum">     230 </span>            : //    FA W-Ring 5                //
<span class="lineNum">     231 </span>            : //    Drawing ALIP2A__0221       //
<span class="lineNum">     232 </span>            : ///////////////////////////////////
<span class="lineNum">     233 </span>            :       const Float_t kFaWring5Rinner = 15.41;
<span class="lineNum">     234 </span>            :       const Float_t kFaWring5Router = 18.67;
<span class="lineNum">     235 </span>            :       const Float_t kFaWring5HWidth =  1.08;
<span class="lineNum">     236 </span><span class="lineCov">          3 :       TGeoVolume* voFaWring5    = new TGeoVolume(&quot;YFA_WRING5&quot;, new TGeoTube(kFaWring5Rinner, kFaWring5Router, kFaWring5HWidth), kMedNiW);</span>
<span class="lineNum">     237 </span>            : 
<span class="lineNum">     238 </span>            : //
<span class="lineNum">     239 </span>            : // Position the rings in the assembly 
<span class="lineNum">     240 </span>            : //      
<span class="lineNum">     241 </span><span class="lineCov">          1 :       TGeoVolumeAssembly* asFaExtraShield = new TGeoVolumeAssembly(&quot;YCRE&quot;);</span>
<span class="lineNum">     242 </span>            : // Distance between rings
<span class="lineNum">     243 </span>            :       const Float_t kFaDWrings = 1.92;
<span class="lineNum">     244 </span>            : //
<span class="lineNum">     245 </span>            :       dz = 0.;
<span class="lineNum">     246 </span>            :       
<span class="lineNum">     247 </span>            :       dz +=  kFaWring2HWidth;
<span class="lineNum">     248 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring2,    1, new TGeoCombiTrans(0., 0., dz, rot180));</span>
<span class="lineNum">     249 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring2,    2, new TGeoCombiTrans(0., 0., dz, rot000));</span>
<span class="lineNum">     250 </span>            :       dz +=   kFaWring2HWidth;
<span class="lineNum">     251 </span>            :       dz +=   kFaDWrings;
<span class="lineNum">     252 </span>            :       dz +=   kFaWring3HWidth;
<span class="lineNum">     253 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring3,    1, new TGeoCombiTrans(0., 0., dz, rot090));</span>
<span class="lineNum">     254 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring3,    2, new TGeoCombiTrans(0., 0., dz, rot270));</span>
<span class="lineNum">     255 </span>            :       dz +=   kFaWring3HWidth;   
<span class="lineNum">     256 </span>            :       dz +=   kFaWring5HWidth;   
<span class="lineNum">     257 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring5,    1, new TGeoTranslation(0., 0., dz));</span>
<span class="lineNum">     258 </span>            :       dz +=   kFaWring5HWidth;   
<span class="lineNum">     259 </span>            :       dz +=   kFaWring3HWidth;   
<span class="lineNum">     260 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring3,    3, new TGeoCombiTrans(0., 0., dz, rot180));</span>
<span class="lineNum">     261 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring3,    4, new TGeoCombiTrans(0., 0., dz, rot000));</span>
<span class="lineNum">     262 </span>            :       dz +=   kFaWring3HWidth;   
<span class="lineNum">     263 </span>            :       dz +=   kFaDWrings;
<span class="lineNum">     264 </span>            :       dz +=   kFaWring2HWidth;
<span class="lineNum">     265 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring2,    3, new TGeoCombiTrans(0., 0., dz, rot090));</span>
<span class="lineNum">     266 </span><span class="lineCov">          2 :       asFaExtraShield-&gt;AddNode(voFaWring2,    4, new TGeoCombiTrans(0., 0., dz, rot270));</span>
<span class="lineNum">     267 </span>            :       dz +=   kFaWring2HWidth;
<span class="lineNum">     268 </span>            : 
<span class="lineNum">     269 </span>            :       
<span class="lineNum">     270 </span>            : ///////////////////////////////////////
<span class="lineNum">     271 </span>            : //                SAA1               //
<span class="lineNum">     272 </span>            : ///////////////////////////////////////
<span class="lineNum">     273 </span>            : 
<span class="lineNum">     274 </span>            : 
<span class="lineNum">     275 </span>            : ///////////////////////////////////////
<span class="lineNum">     276 </span>            : //          FA/SAA1  W Joint         //
<span class="lineNum">     277 </span>            : //          Drawing ALIP2A__0060     //
<span class="lineNum">     278 </span>            : ///////////////////////////////////////
<span class="lineNum">     279 </span>            : 
<span class="lineNum">     280 </span>            : // Length of flange FA side      
<span class="lineNum">     281 </span>            :       Float_t dzFaSaa1F1  =  2.8;
<span class="lineNum">     282 </span>            : // Inner radius of flange FA side
<span class="lineNum">     283 </span>            :       Float_t rInFaSaa1F1 = 32.0/2.;
<span class="lineNum">     284 </span>            : // Outer radius of flange FA side
<span class="lineNum">     285 </span>            :       Float_t rOuFaSaa1F1 = 39.5/2.;
<span class="lineNum">     286 </span>            : // Length of first straight section
<span class="lineNum">     287 </span>            :       Float_t dzFaSaa1S1  = 18.5 - dzFaSaa1F1;
<span class="lineNum">     288 </span>            : // Inner radius of first straight section
<span class="lineNum">     289 </span>            :       Float_t rInFaSaa1S1 = 22.3/2.;
<span class="lineNum">     290 </span>            : // Length of 45 deg transition region
<span class="lineNum">     291 </span>            :       Float_t  dzFaSaa1T1 =  2.2;
<span class="lineNum">     292 </span>            : // Inner radius of second straight section
<span class="lineNum">     293 </span>            :       Float_t rInFaSaa1S2 = 17.9/2.;
<span class="lineNum">     294 </span>            : // Length of second straight section
<span class="lineNum">     295 </span>            :       Float_t dzFaSaa1S2  = 10.1;
<span class="lineNum">     296 </span>            : // Length of flange SAA1 side      
<span class="lineNum">     297 </span>            : //    Float_t dzFaSaa1F2  =  4.0;
<span class="lineNum">     298 </span>            : // Inner radius of flange FA side
<span class="lineNum">     299 </span>            :       Float_t rInFaSaa1F2 = 25.2/2.;
<span class="lineNum">     300 </span>            : // Length of joint
<span class="lineNum">     301 </span>            :       const Float_t dzFaSaa1    = 34.8;
<span class="lineNum">     302 </span>            : // Outer Radius at the end of the joint
<span class="lineNum">     303 </span>            :       Float_t rOuFaSaa1E  = 41.93/2.;
<span class="lineNum">     304 </span>            :       
<span class="lineNum">     305 </span>            :       
<span class="lineNum">     306 </span><span class="lineCov">          1 :       TGeoPcon* shFaSaa1 = new TGeoPcon(0., 360., 8);</span>
<span class="lineNum">     307 </span>            :       z = 0;
<span class="lineNum">     308 </span>            : // Flange FA side      
<span class="lineNum">     309 </span><span class="lineCov">          1 :       shFaSaa1-&gt;DefineSection( 0, z, rInFaSaa1F1, rOuFaSaa1F1 - 0.01);</span>
<span class="lineNum">     310 </span>            :       z += dzFaSaa1F1;
<span class="lineNum">     311 </span><span class="lineCov">          1 :       shFaSaa1-&gt;DefineSection( 1, z, rInFaSaa1F1, 40.0);</span>
<span class="lineNum">     312 </span><span class="lineCov">          1 :       shFaSaa1-&gt;DefineSection( 2, z, rInFaSaa1S1, 40.0);</span>
<span class="lineNum">     313 </span>            : // First straight section
<span class="lineNum">     314 </span>            :       z += dzFaSaa1S1;
<span class="lineNum">     315 </span><span class="lineCov">          1 :       shFaSaa1-&gt;DefineSection( 3, z, rInFaSaa1S1, 40.0);</span>
<span class="lineNum">     316 </span>            : // 45 deg transition region
<span class="lineNum">     317 </span>            :       z += dzFaSaa1T1;
<span class="lineNum">     318 </span><span class="lineCov">          1 :       shFaSaa1-&gt;DefineSection( 4, z, rInFaSaa1S2, 40.0);</span>
<span class="lineNum">     319 </span>            : // Second straight section
<span class="lineNum">     320 </span>            :       z += dzFaSaa1S2;
<span class="lineNum">     321 </span><span class="lineCov">          1 :       shFaSaa1-&gt;DefineSection( 5, z, rInFaSaa1S2, 40.0);</span>
<span class="lineNum">     322 </span><span class="lineCov">          1 :       shFaSaa1-&gt;DefineSection( 6, z, rInFaSaa1F2, 40.0);</span>
<span class="lineNum">     323 </span>            : // Flange SAA1 side
<span class="lineNum">     324 </span>            :       z = dzFaSaa1;
<span class="lineNum">     325 </span><span class="lineCov">          1 :       shFaSaa1-&gt;DefineSection( 7, z, rInFaSaa1F2, rOuFaSaa1E - 0.01);</span>
<span class="lineNum">     326 </span>            : 
<span class="lineNum">     327 </span>            : // Outer 2 deg line
<span class="lineNum">     328 </span><span class="lineCov">         14 :       for (Int_t i  = 1; i &lt; 7; i++) {</span>
<span class="lineNum">     329 </span><span class="lineCov">          6 :           Double_t zp   = shFaSaa1-&gt;GetZ(i);</span>
<span class="lineNum">     330 </span><span class="lineCov">          6 :           Double_t r1   = shFaSaa1-&gt;GetRmin(i);       </span>
<span class="lineNum">     331 </span><span class="lineCov">          6 :           Double_t r2 = 39.5/2. + zp * TMath::Tan(2. * kDegRad) - 0.01;</span>
<span class="lineNum">     332 </span><span class="lineCov">          6 :           shFaSaa1-&gt;DefineSection(i, zp, r1, r2);</span>
<span class="lineNum">     333 </span>            :       }
<span class="lineNum">     334 </span><span class="lineCov">          1 :       TGeoVolume* voFaSaa1 = new TGeoVolume(&quot;YFASAA1&quot;, shFaSaa1, kMedNiWsh);</span>
<span class="lineNum">     335 </span>            : //
<span class="lineNum">     336 </span>            : // Outer region with lower transport cuts
<span class="lineNum">     337 </span><span class="lineCov">          1 :       TGeoCone* shFaSaa1O   = new TGeoCone(dzFaSaa1/2., rOuFaSaa1F1 - 3.5, rOuFaSaa1F1 - 0.01, rOuFaSaa1E - 3.5, rOuFaSaa1E - 0.01);</span>
<span class="lineNum">     338 </span><span class="lineCov">          1 :       TGeoVolume* voFaSaa1O = new TGeoVolume(&quot;YFASAA1O&quot;, shFaSaa1O, kMedNiW);</span>
<span class="lineNum">     339 </span><span class="lineCov">          2 :       voFaSaa1-&gt;AddNode(voFaSaa1O, 1, new TGeoTranslation(0., 0., dzFaSaa1/2.));</span>
<span class="lineNum">     340 </span>            :       
<span class="lineNum">     341 </span>            : 
<span class="lineNum">     342 </span>            : ///////////////////////////////////
<span class="lineNum">     343 </span>            : //    SAA1 Steel Envelope        //
<span class="lineNum">     344 </span>            : //    Drawing ALIP2A__0039       //
<span class="lineNum">     345 </span>            : ///////////////////////////////////
<span class="lineNum">     346 </span>            :       
<span class="lineNum">     347 </span>            :       Float_t rOut;      // Outer radius
<span class="lineNum">     348 </span>            : // Thickness of the steel envelope
<span class="lineNum">     349 </span>            :       Float_t dSt = 4.;
<span class="lineNum">     350 </span>            : // 4 Section
<span class="lineNum">     351 </span>            : // z-positions
<span class="lineNum">     352 </span>            :       Float_t zSaa1StEnv[5] = {111.2, 113.7, 229.3, 195.0};
<span class="lineNum">     353 </span>            : // Radii
<span class="lineNum">     354 </span>            : // 1
<span class="lineNum">     355 </span>            :       Float_t rOuSaa1StEnv1 = 40.4/2.;
<span class="lineNum">     356 </span>            :       Float_t rInSaa1StEnv1 = rOuSaa1StEnv1 - dSt - 0.05;
<span class="lineNum">     357 </span>            : // 2  
<span class="lineNum">     358 </span>            :       Float_t rInSaa1StEnv2 = 41.7/2.;
<span class="lineNum">     359 </span><span class="lineCov">          1 :       Float_t rOuSaa1StEnv2 = rInSaa1StEnv2 + dSt / TMath::Cos(2.0 * kDegRad) - 0.05;</span>
<span class="lineNum">     360 </span>            : // 3         
<span class="lineNum">     361 </span>            :       Float_t rOuSaa1StEnv3 = 57.6/2.; 
<span class="lineNum">     362 </span>            :       Float_t rInSaa1StEnv3 = rOuSaa1StEnv3 - dSt + 0.05;
<span class="lineNum">     363 </span>            : // 4
<span class="lineNum">     364 </span>            :       Float_t rInSaa1StEnv4 = 63.4/2.;
<span class="lineNum">     365 </span><span class="lineCov">          1 :       Float_t rOuSaa1StEnv4 = rInSaa1StEnv4 + dSt / TMath::Cos(1.6 * kDegRad) - 0.05;</span>
<span class="lineNum">     366 </span>            : // end         
<span class="lineNum">     367 </span>            :       Float_t rInSaa1StEnv5 = 74.28/2.;
<span class="lineNum">     368 </span><span class="lineCov">          1 :       Float_t rOuSaa1StEnv5 = rInSaa1StEnv5 + dSt / TMath::Cos(1.6 * kDegRad) - 0.05;</span>
<span class="lineNum">     369 </span>            : // Relative starting position
<span class="lineNum">     370 </span>            :       Float_t zSaa1StEnvS = 3.;
<span class="lineNum">     371 </span>            :       
<span class="lineNum">     372 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1StEnv  = new TGeoPcon(0., 360., 11);</span>
<span class="lineNum">     373 </span>            : // 1st Section
<span class="lineNum">     374 </span>            :       z = zSaa1StEnvS;
<span class="lineNum">     375 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 0, z, rInSaa1StEnv1, rOuSaa1StEnv1);</span>
<span class="lineNum">     376 </span>            :       z += (zSaa1StEnv[0] - dSt);
<span class="lineNum">     377 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 1, z, rInSaa1StEnv1, rOuSaa1StEnv1);</span>
<span class="lineNum">     378 </span>            : // 1 - 2
<span class="lineNum">     379 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 2, z, rInSaa1StEnv1, rOuSaa1StEnv2);</span>
<span class="lineNum">     380 </span>            :       z +=  dSt;
<span class="lineNum">     381 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 3, z, rInSaa1StEnv1, rOuSaa1StEnv2);      </span>
<span class="lineNum">     382 </span>            : // 2nd Section
<span class="lineNum">     383 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 4, z, rInSaa1StEnv2, rOuSaa1StEnv2);      </span>
<span class="lineNum">     384 </span>            :       z += zSaa1StEnv[1];
<span class="lineNum">     385 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 5, z, rInSaa1StEnv3, rOuSaa1StEnv3);      </span>
<span class="lineNum">     386 </span>            : // 3rd Section  
<span class="lineNum">     387 </span>            :       z += (zSaa1StEnv[2] - dSt);
<span class="lineNum">     388 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 6, z, rInSaa1StEnv3, rOuSaa1StEnv3);      </span>
<span class="lineNum">     389 </span>            : // 3 - 4
<span class="lineNum">     390 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 7, z, rInSaa1StEnv3, rOuSaa1StEnv4);</span>
<span class="lineNum">     391 </span>            :       z += dSt;
<span class="lineNum">     392 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 8, z, rInSaa1StEnv3, rOuSaa1StEnv4);</span>
<span class="lineNum">     393 </span>            : // 4th Section
<span class="lineNum">     394 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection( 9, z, rInSaa1StEnv4, rOuSaa1StEnv4);</span>
<span class="lineNum">     395 </span>            :       z += zSaa1StEnv[3];
<span class="lineNum">     396 </span><span class="lineCov">          1 :       shSaa1StEnv-&gt;DefineSection(10, z, rInSaa1StEnv5, rOuSaa1StEnv5);      </span>
<span class="lineNum">     397 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1StEnv  =  new TGeoVolume(&quot;YSAA1_SteelEnvelope&quot;, shSaa1StEnv, kMedSteel);</span>
<span class="lineNum">     398 </span>            : 
<span class="lineNum">     399 </span>            : 
<span class="lineNum">     400 </span>            :       
<span class="lineNum">     401 </span>            :  
<span class="lineNum">     402 </span>            : 
<span class="lineNum">     403 </span>            : ///////////////////////////////////
<span class="lineNum">     404 </span>            : //    SAA1 W-Pipe                //
<span class="lineNum">     405 </span>            : //    Drawing ALIP2A__0059       //
<span class="lineNum">     406 </span>            : ///////////////////////////////////
<span class="lineNum">     407 </span>            : //
<span class="lineNum">     408 </span>            : //    Flange FA side
<span class="lineNum">     409 </span>            : //    Length of first section      
<span class="lineNum">     410 </span>            :       Float_t dzSaa1WPipeF1  = 0.9;
<span class="lineNum">     411 </span>            : //    Outer radius 
<span class="lineNum">     412 </span>            :       Float_t rOuSaa1WPipeF1 = 24.5/2.;
<span class="lineNum">     413 </span>            : //    Inner Radius
<span class="lineNum">     414 </span>            :       Float_t rInSaa1WPipeF1 = 22.0/2.;
<span class="lineNum">     415 </span>            : //    Length of second section
<span class="lineNum">     416 </span>            :       Float_t dzSaa1WPipeF11 =  2.1;
<span class="lineNum">     417 </span>            : //    Inner Radius
<span class="lineNum">     418 </span>            :       Float_t rInSaa1WPipeF11 = 18.5/2.;
<span class="lineNum">     419 </span>            : //
<span class="lineNum">     420 </span>            : //    Central tube 
<span class="lineNum">     421 </span>            : //    Length 
<span class="lineNum">     422 </span>            :       Float_t dzSaa1WPipeC = 111.2;
<span class="lineNum">     423 </span>            : //    Inner Radius at the end
<span class="lineNum">     424 </span>            :       Float_t rInSaa1WPipeC = 22.0/2.;
<span class="lineNum">     425 </span>            : //    Outer Radius
<span class="lineNum">     426 </span>            :       Float_t rOuSaa1WPipeC = 31.9/2.;
<span class="lineNum">     427 </span>            : //
<span class="lineNum">     428 </span>            : //    Flange SAA2 Side
<span class="lineNum">     429 </span>            : //    Length
<span class="lineNum">     430 </span>            :       Float_t dzSaa1WPipeF2  = 6.0;
<span class="lineNum">     431 </span>            : //    Outer radius 
<span class="lineNum">     432 </span>            :       Float_t rOuSaa1WPipeF2 = 41.56/2.;
<span class="lineNum">     433 </span>            : 
<span class="lineNum">     434 </span>            : //
<span class="lineNum">     435 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1WPipe  = new TGeoPcon(0., 360., 8);</span>
<span class="lineNum">     436 </span>            :       z = 0.;
<span class="lineNum">     437 </span>            : // Flange FA side first section
<span class="lineNum">     438 </span><span class="lineCov">          1 :       shSaa1WPipe-&gt;DefineSection( 0, z, rInSaa1WPipeF1 , rOuSaa1WPipeF1);</span>
<span class="lineNum">     439 </span>            :       z += dzSaa1WPipeF1;
<span class="lineNum">     440 </span><span class="lineCov">          1 :       shSaa1WPipe-&gt;DefineSection( 1, z, rInSaa1WPipeF1 , rOuSaa1WPipeF1);</span>
<span class="lineNum">     441 </span>            : // Flange FA side second section
<span class="lineNum">     442 </span><span class="lineCov">          1 :       shSaa1WPipe-&gt;DefineSection( 2, z, rInSaa1WPipeF11, rOuSaa1WPipeF1);</span>
<span class="lineNum">     443 </span>            :       z += dzSaa1WPipeF11;
<span class="lineNum">     444 </span><span class="lineCov">          1 :       shSaa1WPipe-&gt;DefineSection( 3, z, rInSaa1WPipeF11, rOuSaa1WPipeF1);</span>
<span class="lineNum">     445 </span>            : // Central Section
<span class="lineNum">     446 </span><span class="lineCov">          1 :       shSaa1WPipe-&gt;DefineSection( 4, z, rInSaa1WPipeF11, rOuSaa1WPipeC);</span>
<span class="lineNum">     447 </span>            :       z += dzSaa1WPipeC;
<span class="lineNum">     448 </span><span class="lineCov">          1 :       shSaa1WPipe-&gt;DefineSection( 5, z, rInSaa1WPipeC,   rOuSaa1WPipeC);</span>
<span class="lineNum">     449 </span>            : // Flange SAA2 side
<span class="lineNum">     450 </span><span class="lineCov">          1 :       shSaa1WPipe-&gt;DefineSection( 6, z, rInSaa1WPipeC,   rOuSaa1WPipeF2);</span>
<span class="lineNum">     451 </span>            :       z +=  dzSaa1WPipeF2;
<span class="lineNum">     452 </span><span class="lineCov">          1 :       shSaa1WPipe-&gt;DefineSection( 7, z, rInSaa1WPipeC,   rOuSaa1WPipeF2);</span>
<span class="lineNum">     453 </span>            : 
<span class="lineNum">     454 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1WPipe  =  new TGeoVolume(&quot;YSAA1_WPipe&quot;, shSaa1WPipe, kMedNiW);</span>
<span class="lineNum">     455 </span>            : //
<span class="lineNum">     456 </span>            : // Inner region with higher transport cuts
<span class="lineNum">     457 </span><span class="lineCov">          1 :       TGeoTube*   shSaa1WPipeI = new TGeoTube(rInSaa1WPipeC, rOuSaa1WPipeC, dzSaa1WPipeC/2.);</span>
<span class="lineNum">     458 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1WPipeI =  new TGeoVolume(&quot;YSAA1_WPipeI&quot;, shSaa1WPipeI, kMedNiWsh);</span>
<span class="lineNum">     459 </span><span class="lineCov">          2 :       voSaa1WPipe-&gt;AddNode(voSaa1WPipeI, 1, new TGeoTranslation(0., 0., dzSaa1WPipeF1 + dzSaa1WPipeF11 + dzSaa1WPipeC/2));</span>
<span class="lineNum">     460 </span>            :       
<span class="lineNum">     461 </span>            : 
<span class="lineNum">     462 </span>            : ///////////////////////////////////
<span class="lineNum">     463 </span>            : //    SAA1 Pb Components         //
<span class="lineNum">     464 </span>            : //    Drawing ALIP2A__0078       //
<span class="lineNum">     465 </span>            : ///////////////////////////////////
<span class="lineNum">     466 </span>            : //
<span class="lineNum">     467 </span>            : //    Inner angle
<span class="lineNum">     468 </span><span class="lineCov">          1 :       Float_t tanAlpha = TMath::Tan(1.69    / 2. * kDegRad);</span>
<span class="lineNum">     469 </span><span class="lineCov">          1 :       Float_t tanBeta  = TMath::Tan(3.20    / 2. * kDegRad);    </span>
<span class="lineNum">     470 </span>            : // 
<span class="lineNum">     471 </span>            : //    1st Section 2deg opening cone
<span class="lineNum">     472 </span>            : //    Length 
<span class="lineNum">     473 </span>            :       Float_t dzSaa1PbComp1 = 100.23;
<span class="lineNum">     474 </span>            : //    Inner radius at entrance
<span class="lineNum">     475 </span>            :       Float_t rInSaa1PbComp1 = 22.0/2.; // It's 21 cm diameter in the drawing. Is this a typo ??!!
<span class="lineNum">     476 </span>            : //    Outer radius at entrance
<span class="lineNum">     477 </span>            :       Float_t rOuSaa1PbComp1 = 42.0/2.;
<span class="lineNum">     478 </span>            : //
<span class="lineNum">     479 </span>            : //    2nd Section: Straight Section
<span class="lineNum">     480 </span>            : //    Length 
<span class="lineNum">     481 </span>            :       Float_t dzSaa1PbComp2  = 236.77;
<span class="lineNum">     482 </span>            : //    Inner radius
<span class="lineNum">     483 </span><span class="lineCov">          1 :       Float_t rInSaa1PbComp2 = rInSaa1PbComp1 + dzSaa1PbComp1 * tanAlpha;</span>
<span class="lineNum">     484 </span>            : //    Outer radius
<span class="lineNum">     485 </span>            :       Float_t rOuSaa1PbComp2 = 49.0/2.;
<span class="lineNum">     486 </span>            : //
<span class="lineNum">     487 </span>            : //    3rd Section: 1.6deg opening cone until bellow
<span class="lineNum">     488 </span>            : //    Length 
<span class="lineNum">     489 </span>            :       Float_t dzSaa1PbComp3 = 175.6;
<span class="lineNum">     490 </span>            : //    Inner radius        
<span class="lineNum">     491 </span><span class="lineCov">          1 :       Float_t  rInSaa1PbComp3 = rInSaa1PbComp2 + dzSaa1PbComp2 * tanAlpha;</span>
<span class="lineNum">     492 </span>            : //    Outer radius
<span class="lineNum">     493 </span>            :       Float_t rOuSaa1PbComp3 = 62.8/2.;
<span class="lineNum">     494 </span>            : //   
<span class="lineNum">     495 </span>            : //   4th Section: Bellow region
<span class="lineNum">     496 </span>            :       Float_t dzSaa1PbComp4  = 26.4;
<span class="lineNum">     497 </span>            : //    Inner radius        
<span class="lineNum">     498 </span>            :       Float_t  rInSaa1PbComp4 = 37.1/2.;
<span class="lineNum">     499 </span>            :       Float_t  rInSaa1PbCompB = 43.0/2.;
<span class="lineNum">     500 </span>            : //    Outer radius
<span class="lineNum">     501 </span><span class="lineCov">          1 :       Float_t rOuSaa1PbComp4  = rOuSaa1PbComp3 +  dzSaa1PbComp3 * tanBeta;</span>
<span class="lineNum">     502 </span>            : //
<span class="lineNum">     503 </span>            : //   5th Section: Flange SAA2 side
<span class="lineNum">     504 </span>            : //   1st detail 
<span class="lineNum">     505 </span>            :       Float_t dzSaa1PbCompF1  = 4.;
<span class="lineNum">     506 </span>            :       Float_t rOuSaa1PbCompF1 = 74.1/2.;
<span class="lineNum">     507 </span>            : //   2nd detail       
<span class="lineNum">     508 </span>            :       Float_t dzSaa1PbCompF2  = 3.;
<span class="lineNum">     509 </span>            :       Float_t rOuSaa1PbCompF2 = 66.0/2.;
<span class="lineNum">     510 </span>            :       Float_t rOuSaa1PbCompF3 = 58.0/2.;
<span class="lineNum">     511 </span>            :       
<span class="lineNum">     512 </span>            : 
<span class="lineNum">     513 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1PbComp  = new TGeoPcon(0., 360., 11);</span>
<span class="lineNum">     514 </span>            :       z = 120.2;
<span class="lineNum">     515 </span>            : // 2 deg opening cone
<span class="lineNum">     516 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 0, z, rInSaa1PbComp1, rOuSaa1PbComp1);</span>
<span class="lineNum">     517 </span>            :       z += dzSaa1PbComp1;
<span class="lineNum">     518 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 1, z, rInSaa1PbComp2, rOuSaa1PbComp2);</span>
<span class="lineNum">     519 </span>            : // Straight section
<span class="lineNum">     520 </span>            :       z += dzSaa1PbComp2;
<span class="lineNum">     521 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 2, z, rInSaa1PbComp3, rOuSaa1PbComp2);</span>
<span class="lineNum">     522 </span>            : // 1.6 deg opening cone
<span class="lineNum">     523 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 3, z, rInSaa1PbComp3, rOuSaa1PbComp3);</span>
<span class="lineNum">     524 </span>            :       z += dzSaa1PbComp3;
<span class="lineNum">     525 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 4, z, rInSaa1PbComp4, rOuSaa1PbComp4);</span>
<span class="lineNum">     526 </span>            : // Bellow region until outer flange
<span class="lineNum">     527 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 5, z, rInSaa1PbCompB, rOuSaa1PbComp4);</span>
<span class="lineNum">     528 </span>            :       z += (dzSaa1PbComp4 - dzSaa1PbCompF1 -  dzSaa1PbCompF2);
<span class="lineNum">     529 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 6, z, rInSaa1PbCompB, rOuSaa1PbCompF1);</span>
<span class="lineNum">     530 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 7, z, rInSaa1PbCompB, rOuSaa1PbCompF2);</span>
<span class="lineNum">     531 </span>            : // Flange first step
<span class="lineNum">     532 </span>            :       z +=  dzSaa1PbCompF1;
<span class="lineNum">     533 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 8, z, rInSaa1PbCompB, rOuSaa1PbCompF2);</span>
<span class="lineNum">     534 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 9, z, rInSaa1PbCompB, rOuSaa1PbCompF3);</span>
<span class="lineNum">     535 </span>            : // Flange second step
<span class="lineNum">     536 </span>            :       z +=  dzSaa1PbCompF2;
<span class="lineNum">     537 </span><span class="lineCov">          1 :       shSaa1PbComp-&gt;DefineSection( 10, z, rInSaa1PbCompB, rOuSaa1PbCompF3);</span>
<span class="lineNum">     538 </span>            : 
<span class="lineNum">     539 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1PbComp  =  new TGeoVolume(&quot;YSAA1_PbComp&quot;, shSaa1PbComp, kMedPb);</span>
<span class="lineNum">     540 </span>            : //
<span class="lineNum">     541 </span>            : // Inner region with higher transport cuts
<span class="lineNum">     542 </span><span class="lineCov">          1 :       TGeoPcon*   shSaa1PbCompI = MakeShapeFromTemplate(shSaa1PbComp, 0., -3.);</span>
<span class="lineNum">     543 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1PbCompI =  new TGeoVolume(&quot;YSAA1_PbCompI&quot;, shSaa1PbCompI, kMedPbSh);</span>
<span class="lineNum">     544 </span><span class="lineCov">          1 :       voSaa1PbComp-&gt;AddNode(voSaa1PbCompI, 1, gGeoIdentity);</span>
<span class="lineNum">     545 </span>            :       
<span class="lineNum">     546 </span>            : ///////////////////////////////////
<span class="lineNum">     547 </span>            : //    SAA1 W-Cone                //
<span class="lineNum">     548 </span>            : //    Drawing ALIP2A__0058       //
<span class="lineNum">     549 </span>            : ///////////////////////////////////
<span class="lineNum">     550 </span>            :       // Length of the Cone
<span class="lineNum">     551 </span>            :       Float_t dzSaa1WCone = 52.9;
<span class="lineNum">     552 </span>            :       // Inner and outer radii
<span class="lineNum">     553 </span>            :       Float_t rInSaa1WCone1 = 20.4;
<span class="lineNum">     554 </span>            :       Float_t rOuSaa1WCone1 = rInSaa1WCone1 + 0.97;
<span class="lineNum">     555 </span>            :       Float_t rOuSaa1WCone2 = rInSaa1WCone1 + 2.80;
<span class="lineNum">     556 </span>            :       // relative z-position 
<span class="lineNum">     557 </span>            :       Float_t zSaa1WCone    = 9.3;
<span class="lineNum">     558 </span>            :       
<span class="lineNum">     559 </span>            :       
<span class="lineNum">     560 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1WCone  = new TGeoPcon(0., 360., 2);</span>
<span class="lineNum">     561 </span>            :       z = zSaa1WCone;
<span class="lineNum">     562 </span><span class="lineCov">          1 :       shSaa1WCone-&gt;DefineSection( 0, z, rInSaa1WCone1, rOuSaa1WCone1);</span>
<span class="lineNum">     563 </span>            :       z += dzSaa1WCone;
<span class="lineNum">     564 </span><span class="lineCov">          1 :       shSaa1WCone-&gt;DefineSection( 1, z, rInSaa1WCone1, rOuSaa1WCone2);</span>
<span class="lineNum">     565 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1WCone  =  new TGeoVolume(&quot;YSAA1_WCone&quot;, shSaa1WCone, kMedNiW);</span>
<span class="lineNum">     566 </span>            : 
<span class="lineNum">     567 </span>            : ///////////////////////////////////
<span class="lineNum">     568 </span>            : //    SAA1 Steel-Ring            //
<span class="lineNum">     569 </span>            : //    Drawing ALIP2A__0040       //
<span class="lineNum">     570 </span>            : ///////////////////////////////////
<span class="lineNum">     571 </span>            : //
<span class="lineNum">     572 </span>            : //    Length of the ring
<span class="lineNum">     573 </span>            :       Float_t dzSaa1StRing = 4.;
<span class="lineNum">     574 </span>            : //    Inner and outer radius
<span class="lineNum">     575 </span>            :       Float_t rInSaa1String = 33.0;
<span class="lineNum">     576 </span>            :       Float_t rOuSaa1String = 41.1;      
<span class="lineNum">     577 </span>            : //    Relative z-position
<span class="lineNum">     578 </span>            :       Float_t zSaa1StRing   = 652.2;
<span class="lineNum">     579 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1StRing  = new TGeoPcon(0., 360., 2);</span>
<span class="lineNum">     580 </span>            :       z = zSaa1StRing;
<span class="lineNum">     581 </span><span class="lineCov">          1 :       shSaa1StRing-&gt;DefineSection( 0, z, rInSaa1String, rOuSaa1String);</span>
<span class="lineNum">     582 </span>            :       z += dzSaa1StRing;
<span class="lineNum">     583 </span><span class="lineCov">          1 :       shSaa1StRing-&gt;DefineSection( 1, z, rInSaa1String, rOuSaa1String);</span>
<span class="lineNum">     584 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1StRing  =  new TGeoVolume(&quot;YSAA1_StRing&quot;, shSaa1StRing, kMedSteel);</span>
<span class="lineNum">     585 </span>            : 
<span class="lineNum">     586 </span>            : ///////////////////////////////////
<span class="lineNum">     587 </span>            : //    SAA1 Inner Tube            //
<span class="lineNum">     588 </span>            : //    Drawing ALIP2A__0082       //
<span class="lineNum">     589 </span>            : ///////////////////////////////////
<span class="lineNum">     590 </span>            : //
<span class="lineNum">     591 </span>            : // Length of saa2:               659.2 cm
<span class="lineNum">     592 </span>            : // Length of inner tube:         631.9 cm
<span class="lineNum">     593 </span>            : // Lenth of bellow cavern:        27.3 cm    
<span class="lineNum">     594 </span>            : // Radius at entrance 18.5/2,  d = 0.3
<span class="lineNum">     595 </span>            : // Radius at exit     37.1/2,  d = 0.3 
<span class="lineNum">     596 </span>            : //
<span class="lineNum">     597 </span>            :       Float_t dzSaa1InnerTube     = 631.9/2.;  // Half length of the tube  
<span class="lineNum">     598 </span>            :       Float_t rInSaa1InnerTube    =  18.2/2.;  // Radius at entrance
<span class="lineNum">     599 </span>            :       Float_t rOuSaa1InnerTube    =  36.8/2.;  // Radius at exit
<span class="lineNum">     600 </span>            :       Float_t dSaa1InnerTube      =   0.2   ;  // Thickness      
<span class="lineNum">     601 </span><span class="lineCov">          2 :       TGeoVolume* voSaa1InnerTube = new TGeoVolume(&quot;YSAA1_InnerTube&quot;, </span>
<span class="lineNum">     602 </span><span class="lineCov">          3 :                                                    new TGeoCone(dzSaa1InnerTube, </span>
<span class="lineNum">     603 </span>            :                                                                 rInSaa1InnerTube - dSaa1InnerTube, rInSaa1InnerTube,
<span class="lineNum">     604 </span>            :                                                                 rOuSaa1InnerTube - dSaa1InnerTube, rOuSaa1InnerTube),
<span class="lineNum">     605 </span>            :                                                    kMedSteelSh);
<span class="lineNum">     606 </span>            : 
<span class="lineNum">     607 </span>            : ///////////////////////////////////
<span class="lineNum">     608 </span>            : //    SAA1 Outer Shape           //
<span class="lineNum">     609 </span>            : //    Drawing ALIP2A__0107       //
<span class="lineNum">     610 </span>            : ///////////////////////////////////
<span class="lineNum">     611 </span>            :       // Total length 
<span class="lineNum">     612 </span>            :       const Float_t dzSaa1 = 659.2;
<span class="lineNum">     613 </span>            :       //
<span class="lineNum">     614 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1M  = new TGeoPcon(0., 360., 20);</span>
<span class="lineNum">     615 </span>            :       Float_t kSec = 0.2; // security distance to avoid trivial extrusions
<span class="lineNum">     616 </span>            :       Float_t rmin = rInSaa1InnerTube - dSaa1InnerTube - kSec;
<span class="lineNum">     617 </span>            :       rmax = rOuSaa1InnerTube - dSaa1InnerTube - kSec;
<span class="lineNum">     618 </span>            :       z = 0.;
<span class="lineNum">     619 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 0, z, rmin, rOuSaa1WPipeF1);</span>
<span class="lineNum">     620 </span>            :       z += dzSaa1WPipeF1;
<span class="lineNum">     621 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 1, z, rmin, rOuSaa1WPipeF1);</span>
<span class="lineNum">     622 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 2, z, 0.,   rOuSaa1WPipeF1);</span>
<span class="lineNum">     623 </span>            :       z += dzSaa1WPipeF11;
<span class="lineNum">     624 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 3, z, 0.,   rOuSaa1WPipeF1);</span>
<span class="lineNum">     625 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 4, z, 0.,   rOuSaa1StEnv1);</span>
<span class="lineNum">     626 </span>            :       z = zSaa1WCone;
<span class="lineNum">     627 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 5, z, 0.,   rOuSaa1StEnv1);</span>
<span class="lineNum">     628 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 6, z, 0.,   rOuSaa1WCone1);</span>
<span class="lineNum">     629 </span>            :       z += dzSaa1WCone;
<span class="lineNum">     630 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 7, z, 0.,   rOuSaa1WCone2);</span>
<span class="lineNum">     631 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 8, z, 0.,   rOuSaa1StEnv1);</span>
<span class="lineNum">     632 </span>            :       z =  zSaa1StEnv[0] - dSt + zSaa1StEnvS;
<span class="lineNum">     633 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection( 9, z, 0.,   rOuSaa1StEnv1);</span>
<span class="lineNum">     634 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(10, z, 0.,   rOuSaa1StEnv2);</span>
<span class="lineNum">     635 </span>            :       z +=  (zSaa1StEnv[1] + dSt);
<span class="lineNum">     636 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(11, z, 0.,   rOuSaa1StEnv3);</span>
<span class="lineNum">     637 </span>            :       z +=  (zSaa1StEnv[2] - dSt);
<span class="lineNum">     638 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(12, z, 0.,   rOuSaa1StEnv3);</span>
<span class="lineNum">     639 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(13, z, 0.,   rOuSaa1StEnv4);</span>
<span class="lineNum">     640 </span>            : 
<span class="lineNum">     641 </span>            :       z += (zSaa1StEnv[3] - dSt +  dzSaa1PbCompF1 + dzSaa1PbCompF2 - dzSaa1PbComp4);
<span class="lineNum">     642 </span><span class="lineCov">          1 :       Float_t rmaxSaa1 = shSaa1M-&gt;GetRmax(13) + (z - shSaa1M-&gt;GetZ(13)) * TMath::Tan(1.6 * kDegRad);</span>
<span class="lineNum">     643 </span>            : 
<span class="lineNum">     644 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(14, z, 0.,    rmaxSaa1);</span>
<span class="lineNum">     645 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(15, z, rmax,  rmaxSaa1);</span>
<span class="lineNum">     646 </span>            :       z = zSaa1StRing;     
<span class="lineNum">     647 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(16, z, rmax + 0.4, rOuSaa1String);</span>
<span class="lineNum">     648 </span>            :       z += dzSaa1PbCompF1;
<span class="lineNum">     649 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(17, z, rmax + 0.4, rOuSaa1String);</span>
<span class="lineNum">     650 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(18, z, rmax + 0.4, rOuSaa1PbCompF3);</span>
<span class="lineNum">     651 </span>            :       z += dzSaa1PbCompF2;
<span class="lineNum">     652 </span><span class="lineCov">          1 :       shSaa1M-&gt;DefineSection(19, z, rmax + 0.4, rOuSaa1PbCompF3);</span>
<span class="lineNum">     653 </span>            : 
<span class="lineNum">     654 </span>            : //
<span class="lineNum">     655 </span>            : //    Inner 1.69deg line
<span class="lineNum">     656 </span><span class="lineCov">         28 :       for (Int_t i  = 2; i &lt; 15; i++) {</span>
<span class="lineNum">     657 </span><span class="lineCov">         13 :           Double_t zp = shSaa1M-&gt;GetZ(i);</span>
<span class="lineNum">     658 </span><span class="lineCov">         13 :           Double_t r2 = shSaa1M-&gt;GetRmax(i);  </span>
<span class="lineNum">     659 </span><span class="lineCov">         13 :           Double_t r1 = rmin + (zp - 0.9) * TMath::Tan(1.686 / 2. * kDegRad) - kSec;</span>
<span class="lineNum">     660 </span><span class="lineCov">         13 :           shSaa1M-&gt;DefineSection(i, zp, r1, r2);</span>
<span class="lineNum">     661 </span>            :       }
<span class="lineNum">     662 </span>            : 
<span class="lineNum">     663 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1M  =  new TGeoVolume(&quot;YSAA1M&quot;, shSaa1M, kMedAir);</span>
<span class="lineNum">     664 </span><span class="lineCov">          1 :       voSaa1M-&gt;SetVisibility(0);</span>
<span class="lineNum">     665 </span>            :       
<span class="lineNum">     666 </span>            : 
<span class="lineNum">     667 </span>            : ///////////////////////////////////
<span class="lineNum">     668 </span>            : //                               //
<span class="lineNum">     669 </span>            : // Recess Station 2              //
<span class="lineNum">     670 </span>            : // Drawing ALIP2A__0260          //
<span class="lineNum">     671 </span>            : ///////////////////////////////////
<span class="lineNum">     672 </span>            : ///////////////////////////////////
<span class="lineNum">     673 </span>            : //    SAA1 W-Ring 1              //
<span class="lineNum">     674 </span>            : //    Drawing ALIP2A__0217       //
<span class="lineNum">     675 </span>            : ///////////////////////////////////
<span class="lineNum">     676 </span>            :       Float_t saa1Wring1Width  =  5.85;
<span class="lineNum">     677 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1Wring1    = new TGeoPcon(0., 360., 2);</span>
<span class="lineNum">     678 </span><span class="lineCov">          1 :       shSaa1Wring1-&gt;DefineSection(0, 0.00           , 20.31, 23.175);</span>
<span class="lineNum">     679 </span><span class="lineCov">          1 :       shSaa1Wring1-&gt;DefineSection(1, saa1Wring1Width, 20.31, 23.400);</span>
<span class="lineNum">     680 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1Wring1  =  new TGeoVolume(&quot;YSAA1_WRING1&quot;, shSaa1Wring1, kMedNiW);</span>
<span class="lineNum">     681 </span>            : 
<span class="lineNum">     682 </span>            : ///////////////////////////////////
<span class="lineNum">     683 </span>            : //    SAA1 W-Ring 2              //
<span class="lineNum">     684 </span>            : //    Drawing ALIP2A__0055       //
<span class="lineNum">     685 </span>            : ///////////////////////////////////
<span class="lineNum">     686 </span>            :       Float_t saa1Wring2Rinner  = 20.31;
<span class="lineNum">     687 </span>            :       Float_t saa1Wring2Router  = 23.40;
<span class="lineNum">     688 </span>            :       Float_t saa1Wring2HWidth  =  3.75;
<span class="lineNum">     689 </span>            :       Float_t saa1Wring2Cutoffx =  4.9;
<span class="lineNum">     690 </span>            :       Float_t saa1Wring2Cutoffy =  4.9;
<span class="lineNum">     691 </span><span class="lineCov">          1 :       TGeoTubeSeg* shSaa1Wring2a  = new TGeoTubeSeg(saa1Wring2Rinner, saa1Wring2Router, saa1Wring2HWidth, 0., 90.);</span>
<span class="lineNum">     692 </span><span class="lineCov">          1 :       shSaa1Wring2a-&gt;SetName(&quot;shSaa1Wring2a&quot;);</span>
<span class="lineNum">     693 </span><span class="lineCov">          1 :       TGeoBBox* shSaa1Wring2b  = new TGeoBBox(saa1Wring2Router / 2., saa1Wring2Router / 2., saa1Wring2HWidth);</span>
<span class="lineNum">     694 </span><span class="lineCov">          1 :       shSaa1Wring2b-&gt;SetName(&quot;shSaa1Wring2b&quot;);</span>
<span class="lineNum">     695 </span>            :       TGeoTranslation* trSaa1Wring2b 
<span class="lineNum">     696 </span><span class="lineCov">          1 :           = new TGeoTranslation(&quot;trSaa1Wring2b&quot;, saa1Wring2Router / 2. + saa1Wring2Cutoffx, saa1Wring2Router / 2. + saa1Wring2Cutoffy, 0.);</span>
<span class="lineNum">     697 </span><span class="lineCov">          1 :       trSaa1Wring2b-&gt;RegisterYourself();</span>
<span class="lineNum">     698 </span><span class="lineCov">          1 :       TGeoCompositeShape*  shSaa1Wring2 = new TGeoCompositeShape(&quot;shSaa1Wring2&quot;, &quot;(shSaa1Wring2a)*(shSaa1Wring2b:trSaa1Wring2b)&quot;);</span>
<span class="lineNum">     699 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1Wring2 = new TGeoVolume(&quot;YSAA1_WRING2&quot;, shSaa1Wring2, kMedNiW);</span>
<span class="lineNum">     700 </span>            : 
<span class="lineNum">     701 </span>            : ///////////////////////////////////
<span class="lineNum">     702 </span>            : //    SAA1 W-Ring 3              //
<span class="lineNum">     703 </span>            : //    Drawing ALIP2A__0216       //
<span class="lineNum">     704 </span>            : ///////////////////////////////////
<span class="lineNum">     705 </span>            : 
<span class="lineNum">     706 </span>            :       Float_t saa1Wring3Rinner  = 20.31;
<span class="lineNum">     707 </span>            :       Float_t saa1Wring3Router  = 23.40;
<span class="lineNum">     708 </span>            :       Float_t saa1Wring3HWidth  =  3.75;
<span class="lineNum">     709 </span>            :       Float_t saa1Wring3Cutoffx =  4.50;
<span class="lineNum">     710 </span>            :       Float_t saa1Wring3Cutoffy =  4.50;
<span class="lineNum">     711 </span><span class="lineCov">          1 :       TGeoTubeSeg* shSaa1Wring3a  = new TGeoTubeSeg(saa1Wring3Rinner, saa1Wring3Router, saa1Wring3HWidth, 0., 90.);</span>
<span class="lineNum">     712 </span><span class="lineCov">          1 :       shSaa1Wring3a-&gt;SetName(&quot;shSaa1Wring3a&quot;);</span>
<span class="lineNum">     713 </span><span class="lineCov">          1 :       TGeoBBox* shSaa1Wring3b  = new TGeoBBox(saa1Wring3Router / 2., saa1Wring3Router / 2., saa1Wring3HWidth);</span>
<span class="lineNum">     714 </span><span class="lineCov">          1 :       shSaa1Wring3b-&gt;SetName(&quot;shSaa1Wring3b&quot;);</span>
<span class="lineNum">     715 </span>            :       TGeoTranslation* trSaa1Wring3b 
<span class="lineNum">     716 </span><span class="lineCov">          1 :           = new TGeoTranslation(&quot;trSaa1Wring3b&quot;, saa1Wring3Router / 2. + saa1Wring3Cutoffx, saa1Wring3Router / 2. + saa1Wring3Cutoffy, 0.);</span>
<span class="lineNum">     717 </span><span class="lineCov">          1 :       trSaa1Wring3b-&gt;RegisterYourself();</span>
<span class="lineNum">     718 </span><span class="lineCov">          1 :       TGeoCompositeShape*  shSaa1Wring3 = new TGeoCompositeShape(&quot;shSaa1Wring3&quot;, &quot;(shSaa1Wring3a)*(shSaa1Wring3b:trSaa1Wring3b)&quot;);</span>
<span class="lineNum">     719 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1Wring3 = new TGeoVolume(&quot;YSAA1_WRING3&quot;, shSaa1Wring3, kMedNiW);</span>
<span class="lineNum">     720 </span>            : 
<span class="lineNum">     721 </span>            : ///////////////////////////////////
<span class="lineNum">     722 </span>            : //    SAA1 W-Ring 4              //
<span class="lineNum">     723 </span>            : //    Drawing ALIP2A__0215       //
<span class="lineNum">     724 </span>            : ///////////////////////////////////
<span class="lineNum">     725 </span>            :       Float_t saa1Wring4Width  =  5.85;
<span class="lineNum">     726 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1Wring4  = new TGeoPcon(0., 360., 5);</span>
<span class="lineNum">     727 </span><span class="lineCov">          1 :       shSaa1Wring4-&gt;DefineSection(0, 0.00, 20.31, 23.40);</span>
<span class="lineNum">     728 </span><span class="lineCov">          1 :       shSaa1Wring4-&gt;DefineSection(1, 1.00, 20.31, 23.40);</span>
<span class="lineNum">     729 </span><span class="lineCov">          1 :       shSaa1Wring4-&gt;DefineSection(2, 1.00, 20.31, 24.50);      </span>
<span class="lineNum">     730 </span><span class="lineCov">          1 :       shSaa1Wring4-&gt;DefineSection(3, 4.85, 20.31, 24.80);</span>
<span class="lineNum">     731 </span><span class="lineCov">          1 :       shSaa1Wring4-&gt;DefineSection(4, 5.85, 24.10, 24.80);</span>
<span class="lineNum">     732 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1Wring4  =  new TGeoVolume(&quot;YSAA1_WRING4&quot;, shSaa1Wring4, kMedNiW);</span>
<span class="lineNum">     733 </span>            : 
<span class="lineNum">     734 </span>            : ///////////////////////////////////
<span class="lineNum">     735 </span>            : //    SAA1 W-Ring 5              //
<span class="lineNum">     736 </span>            : //    Drawing ALIP2A__0218       //
<span class="lineNum">     737 </span>            : ///////////////////////////////////
<span class="lineNum">     738 </span>            :       Float_t saa1Wring5Rinner = 20.31;
<span class="lineNum">     739 </span>            :       Float_t saa1Wring5Router = 23.40;
<span class="lineNum">     740 </span>            :       Float_t saa1Wring5HWidth =  0.85;
<span class="lineNum">     741 </span><span class="lineCov">          2 :       TGeoVolume* voSaa1Wring5    = new TGeoVolume(&quot;YSAA1_WRING5&quot;, </span>
<span class="lineNum">     742 </span><span class="lineCov">          3 :                                                    new TGeoTube(saa1Wring5Rinner, saa1Wring5Router, saa1Wring5HWidth), kMedNiW);</span>
<span class="lineNum">     743 </span>            : //
<span class="lineNum">     744 </span>            : // Position the rings in the assembly 
<span class="lineNum">     745 </span>            : //      
<span class="lineNum">     746 </span><span class="lineCov">          1 :       TGeoVolumeAssembly* asSaa1ExtraShield = new TGeoVolumeAssembly(&quot;YSAA1ExtraShield&quot;);</span>
<span class="lineNum">     747 </span>            : // Distance between rings
<span class="lineNum">     748 </span>            :       Float_t saa1DWrings = 2.3;
<span class="lineNum">     749 </span>            : //
<span class="lineNum">     750 </span><span class="lineCov">          1 :       dz = - (saa1Wring1Width + 6. * saa1Wring2HWidth + 2. * saa1Wring3HWidth + saa1Wring4Width + 2. * saa1Wring5HWidth + 2. * saa1DWrings) / 2.;</span>
<span class="lineNum">     751 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring1,    1, new TGeoTranslation(0., 0., dz));</span>
<span class="lineNum">     752 </span><span class="lineCov">          1 :       dz +=   saa1Wring1Width;</span>
<span class="lineNum">     753 </span><span class="lineCov">          1 :       dz +=   saa1Wring2HWidth;   </span>
<span class="lineNum">     754 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring2,    1, new TGeoCombiTrans(0., 0., dz, rot000));</span>
<span class="lineNum">     755 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring2,    2, new TGeoCombiTrans(0., 0., dz, rot180));</span>
<span class="lineNum">     756 </span><span class="lineCov">          1 :       dz +=   saa1Wring2HWidth;   </span>
<span class="lineNum">     757 </span><span class="lineCov">          1 :       dz +=   saa1DWrings;</span>
<span class="lineNum">     758 </span><span class="lineCov">          1 :       dz +=   saa1Wring2HWidth;   </span>
<span class="lineNum">     759 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring2,    3, new TGeoCombiTrans(0., 0., dz, rot090));</span>
<span class="lineNum">     760 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring2,    4, new TGeoCombiTrans(0., 0., dz, rot270));</span>
<span class="lineNum">     761 </span><span class="lineCov">          1 :       dz +=   saa1Wring2HWidth;   </span>
<span class="lineNum">     762 </span><span class="lineCov">          1 :       dz +=   saa1Wring5HWidth;   </span>
<span class="lineNum">     763 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring5,    1, new TGeoTranslation(0., 0., dz));</span>
<span class="lineNum">     764 </span><span class="lineCov">          1 :       dz +=   saa1Wring5HWidth;   </span>
<span class="lineNum">     765 </span><span class="lineCov">          1 :       dz +=   saa1Wring2HWidth;   </span>
<span class="lineNum">     766 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring2,    5, new TGeoCombiTrans(0., 0., dz, rot000));</span>
<span class="lineNum">     767 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring2,    6, new TGeoCombiTrans(0., 0., dz, rot180));</span>
<span class="lineNum">     768 </span><span class="lineCov">          1 :       dz +=   saa1Wring2HWidth;   </span>
<span class="lineNum">     769 </span><span class="lineCov">          1 :       dz +=   saa1DWrings;</span>
<span class="lineNum">     770 </span><span class="lineCov">          1 :       dz +=   saa1Wring3HWidth;   </span>
<span class="lineNum">     771 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring3,    1, new TGeoCombiTrans(0., 0., dz, rot090));</span>
<span class="lineNum">     772 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring3,    2, new TGeoCombiTrans(0., 0., dz, rot270));</span>
<span class="lineNum">     773 </span><span class="lineCov">          1 :       dz +=   saa1Wring3HWidth;   </span>
<span class="lineNum">     774 </span><span class="lineCov">          2 :       asSaa1ExtraShield-&gt;AddNode(voSaa1Wring4,    1, new TGeoTranslation(0., 0., dz));</span>
<span class="lineNum">     775 </span>            :       dz +=   saa1Wring4Width;   
<span class="lineNum">     776 </span>            :       const Float_t saa1ExtraShieldL = 48;
<span class="lineNum">     777 </span>            : //
<span class="lineNum">     778 </span>            : // Assemble SAA1
<span class="lineNum">     779 </span><span class="lineCov">          1 :       voSaa1M-&gt;AddNode(voSaa1StEnv,     1, gGeoIdentity);</span>
<span class="lineNum">     780 </span><span class="lineCov">          1 :       voSaa1M-&gt;AddNode(voSaa1WPipe,     1, gGeoIdentity);</span>
<span class="lineNum">     781 </span><span class="lineCov">          1 :       voSaa1M-&gt;AddNode(voSaa1PbComp,    1, gGeoIdentity);</span>
<span class="lineNum">     782 </span><span class="lineCov">          1 :       voSaa1M-&gt;AddNode(voSaa1WCone,     1, gGeoIdentity);</span>
<span class="lineNum">     783 </span><span class="lineCov">          1 :       voSaa1M-&gt;AddNode(voSaa1StRing,    1, gGeoIdentity);</span>
<span class="lineNum">     784 </span><span class="lineCov">          2 :       voSaa1M-&gt;AddNode(voSaa1InnerTube, 1, new TGeoTranslation(0., 0., dzSaa1InnerTube + 0.9));                    </span>
<span class="lineNum">     785 </span><span class="lineCov">          1 :       TGeoVolumeAssembly* voSaa1 = new TGeoVolumeAssembly(&quot;YSAA1&quot;);</span>
<span class="lineNum">     786 </span><span class="lineCov">          1 :       voSaa1-&gt;AddNode(voSaa1M, 1, gGeoIdentity);</span>
<span class="lineNum">     787 </span>            :       
<span class="lineNum">     788 </span>            : ///////////////////////////////////////
<span class="lineNum">     789 </span>            : //          SAA1/SAA2  Pb Joint      //
<span class="lineNum">     790 </span>            : //          Drawing ALIP2A__0081     //
<span class="lineNum">     791 </span>            : ///////////////////////////////////////
<span class="lineNum">     792 </span>            : //
<span class="lineNum">     793 </span>            : // Outer radius
<span class="lineNum">     794 </span>            :       Float_t rOuSaa1Saa2      = 70.0/2.;
<span class="lineNum">     795 </span>            : // Flange SAA1 side
<span class="lineNum">     796 </span>            :       Float_t dzSaa1Saa2F1     =  3.;
<span class="lineNum">     797 </span>            :       Float_t rInSaa1Saa2F1    = 58.5/2.;
<span class="lineNum">     798 </span>            : // 1st Central Section
<span class="lineNum">     799 </span>            :       Float_t dzSaa1Saa2C1     = 19.3;
<span class="lineNum">     800 </span>            :       Float_t rInSaa1Saa2C1    = 42.8/2.;
<span class="lineNum">     801 </span>            : // Transition Region
<span class="lineNum">     802 </span>            :       Float_t dzSaa1Saa2T      =  3.3;
<span class="lineNum">     803 </span>            : // 1st Central Section
<span class="lineNum">     804 </span>            :       Float_t dzSaa1Saa2C2     =  6.2;
<span class="lineNum">     805 </span>            :       Float_t rInSaa1Saa2C2    = 36.2/2.;
<span class="lineNum">     806 </span>            : // Flange SAA2 side
<span class="lineNum">     807 </span>            :       Float_t dzSaa1Saa2F2     =  3.1;
<span class="lineNum">     808 </span>            :       Float_t rInSaa1Saa2F2    = 54.1/2.;
<span class="lineNum">     809 </span>            : // Total length
<span class="lineNum">     810 </span>            :       const Float_t dzSaa1Saa2       = 34.9;
<span class="lineNum">     811 </span>            :       
<span class="lineNum">     812 </span>            :       
<span class="lineNum">     813 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1Saa2Pb = new TGeoPcon(0., 360., 8);</span>
<span class="lineNum">     814 </span>            :       z = 0.;
<span class="lineNum">     815 </span>            : // Flange SAA1 side
<span class="lineNum">     816 </span><span class="lineCov">          1 :       shSaa1Saa2Pb-&gt;DefineSection( 0,  z, rInSaa1Saa2F1, rOuSaa1Saa2);</span>
<span class="lineNum">     817 </span>            :       z += dzSaa1Saa2F1;
<span class="lineNum">     818 </span><span class="lineCov">          1 :       shSaa1Saa2Pb-&gt;DefineSection( 1,  z, rInSaa1Saa2F1, rOuSaa1Saa2);</span>
<span class="lineNum">     819 </span><span class="lineCov">          1 :       shSaa1Saa2Pb-&gt;DefineSection( 2,  z, rInSaa1Saa2C1, rOuSaa1Saa2);</span>
<span class="lineNum">     820 </span>            : // Central region 1
<span class="lineNum">     821 </span>            :       z +=  dzSaa1Saa2C1;
<span class="lineNum">     822 </span><span class="lineCov">          1 :       shSaa1Saa2Pb-&gt;DefineSection( 3,  z, rInSaa1Saa2C1, rOuSaa1Saa2);</span>
<span class="lineNum">     823 </span>            : // 45 deg transition
<span class="lineNum">     824 </span>            :       z += dzSaa1Saa2T;
<span class="lineNum">     825 </span><span class="lineCov">          1 :       shSaa1Saa2Pb-&gt;DefineSection( 4, z, rInSaa1Saa2C2, rOuSaa1Saa2);</span>
<span class="lineNum">     826 </span>            :       z += dzSaa1Saa2C2;
<span class="lineNum">     827 </span><span class="lineCov">          1 :       shSaa1Saa2Pb-&gt;DefineSection( 5, z, rInSaa1Saa2C2, rOuSaa1Saa2);</span>
<span class="lineNum">     828 </span><span class="lineCov">          1 :       shSaa1Saa2Pb-&gt;DefineSection( 6, z, rInSaa1Saa2F2, rOuSaa1Saa2);</span>
<span class="lineNum">     829 </span>            :       z += dzSaa1Saa2F2;
<span class="lineNum">     830 </span><span class="lineCov">          1 :       shSaa1Saa2Pb-&gt;DefineSection( 7, z, rInSaa1Saa2F2, rOuSaa1Saa2);</span>
<span class="lineNum">     831 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1Saa2Pb = new TGeoVolume(&quot;YSAA1SAA2Pb&quot;, shSaa1Saa2Pb, kMedPb);</span>
<span class="lineNum">     832 </span>            : //
<span class="lineNum">     833 </span>            : //    Mother volume and outer steel envelope
<span class="lineNum">     834 </span>            :       Float_t rOuSaa1Saa2Steel = 36.9;
<span class="lineNum">     835 </span>            :       
<span class="lineNum">     836 </span><span class="lineCov">          1 :       TGeoPcon* shSaa1Saa2 = MakeShapeFromTemplate(shSaa1Saa2Pb, 0., rOuSaa1Saa2Steel-rOuSaa1Saa2);</span>
<span class="lineNum">     837 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1Saa2 = new TGeoVolume(&quot;YSAA1SAA2&quot;, shSaa1Saa2, kMedSteel);</span>
<span class="lineNum">     838 </span><span class="lineCov">          1 :       voSaa1Saa2-&gt;AddNode(voSaa1Saa2Pb, 1, gGeoIdentity);</span>
<span class="lineNum">     839 </span>            : //
<span class="lineNum">     840 </span>            : //    Inner region with higher transport cuts
<span class="lineNum">     841 </span>            : //
<span class="lineNum">     842 </span><span class="lineCov">          1 :       TGeoPcon*   shSaa1Saa2I = MakeShapeFromTemplate(shSaa1Saa2Pb, 0., -3.);</span>
<span class="lineNum">     843 </span><span class="lineCov">          1 :       TGeoVolume* voSaa1Saa2I = new TGeoVolume(&quot;YSAA1_SAA2I&quot;, shSaa1Saa2I, kMedPbSh);</span>
<span class="lineNum">     844 </span><span class="lineCov">          1 :       voSaa1Saa2Pb-&gt;AddNode(voSaa1Saa2I, 1, gGeoIdentity);</span>
<span class="lineNum">     845 </span>            :       
<span class="lineNum">     846 </span>            : 
<span class="lineNum">     847 </span>            : 
<span class="lineNum">     848 </span>            : ///////////////////////////////////////
<span class="lineNum">     849 </span>            : //                SAA2               //
<span class="lineNum">     850 </span>            : ///////////////////////////////////////
<span class="lineNum">     851 </span>            : 
<span class="lineNum">     852 </span>            :       
<span class="lineNum">     853 </span>            : ///////////////////////////////////
<span class="lineNum">     854 </span>            : //    SAA2 Steel Envelope        //
<span class="lineNum">     855 </span>            : //    Drawing ALIP2A__0041       //
<span class="lineNum">     856 </span>            : ///////////////////////////////////
<span class="lineNum">     857 </span>            :       dSt = 4.;  // Thickness of steel envelope
<span class="lineNum">     858 </span>            :       // Length of the first section
<span class="lineNum">     859 </span>            :       Float_t dzSaa2StEnv1  = 163.15;
<span class="lineNum">     860 </span>            :       Float_t rInSaa2StEnv1 = 65.8/2.;
<span class="lineNum">     861 </span>            :       // Length of the second section
<span class="lineNum">     862 </span>            :       Float_t dzSaa2StEnv2  = 340.35 - 4.;
<span class="lineNum">     863 </span>            :       Float_t rInSaa2StEnv2 = 87.2/2.;
<span class="lineNum">     864 </span>            :       // Rel. starting position 
<span class="lineNum">     865 </span>            :       Float_t zSaa2StEnv = 3.;
<span class="lineNum">     866 </span>            :       
<span class="lineNum">     867 </span><span class="lineCov">          1 :       TGeoPcon* shSaa2StEnv  = new TGeoPcon(0., 360., 6);</span>
<span class="lineNum">     868 </span>            :       // First Section
<span class="lineNum">     869 </span>            :       z = zSaa2StEnv;
<span class="lineNum">     870 </span><span class="lineCov">          1 :       shSaa2StEnv-&gt;DefineSection( 0, z, rInSaa2StEnv1, rInSaa2StEnv1 + dSt);</span>
<span class="lineNum">     871 </span>            :       z += dzSaa2StEnv1;
<span class="lineNum">     872 </span><span class="lineCov">          1 :       shSaa2StEnv-&gt;DefineSection( 1, z, rInSaa2StEnv1, rInSaa2StEnv1 + dSt);</span>
<span class="lineNum">     873 </span>            :       // Transition region
<span class="lineNum">     874 </span><span class="lineCov">          1 :       shSaa2StEnv-&gt;DefineSection( 2, z, rInSaa2StEnv1, rInSaa2StEnv2 + dSt);           </span>
<span class="lineNum">     875 </span>            :       z += dSt;
<span class="lineNum">     876 </span><span class="lineCov">          1 :       shSaa2StEnv-&gt;DefineSection( 3, z, rInSaa2StEnv1, rInSaa2StEnv2 + dSt);          </span>
<span class="lineNum">     877 </span>            :       // Second section
<span class="lineNum">     878 </span><span class="lineCov">          1 :       shSaa2StEnv-&gt;DefineSection( 4, z, rInSaa2StEnv2, rInSaa2StEnv2 + dSt);           </span>
<span class="lineNum">     879 </span>            :       z += dzSaa2StEnv2;
<span class="lineNum">     880 </span><span class="lineCov">          1 :       shSaa2StEnv-&gt;DefineSection( 5, z, rInSaa2StEnv2, rInSaa2StEnv2 + dSt);           </span>
<span class="lineNum">     881 </span>            : 
<span class="lineNum">     882 </span><span class="lineCov">          1 :       TGeoVolume* voSaa2StEnv  =  new TGeoVolume(&quot;YSAA2_SteelEnvelope&quot;, shSaa2StEnv, kMedSteel);</span>
<span class="lineNum">     883 </span>            : 
<span class="lineNum">     884 </span>            : 
<span class="lineNum">     885 </span>            : ///////////////////////////////////
<span class="lineNum">     886 </span>            : //    SAA2 Pb Ring               //
<span class="lineNum">     887 </span>            : //    Drawing ALIP2A__0080       //
<span class="lineNum">     888 </span>            : //    Drawing ALIP2A__0111       //
<span class="lineNum">     889 </span>            : ///////////////////////////////////
<span class="lineNum">     890 </span>            : //
<span class="lineNum">     891 </span>            : // Rel. position in z
<span class="lineNum">     892 </span>            :       Float_t zSaa2PbRing    = 35.25;  
<span class="lineNum">     893 </span>            : // Length
<span class="lineNum">     894 </span>            :       Float_t dzSaa2PbRing   = 65.90;  
<span class="lineNum">     895 </span>            : // Inner radius
<span class="lineNum">     896 </span>            :       Float_t rInSaa2PbRing  = 37.00;
<span class="lineNum">     897 </span>            : // Outer radius at front
<span class="lineNum">     898 </span>            :       Float_t rOuSaa2PbRingF = 42.74;
<span class="lineNum">     899 </span>            : // Outer Rradius at rear
<span class="lineNum">     900 </span>            :       Float_t rOuSaa2PbRingR = 44.58;      
<span class="lineNum">     901 </span>            :       
<span class="lineNum">     902 </span><span class="lineCov">          1 :       TGeoPcon* shSaa2PbRing  = new TGeoPcon(0., 360., 2);</span>
<span class="lineNum">     903 </span>            :       z = zSaa2PbRing;
<span class="lineNum">     904 </span><span class="lineCov">          1 :       shSaa2PbRing-&gt;DefineSection(0, z, rInSaa2PbRing, rOuSaa2PbRingF);</span>
<span class="lineNum">     905 </span>            :       z += dzSaa2PbRing;
<span class="lineNum">     906 </span><span class="lineCov">          1 :       shSaa2PbRing-&gt;DefineSection(1, z, rInSaa2PbRing, rOuSaa2PbRingR);</span>
<span class="lineNum">     907 </span>            : 
<span class="lineNum">     908 </span><span class="lineCov">          1 :       TGeoVolume* voSaa2PbRing  =  new TGeoVolume(&quot;YSAA2_PbRing&quot;, shSaa2PbRing, kMedPb);</span>
<span class="lineNum">     909 </span>            : 
<span class="lineNum">     910 </span>            : 
<span class="lineNum">     911 </span>            : ///////////////////////////////////
<span class="lineNum">     912 </span>            : //    SAA2 Pb Components         //
<span class="lineNum">     913 </span>            : //    Drawing ALIP2A__0079       //
<span class="lineNum">     914 </span>            : ///////////////////////////////////
<span class="lineNum">     915 </span><span class="lineCov">          1 :       tanAlpha = TMath::Tan(1.89 / 2. * kDegRad);</span>
<span class="lineNum">     916 </span><span class="lineCov">          1 :       TGeoPcon* shSaa2PbComp  = new TGeoPcon(0., 360., 16);</span>
<span class="lineNum">     917 </span>            :       // Total length 
<span class="lineNum">     918 </span>            :       const Float_t dzSaa2PbComp    = 512.;
<span class="lineNum">     919 </span>            :       // Length of 1st bellow recess
<span class="lineNum">     920 </span>            :       Float_t dzSaa2PbCompB1  =  24.;
<span class="lineNum">     921 </span>            :       // Length of 2nd bellow recess
<span class="lineNum">     922 </span>            :       Float_t dzSaa2PbCompB2   = 27.;
<span class="lineNum">     923 </span>            :       // Flange on the SAA1 side Detail A
<span class="lineNum">     924 </span>            :       // 1st Step
<span class="lineNum">     925 </span>            :       Float_t dzSaa2PbCompA1  =   1.5;
<span class="lineNum">     926 </span>            :       Float_t rInSaa2PbCompA1 =  43.0/2.;
<span class="lineNum">     927 </span>            :       Float_t rOuSaa2PbCompA1 =  53.0/2.;
<span class="lineNum">     928 </span>            :       // 2nd Step
<span class="lineNum">     929 </span>            :       Float_t dzSaa2PbCompA2  =   1.5;
<span class="lineNum">     930 </span>            :       Float_t rInSaa2PbCompA2 =  36.8/2.;
<span class="lineNum">     931 </span>            :       Float_t rOuSaa2PbCompA2 =  rOuSaa2PbCompA1;
<span class="lineNum">     932 </span>            :       // Straight section
<span class="lineNum">     933 </span>            :       Float_t dzSaa2PbCompA3  =  21.0;
<span class="lineNum">     934 </span>            :       Float_t rInSaa2PbCompA3 =  rInSaa2PbCompA2;
<span class="lineNum">     935 </span>            :       Float_t rOuSaa2PbCompA3 =  65.2/2.;
<span class="lineNum">     936 </span>            :       //
<span class="lineNum">     937 </span>            :       // 1st Section (outer straight, inner 1.89/2. deg opening cone)
<span class="lineNum">     938 </span>            :       // Length
<span class="lineNum">     939 </span>            :       Float_t dzSaa2PbComp1   = 146.15;
<span class="lineNum">     940 </span>            :       // Inner radius at the end 
<span class="lineNum">     941 </span><span class="lineCov">          1 :       Float_t rInSaa2PbComp1  = rInSaa2PbCompA3 + dzSaa2PbComp1 * tanAlpha;</span>
<span class="lineNum">     942 </span>            :       // Outer radius
<span class="lineNum">     943 </span>            :       Float_t rOuSaa2PbComp1  = rOuSaa2PbCompA3;
<span class="lineNum">     944 </span>            :       //
<span class="lineNum">     945 </span>            :       // 2nd Section (outer straight, inner 1.89/2. deg opening cone)
<span class="lineNum">     946 </span>            :       // Length 
<span class="lineNum">     947 </span>            :       Float_t dzSaa2PbComp2   = (dzSaa2PbComp - dzSaa2PbComp1 - dzSaa2PbCompB1 - dzSaa2PbCompB2);
<span class="lineNum">     948 </span>            :       // Inner radius at the end 
<span class="lineNum">     949 </span><span class="lineCov">          1 :       Float_t rInSaa2PbComp2  = rInSaa2PbComp1 + dzSaa2PbComp2 * tanAlpha;</span>
<span class="lineNum">     950 </span>            :       // Outer radius
<span class="lineNum">     951 </span>            :       Float_t rOuSaa2PbComp2  = 86.6/2.;
<span class="lineNum">     952 </span>            :       //
<span class="lineNum">     953 </span>            :       // Flange on the SAA3 side (Detail E)
<span class="lineNum">     954 </span>            :       //
<span class="lineNum">     955 </span>            :       // Straight Section
<span class="lineNum">     956 </span>            :       // Length  dzSaa2PbCompB2 - 8.8 = 27 - 8.8 = 18.2
<span class="lineNum">     957 </span>            :       Float_t dzSaa2PbCompE1  =  18.2;
<span class="lineNum">     958 </span>            :       Float_t rInSaa2PbCompE1 =  52.0/2.;
<span class="lineNum">     959 </span>            :       Float_t rOuSaa2PbCompE1 =  86.6/2.;
<span class="lineNum">     960 </span>            :       // 45 deg transition
<span class="lineNum">     961 </span>            :       Float_t dzSaa2PbCompE2  =   2.7;
<span class="lineNum">     962 </span>            :       // 1st Step
<span class="lineNum">     963 </span>            :       Float_t dzSaa2PbCompE3  =   0.6;
<span class="lineNum">     964 </span>            :       Float_t rInSaa2PbCompE3 =  52.0/2.+ dzSaa2PbCompE2;
<span class="lineNum">     965 </span>            :       Float_t rOuSaa2PbCompE3 =  83.0/2.;
<span class="lineNum">     966 </span>            :       // 2nd Step
<span class="lineNum">     967 </span>            :       Float_t dzSaa2PbCompE4  =   4.0;
<span class="lineNum">     968 </span>            :       Float_t rOuSaa2PbCompE4 =  61.6/2.;
<span class="lineNum">     969 </span>            :       // end
<span class="lineNum">     970 </span>            :       Float_t dzSaa2PbCompE5  =   1.5;
<span class="lineNum">     971 </span>            : 
<span class="lineNum">     972 </span>            : 
<span class="lineNum">     973 </span>            :       //
<span class="lineNum">     974 </span>            :       // Flange on SAA1 side (Detail A)
<span class="lineNum">     975 </span>            :       z = 0.;
<span class="lineNum">     976 </span>            :       // 1st Step
<span class="lineNum">     977 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  0,  z, rInSaa2PbCompA1, rOuSaa2PbCompA1);</span>
<span class="lineNum">     978 </span>            :       z += dzSaa2PbCompA1;
<span class="lineNum">     979 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  1,  z, rInSaa2PbCompA1, rOuSaa2PbCompA1);</span>
<span class="lineNum">     980 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  2,  z, rInSaa2PbCompA2, rOuSaa2PbCompA2);</span>
<span class="lineNum">     981 </span>            :       // 2nd Step
<span class="lineNum">     982 </span>            :       z += dzSaa2PbCompA2;
<span class="lineNum">     983 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  3,  z, rInSaa2PbCompA2, rOuSaa2PbCompA2);</span>
<span class="lineNum">     984 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  4,  z, rInSaa2PbCompA3, rOuSaa2PbCompA3);</span>
<span class="lineNum">     985 </span>            :       // straight section
<span class="lineNum">     986 </span>            :       z += dzSaa2PbCompA3;
<span class="lineNum">     987 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  5,  z, rInSaa2PbCompA3, rOuSaa2PbCompA3);</span>
<span class="lineNum">     988 </span>            :       //
<span class="lineNum">     989 </span>            :       // Section 1
<span class="lineNum">     990 </span>            :       z += dzSaa2PbComp1;
<span class="lineNum">     991 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  6,  z, rInSaa2PbComp1, rOuSaa2PbComp1);</span>
<span class="lineNum">     992 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  7,  z, rInSaa2PbComp1, rOuSaa2PbComp2);</span>
<span class="lineNum">     993 </span>            :       //
<span class="lineNum">     994 </span>            :       // Section 2
<span class="lineNum">     995 </span>            :       z += dzSaa2PbComp2;
<span class="lineNum">     996 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  8,  z, rInSaa2PbComp2, rOuSaa2PbComp2);</span>
<span class="lineNum">     997 </span>            :       //
<span class="lineNum">     998 </span>            :       // Flange SAA3 side (Detail E)
<span class="lineNum">     999 </span>            :       z += dzSaa2PbCompE1;
<span class="lineNum">    1000 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection(  9,  z, rInSaa2PbCompE1, rOuSaa2PbCompE1);</span>
<span class="lineNum">    1001 </span>            :       // 45 deg transition
<span class="lineNum">    1002 </span>            :       z += dzSaa2PbCompE2;
<span class="lineNum">    1003 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection( 10,  z, rInSaa2PbCompE3, rOuSaa2PbCompE1);</span>
<span class="lineNum">    1004 </span>            :       // 1st step
<span class="lineNum">    1005 </span>            :       z += dzSaa2PbCompE3;
<span class="lineNum">    1006 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection( 11,  z, rInSaa2PbCompE3, rOuSaa2PbCompE1);</span>
<span class="lineNum">    1007 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection( 12,  z, rInSaa2PbCompE3, rOuSaa2PbCompE3);</span>
<span class="lineNum">    1008 </span>            :       // 2nd step
<span class="lineNum">    1009 </span>            :       z += dzSaa2PbCompE4;
<span class="lineNum">    1010 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection( 13,  z, rInSaa2PbCompE3, rOuSaa2PbCompE3);</span>
<span class="lineNum">    1011 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection( 14,  z, rInSaa2PbCompE3, rOuSaa2PbCompE4);</span>
<span class="lineNum">    1012 </span>            :       // end
<span class="lineNum">    1013 </span>            :       z += dzSaa2PbCompE5;
<span class="lineNum">    1014 </span><span class="lineCov">          1 :       shSaa2PbComp-&gt;DefineSection( 15,  z, rInSaa2PbCompE3, rOuSaa2PbCompE4);</span>
<span class="lineNum">    1015 </span>            : 
<span class="lineNum">    1016 </span><span class="lineCov">          1 :       TGeoVolume* voSaa2PbComp  =  new TGeoVolume(&quot;YSAA2_PbComp&quot;, shSaa2PbComp, kMedPbSh);</span>
<span class="lineNum">    1017 </span>            : 
<span class="lineNum">    1018 </span>            : 
<span class="lineNum">    1019 </span>            : ///////////////////////////////////
<span class="lineNum">    1020 </span>            : //    SAA2 Inner Tube            //
<span class="lineNum">    1021 </span>            : //    Drawing ALIP2A__0083       //
<span class="lineNum">    1022 </span>            : ///////////////////////////////////
<span class="lineNum">    1023 </span>            : //
<span class="lineNum">    1024 </span>            : //
<span class="lineNum">    1025 </span>            : //
<span class="lineNum">    1026 </span>            : // Length of saa2:               512.0 cm
<span class="lineNum">    1027 </span>            : // Length of inner tube:         501.7 cm 
<span class="lineNum">    1028 </span>            : // Lenth of bellow recess:        10.3 cm   ( 1.5 + 8.8) 
<span class="lineNum">    1029 </span>            : // Radius at entrance 36.8/2,  d = 0.1
<span class="lineNum">    1030 </span>            : // Radius at exit     52.0/2,  d = 0.1 
<span class="lineNum">    1031 </span>            : //
<span class="lineNum">    1032 </span>            :       const Float_t kSaa2InnerTubeL     =  501.7;    // Length of the tube  
<span class="lineNum">    1033 </span>            :       const Float_t kSaa2InnerTubeRmin  =  36.6/2.;  // Radius at entrance
<span class="lineNum">    1034 </span>            :       const Float_t kSaa2InnerTubeRmax  =  51.8/2.;  // Radius at exit
<span class="lineNum">    1035 </span>            :       const Float_t kSaa2InnerTubeD     =   0.2   ;  // Thickness     
<span class="lineNum">    1036 </span><span class="lineCov">          1 :       TGeoPcon*   shSaa2InnerTube = new TGeoPcon(0., 360., 4);</span>
<span class="lineNum">    1037 </span>            :       z = 0.;
<span class="lineNum">    1038 </span><span class="lineCov">          1 :       shSaa2InnerTube-&gt;DefineSection( 0, z, kSaa2InnerTubeRmin - kSaa2InnerTubeD, kSaa2InnerTubeRmin);</span>
<span class="lineNum">    1039 </span>            :       z += dzSaa2PbCompA2 + dzSaa2PbCompA3;
<span class="lineNum">    1040 </span><span class="lineCov">          1 :       shSaa2InnerTube-&gt;DefineSection( 1, z, kSaa2InnerTubeRmin - kSaa2InnerTubeD, kSaa2InnerTubeRmin);</span>
<span class="lineNum">    1041 </span>            :       z =  kSaa2InnerTubeL - dzSaa2PbCompE1;
<span class="lineNum">    1042 </span><span class="lineCov">          1 :       shSaa2InnerTube-&gt;DefineSection( 2, z, kSaa2InnerTubeRmax - kSaa2InnerTubeD, kSaa2InnerTubeRmax);</span>
<span class="lineNum">    1043 </span>            :       z =  kSaa2InnerTubeL;
<span class="lineNum">    1044 </span><span class="lineCov">          1 :       shSaa2InnerTube-&gt;DefineSection( 3, z, kSaa2InnerTubeRmax - kSaa2InnerTubeD, kSaa2InnerTubeRmax);</span>
<span class="lineNum">    1045 </span><span class="lineCov">          1 :       TGeoVolume* voSaa2InnerTube = new TGeoVolume(&quot;YSAA2_InnerTube&quot;, shSaa2InnerTube, kMedSteelSh);</span>
<span class="lineNum">    1046 </span>            :       
<span class="lineNum">    1047 </span>            : ///////////////////////////////////
<span class="lineNum">    1048 </span>            : //    SAA2 Steel Ring            //
<span class="lineNum">    1049 </span>            : //    Drawing ALIP2A__0042       //
<span class="lineNum">    1050 </span>            : ///////////////////////////////////
<span class="lineNum">    1051 </span>            :       //  HalfWidth
<span class="lineNum">    1052 </span>            :       Float_t dzSaa2SteelRing = 2.;
<span class="lineNum">    1053 </span><span class="lineCov">          1 :       TGeoTube*   shSaa2SteelRing  = new TGeoTube(41.6, 47.6, dzSaa2SteelRing);</span>
<span class="lineNum">    1054 </span><span class="lineCov">          1 :       TGeoVolume* voSaa2SteelRing  = new TGeoVolume(&quot;YSAA2_SteelRing&quot;, shSaa2SteelRing, kMedSteel);</span>
<span class="lineNum">    1055 </span>            : 
<span class="lineNum">    1056 </span>            : ///////////////////////////////////
<span class="lineNum">    1057 </span>            : //    SAA2 Outer Shape           //
<span class="lineNum">    1058 </span>            : //    Drawing ALIP2A__0108       //
<span class="lineNum">    1059 </span>            : ///////////////////////////////////
<span class="lineNum">    1060 </span>            : 
<span class="lineNum">    1061 </span><span class="lineCov">          1 :       TGeoPcon* shSaa2  = new TGeoPcon(0., 360., 16);</span>
<span class="lineNum">    1062 </span>            :       kSec = 0.02; // security distance to avoid trivial extrusions
<span class="lineNum">    1063 </span>            :       rmin = kSaa2InnerTubeRmin - kSaa2InnerTubeD - kSec;
<span class="lineNum">    1064 </span>            :       rmax = kSaa2InnerTubeRmax - kSaa2InnerTubeD - kSec;
<span class="lineNum">    1065 </span>            :       // Flange SAA1 side
<span class="lineNum">    1066 </span>            :       z = 0.;
<span class="lineNum">    1067 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 0, z, rmin           , rOuSaa2PbCompA1);</span>
<span class="lineNum">    1068 </span>            :       z += dzSaa2PbCompA1 + dzSaa2PbCompA2;
<span class="lineNum">    1069 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 1, z, rmin           , rOuSaa2PbCompA1);</span>
<span class="lineNum">    1070 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 2, z, rmin           , rInSaa2StEnv1 + dSt);</span>
<span class="lineNum">    1071 </span>            :       z += dzSaa2PbCompA3;
<span class="lineNum">    1072 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 3, z, rmin           , rInSaa2StEnv1 + dSt);</span>
<span class="lineNum">    1073 </span>            :       z = zSaa2PbRing;
<span class="lineNum">    1074 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 4, z, 0.             , rInSaa2StEnv1 + dSt);</span>
<span class="lineNum">    1075 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 5, z, 0.             , rOuSaa2PbRingF);</span>
<span class="lineNum">    1076 </span>            :       z += dzSaa2PbRing;
<span class="lineNum">    1077 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 6, z, 0.             , rOuSaa2PbRingR);</span>
<span class="lineNum">    1078 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 7, z, 0.             , rInSaa2StEnv1 + dSt);</span>
<span class="lineNum">    1079 </span>            :       z = dzSaa2PbCompA1 + dzSaa2PbCompA2 + dzSaa2StEnv1;
<span class="lineNum">    1080 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 8, z, 0.             , rInSaa2StEnv1 + dSt);</span>
<span class="lineNum">    1081 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection( 9, z, 0.             , rInSaa2StEnv2 + dSt);</span>
<span class="lineNum">    1082 </span>            :       z = dzSaa2PbComp - dzSaa2PbCompB2;
<span class="lineNum">    1083 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection(10, z, rmax           , rInSaa2StEnv2 + dSt);</span>
<span class="lineNum">    1084 </span>            :       z += dzSaa2PbCompE1;
<span class="lineNum">    1085 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection(11, z, rmax           , rInSaa2StEnv2 + dSt);</span>
<span class="lineNum">    1086 </span>            :       z += dzSaa2PbCompE2;
<span class="lineNum">    1087 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection(12, z, rInSaa2PbCompE3, rInSaa2StEnv2 + dSt);</span>
<span class="lineNum">    1088 </span>            :       z += (dzSaa2PbCompE3 + dzSaa2PbCompE4);
<span class="lineNum">    1089 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection(13, z, rInSaa2PbCompE3, rInSaa2StEnv2 + dSt);</span>
<span class="lineNum">    1090 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection(14, z, rInSaa2PbCompE3, rOuSaa2PbCompE4);</span>
<span class="lineNum">    1091 </span>            :       z += dzSaa2PbCompE5;
<span class="lineNum">    1092 </span><span class="lineCov">          1 :       shSaa2-&gt;DefineSection(15, z, rInSaa2PbCompE3, rOuSaa2PbCompE4);</span>
<span class="lineNum">    1093 </span>            : 
<span class="lineNum">    1094 </span><span class="lineCov">          1 :       TGeoVolume* voSaa2  =  new TGeoVolume(&quot;YSAA2&quot;, shSaa2, kMedAir);</span>
<span class="lineNum">    1095 </span><span class="lineCov">          1 :       voSaa2-&gt;SetVisibility(0);</span>
<span class="lineNum">    1096 </span>            : // Inner 1.89/2 deg line
<span class="lineNum">    1097 </span>            :       Double_t zref   = dzSaa2PbCompA1 + dzSaa2PbCompA2 + dzSaa2PbCompA3;
<span class="lineNum">    1098 </span><span class="lineCov">         14 :       for (Int_t i  = 4; i &lt; 10; i++) {</span>
<span class="lineNum">    1099 </span><span class="lineCov">          6 :           Double_t zp = shSaa2-&gt;GetZ(i);</span>
<span class="lineNum">    1100 </span><span class="lineCov">          6 :           Double_t r2 = shSaa2-&gt;GetRmax(i);   </span>
<span class="lineNum">    1101 </span><span class="lineCov">          6 :           Double_t r1 = rmin + (zp -  zref) * TMath::Tan(1.89 / 2. * kDegRad) - kSec;</span>
<span class="lineNum">    1102 </span><span class="lineCov">          6 :           shSaa2-&gt;DefineSection(i, zp, r1, r2);</span>
<span class="lineNum">    1103 </span>            :       }
<span class="lineNum">    1104 </span>            : 
<span class="lineNum">    1105 </span>            : //
<span class="lineNum">    1106 </span>            : //    Assemble SAA2
<span class="lineNum">    1107 </span><span class="lineCov">          1 :       voSaa2-&gt;AddNode(voSaa2StEnv,     1, gGeoIdentity);</span>
<span class="lineNum">    1108 </span><span class="lineCov">          1 :       voSaa2-&gt;AddNode(voSaa2PbRing,    1, gGeoIdentity);</span>
<span class="lineNum">    1109 </span><span class="lineCov">          1 :       voSaa2-&gt;AddNode(voSaa2PbComp,    1, gGeoIdentity);</span>
<span class="lineNum">    1110 </span><span class="lineCov">          2 :       voSaa2-&gt;AddNode(voSaa2InnerTube, 1, new TGeoTranslation(0., 0., dzSaa2PbCompA1));</span>
<span class="lineNum">    1111 </span>            :       z = (dzSaa2PbComp - dzSaa2PbCompE4 - dzSaa2PbCompE5) + dzSaa2SteelRing;
<span class="lineNum">    1112 </span><span class="lineCov">          2 :       voSaa2-&gt;AddNode(voSaa2SteelRing, 1, new TGeoTranslation(0., 0., z));</span>
<span class="lineNum">    1113 </span>            : 
<span class="lineNum">    1114 </span>            : 
<span class="lineNum">    1115 </span>            : ///////////////////////////////////////
<span class="lineNum">    1116 </span>            : //                SAA3               //
<span class="lineNum">    1117 </span>            : ///////////////////////////////////////
<span class="lineNum">    1118 </span>            : //
<span class="lineNum">    1119 </span>            : //
<span class="lineNum">    1120 </span>            : //  This is a study performed by S. Maridor
<span class="lineNum">    1121 </span>            : //  The SAA3 has not yet been designed !!!!!!!!
<span class="lineNum">    1122 </span>            : //
<span class="lineNum">    1123 </span>            : ///////////////////////////////////
<span class="lineNum">    1124 </span>            : //    SAA3 Outer Shape           //
<span class="lineNum">    1125 </span>            : //    Drawing ALIP2A__0288       //
<span class="lineNum">    1126 </span>            : ///////////////////////////////////
<span class="lineNum">    1127 </span><span class="lineCov">          1 :       TGeoVolumeAssembly* voSaa3  = new TGeoVolumeAssembly(&quot;YSAA3&quot;);</span>
<span class="lineNum">    1128 </span>            : ///////////////////////////////////
<span class="lineNum">    1129 </span>            : //    SAA3 Concrete cone         //
<span class="lineNum">    1130 </span>            : //    Drawing ALIP2A__0284       //
<span class="lineNum">    1131 </span>            : ///////////////////////////////////
<span class="lineNum">    1132 </span>            : //    Block
<span class="lineNum">    1133 </span><span class="lineCov">          1 :       TGeoBBox* shSaa3CCBlockO   = new TGeoBBox(80./2., 80./2., 80./2.);  // modified by ernesto.calvo@pucp.edu.pe</span>
<span class="lineNum">    1134 </span><span class="lineCov">          1 :       shSaa3CCBlockO-&gt;SetName(&quot;Saa3CCBlockO&quot;);</span>
<span class="lineNum">    1135 </span>            : 
<span class="lineNum">    1136 </span><span class="lineCov">          1 :       TGeoPcon* shSaa3InnerRegion  = new TGeoPcon(0., 360., 4);</span>
<span class="lineNum">    1137 </span>            :       // + 10.0 cm // ecv
<span class="lineNum">    1138 </span><span class="lineCov">          1 :       shSaa3InnerRegion-&gt;DefineSection( 0, -50.0, 0., 27.1);</span>
<span class="lineNum">    1139 </span><span class="lineCov">          1 :       shSaa3InnerRegion-&gt;DefineSection( 1, -13.0, 0., 27.1);</span>
<span class="lineNum">    1140 </span><span class="lineCov">          1 :       shSaa3InnerRegion-&gt;DefineSection( 2,  39.1, 0., 12.3);</span>
<span class="lineNum">    1141 </span><span class="lineCov">          1 :       shSaa3InnerRegion-&gt;DefineSection( 3,  80.0, 0., 12.3);</span>
<span class="lineNum">    1142 </span><span class="lineCov">          1 :       shSaa3InnerRegion-&gt;SetName(&quot;Saa3InnerRegion&quot;);</span>
<span class="lineNum">    1143 </span>            : 
<span class="lineNum">    1144 </span><span class="lineCov">          1 :       TGeoCompositeShape* shSaa3CCBlock = new TGeoCompositeShape(&quot;Saa3CCBlock&quot;, &quot;Saa3CCBlockO-Saa3InnerRegion&quot;);</span>
<span class="lineNum">    1145 </span><span class="lineCov">          1 :       TGeoVolume* voSaa3CCBlock         = new TGeoVolume(&quot;YSAA3CCBlock&quot;, shSaa3CCBlock, kMedConcSh);     </span>
<span class="lineNum">    1146 </span>            : 
<span class="lineNum">    1147 </span>            :       
<span class="lineNum">    1148 </span><span class="lineCov">          1 :       voSaa3-&gt;AddNode(voSaa3CCBlock, 1, gGeoIdentity);</span>
<span class="lineNum">    1149 </span>            :       
<span class="lineNum">    1150 </span>            : //    Plate 1: 240 cm x 80 cm x  80 cm (x 2)
<span class="lineNum">    1151 </span><span class="lineCov">          2 :       TGeoVolume* voSaa3SteelPlate1  =  new TGeoVolume(&quot;YSAA3SteelPlate1&quot;, </span>
<span class="lineNum">    1152 </span><span class="lineCov">          3 :                                                        new TGeoBBox(240./2., 80./2.,  80./2.),</span>
<span class="lineNum">    1153 </span>            :                                                        kMedSteelSh);
<span class="lineNum">    1154 </span><span class="lineCov">          2 :       TGeoVolume* voSaa3SteelPlate11 =  new TGeoVolume(&quot;YSAA3SteelPlate11&quot;, </span>
<span class="lineNum">    1155 </span><span class="lineCov">          3 :                                                        new TGeoBBox(240./2., 80./2., 10./2.),</span>
<span class="lineNum">    1156 </span>            :                                                        kMedSteel);
<span class="lineNum">    1157 </span><span class="lineCov">          1 :       voSaa3SteelPlate11-&gt;SetVisContainers(kTRUE);</span>
<span class="lineNum">    1158 </span><span class="lineCov">          1 :       voSaa3SteelPlate1 -&gt;SetVisibility(kTRUE);</span>
<span class="lineNum">    1159 </span><span class="lineCov">          2 :       voSaa3SteelPlate1-&gt;AddNode(voSaa3SteelPlate11, 1, new TGeoTranslation(0., 0., -35.));</span>
<span class="lineNum">    1160 </span><span class="lineCov">          2 :       voSaa3-&gt;AddNode(voSaa3SteelPlate1, 1, new TGeoTranslation(0., +80., 0.));</span>
<span class="lineNum">    1161 </span><span class="lineCov">          2 :       voSaa3-&gt;AddNode(voSaa3SteelPlate1, 2, new TGeoTranslation(0., -80., 0.));</span>
<span class="lineNum">    1162 </span>            : 
<span class="lineNum">    1163 </span>            : 
<span class="lineNum">    1164 </span>            : //    Plate 2:  80 cm x 80 cm x  80 cm (x 2)
<span class="lineNum">    1165 </span><span class="lineCov">          2 :       TGeoVolume* voSaa3SteelPlate2  =  new TGeoVolume(&quot;YSAA3SteelPlate2&quot;, </span>
<span class="lineNum">    1166 </span><span class="lineCov">          3 :                                                        new TGeoBBox( 80./2., 80./2.,  80./2.),</span>
<span class="lineNum">    1167 </span>            :                                                        kMedSteelSh);
<span class="lineNum">    1168 </span><span class="lineCov">          2 :       TGeoVolume* voSaa3SteelPlate21 =  new TGeoVolume(&quot;YSAA3SteelPlate21&quot;, </span>
<span class="lineNum">    1169 </span><span class="lineCov">          3 :                                                        new TGeoBBox( 80./2., 80./2., 10./2.),</span>
<span class="lineNum">    1170 </span>            :                                                        kMedSteel);
<span class="lineNum">    1171 </span><span class="lineCov">          2 :       voSaa3SteelPlate2-&gt;AddNode(voSaa3SteelPlate21, 1, new TGeoTranslation(0., 0., -35.));</span>
<span class="lineNum">    1172 </span><span class="lineCov">          2 :       voSaa3-&gt;AddNode(voSaa3SteelPlate2, 1, new TGeoTranslation(+80, 0., 0.));</span>
<span class="lineNum">    1173 </span><span class="lineCov">          2 :       voSaa3-&gt;AddNode(voSaa3SteelPlate2, 2, new TGeoTranslation(-80, 0., 0.));</span>
<span class="lineNum">    1174 </span>            : 
<span class="lineNum">    1175 </span>            : 
<span class="lineNum">    1176 </span>            : 
<span class="lineNum">    1177 </span>            : 
<span class="lineNum">    1178 </span>            : ///////////////////////////////////
<span class="lineNum">    1179 </span>            : //    Muon Filter                //
<span class="lineNum">    1180 </span>            : //    Drawing ALIP2A__0105       //
<span class="lineNum">    1181 </span>            : ///////////////////////////////////
<span class="lineNum">    1182 </span>            :       // Half Length 
<span class="lineNum">    1183 </span>            :       const Float_t dzMuonFilter = 60.;
<span class="lineNum">    1184 </span>            :       
<span class="lineNum">    1185 </span><span class="lineCov">          1 :       TGeoBBox*   shMuonFilterO  = new TGeoBBox(550./2., 620./2., dzMuonFilter);</span>
<span class="lineNum">    1186 </span><span class="lineCov">          1 :       shMuonFilterO-&gt;SetName(&quot;FilterO&quot;);</span>
<span class="lineNum">    1187 </span><span class="lineCov">          1 :       TGeoCombiTrans* trFilter = new TGeoCombiTrans(&quot;trFilter&quot;, 0., -dzMuonFilter * TMath::Tan(alhc * kDegrad), 0., rotlhc);</span>
<span class="lineNum">    1188 </span><span class="lineCov">          1 :       trFilter-&gt;RegisterYourself();</span>
<span class="lineNum">    1189 </span><span class="lineCov">          1 :       TGeoTube*   shMuonFilterI  = new TGeoTube(0., 48.8, dzMuonFilter + 20.);</span>
<span class="lineNum">    1190 </span><span class="lineCov">          1 :       shMuonFilterI-&gt;SetName(&quot;FilterI&quot;);</span>
<span class="lineNum">    1191 </span><span class="lineCov">          1 :       TGeoCompositeShape* shMuonFilter = new TGeoCompositeShape(&quot;MuonFilter&quot;, &quot;FilterO-FilterI:trFilter&quot;);</span>
<span class="lineNum">    1192 </span>            :       //
<span class="lineNum">    1193 </span>            :       // !!!!! Needs to be inclined
<span class="lineNum">    1194 </span><span class="lineCov">          1 :       TGeoVolume* voMuonFilter = new TGeoVolume(&quot;YMuonFilter&quot;, shMuonFilter, kMedCastiron);</span>
<span class="lineNum">    1195 </span>            : 
<span class="lineNum">    1196 </span>            :       // Inner part with higher transport cuts
<span class="lineNum">    1197 </span>            :       Float_t dzMuonFilterH = 50.;
<span class="lineNum">    1198 </span><span class="lineCov">          1 :       TGeoBBox*   shMuonFilterOH  = new TGeoBBox(550./2., 620./2., dzMuonFilterH);</span>
<span class="lineNum">    1199 </span><span class="lineCov">          1 :       shMuonFilterOH-&gt;SetName(&quot;FilterOH&quot;);</span>
<span class="lineNum">    1200 </span><span class="lineCov">          1 :       TGeoTube*   shMuonFilterIH  = new TGeoTube(0., 50., dzMuonFilterH + 5.);</span>
<span class="lineNum">    1201 </span><span class="lineCov">          1 :       shMuonFilterIH-&gt;SetName(&quot;FilterIH&quot;);</span>
<span class="lineNum">    1202 </span><span class="lineCov">          1 :       TGeoCompositeShape* shMuonFilterH = new TGeoCompositeShape(&quot;MuonFilterH&quot;, &quot;FilterOH-FilterIH:trFilter&quot;);</span>
<span class="lineNum">    1203 </span><span class="lineCov">          1 :       TGeoVolume* voMuonFilterH = new TGeoVolume(&quot;YMuonFilterH&quot;, shMuonFilterH, kMedCastironSh);</span>
<span class="lineNum">    1204 </span><span class="lineCov">          1 :       voMuonFilter-&gt;AddNode(voMuonFilterH, 1, gGeoIdentity);</span>
<span class="lineNum">    1205 </span>            :       
<span class="lineNum">    1206 </span>            : //  
<span class="lineNum">    1207 </span><span class="lineCov">          1 :       TGeoVolumeAssembly* voSaa  = new TGeoVolumeAssembly(&quot;YSAA&quot;);</span>
<span class="lineNum">    1208 </span>            : //
<span class="lineNum">    1209 </span>            : //    Starting position of the FA Flange/Tail 
<span class="lineNum">    1210 </span>            :       const Float_t ziFaWTail   = 499.0;
<span class="lineNum">    1211 </span>            : //    End of the FA Flange/Tail
<span class="lineNum">    1212 </span>            :       const Float_t zoFaWTail   = ziFaWTail + dzFaWTail;
<span class="lineNum">    1213 </span>            : //    Starting position of the FA/SAA1 Joint (2.8 cm overlap with tail)
<span class="lineNum">    1214 </span>            :       const Float_t ozFaSaa1    = 2.8;
<span class="lineNum">    1215 </span>            :       const Float_t ziFaSaa1    = zoFaWTail - ozFaSaa1;
<span class="lineNum">    1216 </span>            : //    End of the FA/SAA1 Joint
<span class="lineNum">    1217 </span>            :       const Float_t zoFaSaa1    = ziFaSaa1 +  dzFaSaa1;
<span class="lineNum">    1218 </span>            : //    Starting position of SAA1 (2.0 cm overlap with joint)     
<span class="lineNum">    1219 </span>            :       const Float_t ozSaa1      = 2.;
<span class="lineNum">    1220 </span>            :       const Float_t ziSaa1      = zoFaSaa1 - ozSaa1;
<span class="lineNum">    1221 </span>            : //    End of SAA1
<span class="lineNum">    1222 </span>            :       const Float_t zoSaa1      = ziSaa1 + dzSaa1;
<span class="lineNum">    1223 </span>            : //    Starting position of SAA1/SAA2 Joint (1.95 cm overlap with SAA1)
<span class="lineNum">    1224 </span>            :       const Float_t ziSaa1Saa2  = zoSaa1 - 1.95;
<span class="lineNum">    1225 </span>            : //    End of SAA1/SAA2 Joint
<span class="lineNum">    1226 </span>            :       const Float_t zoSaa1Saa2  = ziSaa1Saa2 + dzSaa1Saa2;
<span class="lineNum">    1227 </span>            : //    Starting position of SAA2 (3.1 cm overlap with the joint)
<span class="lineNum">    1228 </span>            :       const Float_t ziSaa2      = zoSaa1Saa2 - 3.1;
<span class="lineNum">    1229 </span>            : //    End of SAA2
<span class="lineNum">    1230 </span>            :       const Float_t zoSaa2      = ziSaa2 + dzSaa2PbComp;
<span class="lineNum">    1231 </span>            : //    Position of SAA3
<span class="lineNum">    1232 </span>            :       const Float_t zcSaa3      = zoSaa2 + 40.; // ecv (put the CC block 5cm closer to the Wall)  // &lt;--cancell that!! (cancelled)
<span class="lineNum">    1233 </span>            : //    Position of the Muon Filter
<span class="lineNum">    1234 </span>            :       const Float_t zcFilter    = 1465.9 + dzMuonFilter;
<span class="lineNum">    1235 </span>            : 
<span class="lineNum">    1236 </span><span class="lineCov">          2 :       voSaa-&gt;AddNode(voFaWTail,    1, new TGeoTranslation(0., 0., ziFaWTail));</span>
<span class="lineNum">    1237 </span><span class="lineCov">          2 :       voSaa-&gt;AddNode(voFaSaa1,     1, new TGeoTranslation(0., 0., ziFaSaa1));</span>
<span class="lineNum">    1238 </span><span class="lineCov">          2 :       voSaa-&gt;AddNode(voSaa1 ,      1, new TGeoTranslation(0., 0., ziSaa1));</span>
<span class="lineNum">    1239 </span><span class="lineCov">          2 :       voSaa-&gt;AddNode(voSaa1Saa2,   1, new TGeoTranslation(0., 0., ziSaa1Saa2 - 0.1));</span>
<span class="lineNum">    1240 </span><span class="lineCov">          2 :       voSaa-&gt;AddNode(voSaa2 ,      1, new TGeoTranslation(0., 0., ziSaa2));</span>
<span class="lineNum">    1241 </span>            : 
<span class="lineNum">    1242 </span>            : //
<span class="lineNum">    1243 </span>            : //    Add Saa3 to Saa and Saa to top volume
<span class="lineNum">    1244 </span>            : //
<span class="lineNum">    1245 </span><span class="lineCov">          2 :       voSaa-&gt;AddNode(voSaa3,       1, new TGeoTranslation(0., 0., zcSaa3));</span>
<span class="lineNum">    1246 </span>            :       
<span class="lineNum">    1247 </span>            : 
<span class="lineNum">    1248 </span><span class="lineCov">          1 :       TGeoRotation* rotxz  = new TGeoRotation(&quot;rotxz&quot;,   90.,   0., 90.,  90., 180., 0.);</span>
<span class="lineNum">    1249 </span><span class="lineCov">          2 :       top-&gt;AddNode(voSaa, 1, new TGeoCombiTrans(0., 0., 0., rotxz));</span>
<span class="lineNum">    1250 </span>            : 
<span class="lineNum">    1251 </span>            : 
<span class="lineNum">    1252 </span>            : 
<span class="lineNum">    1253 </span>            : //
<span class="lineNum">    1254 </span>            : //  Mother volume for muon stations 1+2 and shielding material placed between the quadrants
<span class="lineNum">    1255 </span>            : //
<span class="lineNum">    1256 </span>            :       // Position of the dipole
<span class="lineNum">    1257 </span>            :       Float_t ziDipole = 741.;
<span class="lineNum">    1258 </span>            :       
<span class="lineNum">    1259 </span><span class="lineCov">          1 :       TGeoPcon* shYOUT1 = new TGeoPcon(0., 360., 24);</span>
<span class="lineNum">    1260 </span>            :       Float_t eps = 1.e-2;
<span class="lineNum">    1261 </span>            :       // FA Tail Section
<span class="lineNum">    1262 </span><span class="lineCov">         18 :       for (Int_t iz =  1; iz &lt; 9; iz++) {</span>
<span class="lineNum">    1263 </span><span class="lineCov">          8 :           z = shFaWTail-&gt;GetZ(iz+1);</span>
<span class="lineNum">    1264 </span><span class="lineCov">          9 :           if (iz == 8) z -= ozFaSaa1;</span>
<span class="lineNum">    1265 </span><span class="lineCov">          8 :           shYOUT1-&gt;DefineSection(iz-1, z + ziFaWTail, shFaWTail-&gt;GetRmax(iz+1) + eps, 150.);</span>
<span class="lineNum">    1266 </span>            :       }
<span class="lineNum">    1267 </span>            :       // FA-SAA1 Joint
<span class="lineNum">    1268 </span><span class="lineCov">          1 :       z = shYOUT1-&gt;GetZ(7);</span>
<span class="lineNum">    1269 </span>            :       
<span class="lineNum">    1270 </span><span class="lineCov">         18 :       for (Int_t iz =  9; iz &lt; 17; iz++) </span>
<span class="lineNum">    1271 </span><span class="lineCov">          8 :           shYOUT1-&gt;DefineSection(iz-1, z + shFaSaa1-&gt;GetZ(iz-9), shFaSaa1-&gt;GetRmax(iz-9) + eps, 150.);</span>
<span class="lineNum">    1272 </span>            : 
<span class="lineNum">    1273 </span><span class="lineCov">          1 :       z = shYOUT1-&gt;GetZ(15) - ozSaa1;</span>
<span class="lineNum">    1274 </span>            :       // SAA1  - Dipole
<span class="lineNum">    1275 </span><span class="lineCov">         16 :       for (Int_t iz = 17; iz &lt; 24; iz++) </span>
<span class="lineNum">    1276 </span><span class="lineCov">          7 :           shYOUT1-&gt;DefineSection(iz-1, z + shSaa1M-&gt;GetZ(iz-13), shSaa1M-&gt;GetRmax(iz-13) + eps, 150.); </span>
<span class="lineNum">    1277 </span>            :       // Distance between dipole and start of SAA1 2deg opening cone
<span class="lineNum">    1278 </span>            :       dz   = ziDipole - (zSaa1StEnv[0] - dSt + zSaa1StEnvS + ziSaa1);
<span class="lineNum">    1279 </span><span class="lineCov">          1 :       rOut = rOuSaa1StEnv2 + dz * TMath::Tan(2. * kDegRad);</span>
<span class="lineNum">    1280 </span>            :       
<span class="lineNum">    1281 </span><span class="lineCov">          1 :       shYOUT1-&gt;DefineSection(23, ziDipole, rOut + eps, 150.);</span>
<span class="lineNum">    1282 </span>            : 
<span class="lineNum">    1283 </span><span class="lineCov">          1 :       InvertPcon(shYOUT1);</span>
<span class="lineNum">    1284 </span><span class="lineCov">          1 :       TGeoVolume* voYOUT1 = new TGeoVolume(&quot;YOUT1&quot;, shYOUT1, kMedAirMu);</span>
<span class="lineNum">    1285 </span><span class="lineCov">          1 :       voYOUT1-&gt;SetVisibility(0);</span>
<span class="lineNum">    1286 </span>            : 
<span class="lineNum">    1287 </span><span class="lineCov">          2 :       voYOUT1-&gt;AddNode(asSaa1ExtraShield, 1, new TGeoCombiTrans(0., 0., - (100.7 + 62.2 + saa1ExtraShieldL / 2. + ziFaWTail), rotxz));</span>
<span class="lineNum">    1288 </span><span class="lineCov">          2 :       voYOUT1-&gt;AddNode(asFaExtraShield,   1, new TGeoCombiTrans(0., 0., - (16.41 - 1.46 + kFaWring2HWidth + ziFaWTail), rotxz));</span>
<span class="lineNum">    1289 </span><span class="lineCov">          1 :       top-&gt;AddNode(voYOUT1, 1, gGeoIdentity);</span>
<span class="lineNum">    1290 </span>            : //
<span class="lineNum">    1291 </span>            : //  Mother volume for muon stations 4+5 and trigger stations.
<span class="lineNum">    1292 </span>            : //
<span class="lineNum">    1293 </span>            :       Float_t zoDipole = 1249.;
<span class="lineNum">    1294 </span>            :       
<span class="lineNum">    1295 </span><span class="lineCov">          1 :       TGeoPcon* shYOUT21 = new TGeoPcon(0., 360., 14);</span>
<span class="lineNum">    1296 </span>            :       z =  zoDipole;
<span class="lineNum">    1297 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection(0, z,             rOuSaa1String,       375.);</span>
<span class="lineNum">    1298 </span>            : //    Start of SAA1-SAA2
<span class="lineNum">    1299 </span>            :       z = ziSaa1Saa2;
<span class="lineNum">    1300 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection(1, z,             rOuSaa1String,       375.);</span>
<span class="lineNum">    1301 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection(2, z,             rOuSaa1Saa2Steel,    375.);</span>
<span class="lineNum">    1302 </span>            : //    End of SAA1-SAA2
<span class="lineNum">    1303 </span>            :       z = ziSaa2;
<span class="lineNum">    1304 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection(3, z,             rOuSaa1Saa2Steel,    375.);</span>
<span class="lineNum">    1305 </span>            : //    SAA2
<span class="lineNum">    1306 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection( 4, z,            rInSaa2StEnv1 + dSt, 375.);</span>
<span class="lineNum">    1307 </span>            :       z = ziSaa2 + zSaa2PbRing;
<span class="lineNum">    1308 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection( 5, z,            rInSaa2StEnv1 + dSt, 375.);</span>
<span class="lineNum">    1309 </span>            : //    Pb Cone
<span class="lineNum">    1310 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection( 6, z,            rOuSaa2PbRingF,      375.);</span>
<span class="lineNum">    1311 </span><span class="lineCov">          1 :       rmin = rOuSaa2PbRingF + (1380. - z) * TMath::Tan(1.6 * kDegRad);</span>
<span class="lineNum">    1312 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection( 7, 1380., rmin, 375.);</span>
<span class="lineNum">    1313 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection( 8, 1380., rmin, 375.);</span>
<span class="lineNum">    1314 </span>            :       z = ziSaa2 + zSaa2PbRing + dzSaa2PbRing;
<span class="lineNum">    1315 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection( 9, z,            rOuSaa2PbRingR,      375.);</span>
<span class="lineNum">    1316 </span>            : //    Straight Sections
<span class="lineNum">    1317 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection(10, z,            rInSaa2StEnv1 + dSt, 460.);</span>
<span class="lineNum">    1318 </span>            :       z = ziSaa2 + dzSaa2StEnv1;
<span class="lineNum">    1319 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection(11, z,            rInSaa2StEnv1 + dSt, 460.);</span>
<span class="lineNum">    1320 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection(12, z,            rInSaa2StEnv2 + dSt, 460.);</span>
<span class="lineNum">    1321 </span>            :       z += dzSaa2StEnv2;
<span class="lineNum">    1322 </span><span class="lineCov">          1 :       shYOUT21-&gt;DefineSection(13, z,            rInSaa2StEnv2 + dSt, 460.);</span>
<span class="lineNum">    1323 </span>            :             
<span class="lineNum">    1324 </span><span class="lineCov">          1 :       InvertPcon(shYOUT21);</span>
<span class="lineNum">    1325 </span><span class="lineCov">          1 :       shYOUT21-&gt;SetName(&quot;shYOUT21&quot;);</span>
<span class="lineNum">    1326 </span>            : 
<span class="lineNum">    1327 </span><span class="lineCov">          1 :       TGeoBBox* shYOUT22 = new TGeoBBox(460. , 200., 65. - 1.5);</span>
<span class="lineNum">    1328 </span><span class="lineCov">          1 :       shYOUT22-&gt;SetName(&quot;shYOUT22&quot;);</span>
<span class="lineNum">    1329 </span>            :       
<span class="lineNum">    1330 </span><span class="lineCov">          1 :       TGeoTranslation* tYOUT22 = new TGeoTranslation(0., -310. - 200., -zcFilter);</span>
<span class="lineNum">    1331 </span><span class="lineCov">          1 :       tYOUT22-&gt;SetName(&quot;tYOUT22&quot;);</span>
<span class="lineNum">    1332 </span><span class="lineCov">          1 :       tYOUT22-&gt;RegisterYourself();</span>
<span class="lineNum">    1333 </span>            :       
<span class="lineNum">    1334 </span>            : 
<span class="lineNum">    1335 </span><span class="lineCov">          1 :       TGeoCompositeShape* shYOUT2 = new TGeoCompositeShape(&quot;shYOUT2&quot;, &quot;shYOUT21-shYOUT22:tYOUT22&quot;);</span>
<span class="lineNum">    1336 </span>            :       
<span class="lineNum">    1337 </span><span class="lineCov">          1 :       TGeoVolume* voYOUT2 = new TGeoVolume(&quot;YOUT2&quot;, shYOUT2, kMedAirMu);</span>
<span class="lineNum">    1338 </span><span class="lineCov">          1 :       voYOUT2-&gt;SetVisibility(1);</span>
<span class="lineNum">    1339 </span><span class="lineCov">          2 :       voYOUT2-&gt;AddNode(voMuonFilter, 1, new TGeoCombiTrans(0., dzMuonFilter * TMath::Tan(alhc * kDegrad), -zcFilter, rotxzlhc));</span>
<span class="lineNum">    1340 </span><span class="lineCov">          1 :       top-&gt;AddNode(voYOUT2, 1, gGeoIdentity);</span>
<a name="1341"><span class="lineNum">    1341 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">    1342 </span>            : 
<span class="lineNum">    1343 </span>            : void AliSHILv3::Init()
<span class="lineNum">    1344 </span>            : {
<span class="lineNum">    1345 </span>            :   //
<span class="lineNum">    1346 </span>            :   // Initialise the muon shield after it has been built
<span class="lineNum">    1347 </span>            :   //
<span class="lineNum">    1348 </span>            :   Int_t i;
<span class="lineNum">    1349 </span>            :   //
<span class="lineNum">    1350 </span><span class="lineCov">          2 :   if(AliLog::GetGlobalDebugLevel()&gt;0) {</span>
<span class="lineNum">    1351 </span><span class="lineNoCov">          0 :     printf(&quot;\n%s: &quot;,ClassName());</span>
<span class="lineNum">    1352 </span><span class="lineNoCov">          0 :     for(i=0;i&lt;35;i++) printf(&quot;*&quot;);</span>
<span class="lineNum">    1353 </span><span class="lineNoCov">          0 :     printf(&quot; SHILv3_INIT &quot;);</span>
<span class="lineNum">    1354 </span><span class="lineNoCov">          0 :     for(i=0;i&lt;35;i++) printf(&quot;*&quot;);</span>
<span class="lineNum">    1355 </span><span class="lineNoCov">          0 :     printf(&quot;\n%s: &quot;,ClassName());</span>
<span class="lineNum">    1356 </span>            :     //
<span class="lineNum">    1357 </span>            :     // Here the SHIL initialisation code (if any!)
<span class="lineNum">    1358 </span><span class="lineNoCov">          0 :     for(i=0;i&lt;80;i++) printf(&quot;*&quot;);</span>
<span class="lineNum">    1359 </span><span class="lineNoCov">          0 :     printf(&quot;\n&quot;);</span>
<span class="lineNum">    1360 </span><span class="lineNoCov">          0 :   }</span>
<a name="1361"><span class="lineNum">    1361 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">    1362 </span>            : 
<span class="lineNum">    1363 </span>            : void AliSHILv3::InvertPcon(TGeoPcon* pcon)
<span class="lineNum">    1364 </span>            : {
<span class="lineNum">    1365 </span>            : //
<span class="lineNum">    1366 </span>            : //  z -&gt; -z
<span class="lineNum">    1367 </span>            : // 
<span class="lineNum">    1368 </span><span class="lineCov">          4 :     Int_t nz = pcon-&gt;GetNz();</span>
<span class="lineNum">    1369 </span><span class="lineCov">          2 :     Double_t* z    = new Double_t[nz];</span>
<span class="lineNum">    1370 </span><span class="lineCov">          2 :     Double_t* rmin = new Double_t[nz];</span>
<span class="lineNum">    1371 </span><span class="lineCov">          2 :     Double_t* rmax = new Double_t[nz];</span>
<span class="lineNum">    1372 </span>            : 
<span class="lineNum">    1373 </span><span class="lineCov">          2 :     Double_t*  z0    = pcon-&gt;GetZ();</span>
<span class="lineNum">    1374 </span><span class="lineCov">          2 :     Double_t*  rmin0 = pcon-&gt;GetRmin();</span>
<span class="lineNum">    1375 </span><span class="lineCov">          2 :     Double_t*  rmax0 = pcon-&gt;GetRmax();</span>
<span class="lineNum">    1376 </span>            :     
<span class="lineNum">    1377 </span><span class="lineCov">         80 :     for (Int_t i = 0; i &lt; nz; i++) {</span>
<span class="lineNum">    1378 </span><span class="lineCov">         38 :         z[i] = z0[i];</span>
<span class="lineNum">    1379 </span><span class="lineCov">         38 :         rmin[i] = rmin0[i];</span>
<span class="lineNum">    1380 </span><span class="lineCov">         38 :         rmax[i] = rmax0[i];     </span>
<span class="lineNum">    1381 </span>            :     }
<span class="lineNum">    1382 </span>            :     
<span class="lineNum">    1383 </span><span class="lineCov">         80 :     for (Int_t i = 0; i &lt; nz; i++) {</span>
<span class="lineNum">    1384 </span><span class="lineCov">         38 :         Int_t j = nz - i - 1;</span>
<span class="lineNum">    1385 </span><span class="lineCov">         38 :         pcon-&gt;DefineSection(i, - z[j], rmin[j], rmax[j]);</span>
<span class="lineNum">    1386 </span>            :     }
<span class="lineNum">    1387 </span>            :     
<span class="lineNum">    1388 </span><span class="lineCov">          4 :     delete[] z;</span>
<span class="lineNum">    1389 </span><span class="lineCov">          4 :     delete[] rmin;</span>
<span class="lineNum">    1390 </span><span class="lineCov">          4 :     delete[] rmax;</span>
<a name="1391"><span class="lineNum">    1391 </span><span class="lineCov">          2 : }</span></a>
<span class="lineNum">    1392 </span>            : 
<span class="lineNum">    1393 </span>            : TGeoPcon* AliSHILv3::MakeShapeFromTemplate(const TGeoPcon* pcon, Float_t drMin, Float_t drMax)
<span class="lineNum">    1394 </span>            : {
<span class="lineNum">    1395 </span>            :     // 
<span class="lineNum">    1396 </span>            :     // Returns new shape based on a template changing
<span class="lineNum">    1397 </span>            :     // the inner radii by drMin and the outer radii by drMax.
<span class="lineNum">    1398 </span>            :     //
<span class="lineNum">    1399 </span><span class="lineCov">          6 :     Int_t nz = pcon-&gt;GetNz();</span>
<span class="lineNum">    1400 </span><span class="lineCov">          3 :     TGeoPcon* cpcon = new TGeoPcon(0., 360., nz);</span>
<span class="lineNum">    1401 </span><span class="lineCov">         60 :     for (Int_t i = 0; i &lt; nz; i++) </span>
<span class="lineNum">    1402 </span><span class="lineCov">         27 :         cpcon-&gt;DefineSection(i, pcon-&gt;GetZ(i), pcon-&gt;GetRmin(i) + drMin, pcon-&gt;GetRmax(i) + drMax);</span>
<span class="lineNum">    1403 </span><span class="lineCov">          3 :     return cpcon;</span>
<span class="lineNum">    1404 </span><span class="lineNoCov">          0 : }</span>
<span class="lineNum">    1405 </span>            : 
<span class="lineNum">    1406 </span>            : 
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.11</a></td></tr>
  </table>
  <br>

</body>
</html>
